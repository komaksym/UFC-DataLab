(()=>{var e,t,i={480:function(e,t,i){var n;!function(r,s){"use strict";var o="function",a="undefined",l="object",c="string",d="model",u="name",p="type",h="vendor",f="version",v="architecture",m="console",g="mobile",y="tablet",_="smarttv",b="wearable",w="embedded",E="Amazon",A="Apple",k="ASUS",x="BlackBerry",S="Browser",L="Chrome",C="Firefox",M="Google",T="Huawei",I="LG",P="Microsoft",D="Motorola",O="Opera",N="Samsung",j="Sharp",R="Sony",F="Xiaomi",z="Zebra",U="Facebook",B=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},W=function(e,t){return typeof e===c&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},$=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},H=function(e,t){for(var i,n,r,a,c,d,u=0;u<t.length&&!c;){var p=t[u],h=t[u+1];for(i=n=0;i<p.length&&!c;)if(c=p[i++].exec(e))for(r=0;r<h.length;r++)d=c[++n],typeof(a=h[r])===l&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):s:this[a[0]]=d?a[1].call(this,d,a[2]):s:4===a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):s):this[a]=d||s;u+=2}},q=function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(W(t[i][n],e))return"?"===i?s:i}else if(W(t[i],e))return"?"===i?s:i;return e},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,O+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,O]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+S],f],[/\bfocus\/([\w\.]+)/i],[f,[u,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,O+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,O+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[f,[u,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+S]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+S],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,U],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,L+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,L+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,f],[/(cobalt)\/([\w\.]+)/i],[u,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,V]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,N],[p,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,N],[p,g]],[/((ipod|iphone)\d+,\d+)/i],[d,[h,A],[p,g]],[/(ipad\d+,\d+)/i],[d,[h,A],[p,y]],[/\((ip(?:hone|od)[\w ]*);/i],[d,[h,A],[p,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,A],[p,y]],[/(macintosh);/i],[d,[h,A]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[h,T],[p,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[h,T],[p,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[h,F],[p,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[h,F],[p,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,"OPPO"],[p,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[p,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[p,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,D],[p,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,D],[p,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,I],[p,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,I],[p,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[h,"Lenovo"],[p,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[h,"Nokia"],[p,g]],[/(pixel c)\b/i],[d,[h,M],[p,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,M],[p,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,R],[p,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,R],[p,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,"OnePlus"],[p,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,E],[p,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,E],[p,g]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[p,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,x],[p,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,k],[p,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,k],[p,g]],[/(nexus 9)/i],[d,[h,"HTC"],[p,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[p,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[p,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[p,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,j],[p,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[p,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[p,y]],[/(surface duo)/i],[d,[h,P],[p,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[p,g]],[/(u304aa)/i],[d,[h,"AT&T"],[p,g]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[p,g]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[p,y]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[p,y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[p,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[p,y]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[p,y]],[/\b(k88) b/i],[d,[h,"ZTE"],[p,y]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[p,g]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[p,g]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[p,y]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[p,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[p,y]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[p,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[p,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[p,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[p,g]],[/\b(ph-1) /i],[d,[h,"Essential"],[p,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[p,y]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[p,y]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[p,y]],[/(shield[\w ]+) b/i],[d,[h,"Nvidia"],[p,y]],[/(sprint) (\w+)/i],[h,d,[p,g]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,P],[p,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,z],[p,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,z],[p,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[p,m]],[/droid.+; (shield) bui/i],[d,[h,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[d,[h,R],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,P],[p,m]],[/smart-tv.+(samsung)/i],[h,[p,_]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,N],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,I],[p,_]],[/(apple) ?tv/i],[h,[d,A+" TV"],[p,_]],[/crkey/i],[[d,L+"cast"],[h,M],[p,_]],[/droid.+aft(\w)( bui|\))/i],[d,[h,E],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[h,j],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[d,[h,R],[p,_]],[/(mitv-\w{5}) bui/i],[d,[h,F],[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,$],[d,$],[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/((pebble))app/i],[h,d,[p,b]],[/droid.+; (glass) \d/i],[d,[h,M],[p,b]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,z],[p,b]],[/(quest( 2)?)/i],[d,[h,U],[p,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[p,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,g]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,q,K]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,q,K]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[u,L+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,f]]},Z=function(e,t){if(typeof e===l&&(t=e,e=s),!(this instanceof Z))return new Z(e,t).getResult();var i=e||(typeof r!==a&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),n=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(G,t):G;return this.getBrowser=function(){var e,t={};return t[u]=s,t[f]=s,H.call(t,i,n.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:s,t},this.getCPU=function(){var e={};return e[v]=s,H.call(e,i,n.cpu),e},this.getDevice=function(){var e={};return e[h]=s,e[d]=s,e[p]=s,H.call(e,i,n.device),e},this.getEngine=function(){var e={};return e[u]=s,e[f]=s,H.call(e,i,n.engine),e},this.getOS=function(){var e={};return e[u]=s,e[f]=s,H.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>350?$(e,350):e,this},this.setUA(i),this};Z.VERSION="0.7.33",Z.BROWSER=B([u,f,"major"]),Z.CPU=B([v]),Z.DEVICE=B([d,h,p,m,g,_,y,b,w]),Z.ENGINE=Z.OS=B([u,f]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):i.amdO?(n=function(){return Z}.call(t,i,t,e))===s||(e.exports=n):typeof r!==a&&(r.UAParser=Z);var Y=typeof r!==a&&(r.jQuery||r.Zepto);if(Y&&!Y.ua){var Q=new Z;Y.ua=Q.getResult(),Y.ua.get=function(){return Q.getUA()},Y.ua.set=function(e){Q.setUA(e);var t=Q.getResult();for(var i in t)Y.ua[i]=t[i]}}}("object"==typeof window?window:this)},548:function(e,t){!function(e){"use strict";var t="function"==typeof WeakMap,i=Object.keys;function n(e,t){return e===t||e!=e&&t!=t}function r(e){return e.constructor===Object||null==e.constructor}function s(e){return!!e&&"function"==typeof e.then}function o(e){return!(!e||!e.$$typeof)}function a(){var e=[];return{delete:function(t){for(var i=0;i<e.length;++i)if(e[i][0]===t)return void e.splice(i,1)},get:function(t){for(var i=0;i<e.length;++i)if(e[i][0]===t)return e[i][1]},set:function(t,i){for(var n=0;n<e.length;++n)if(e[n][0]===t)return void(e[n][1]=i);e.push([t,i])}}}var l=t?function(){return new WeakMap}:a;function c(e){return function(t){var i=e||t;return function(e,t,n,r,s,o,a){void 0===a&&(a=l());var c=!!e&&"object"==typeof e,d=!!t&&"object"==typeof t;if(c!==d)return!1;if(!c&&!d)return i(e,t,a);var u=a.get(e);if(u&&a.get(t))return u===t;a.set(e,t),a.set(t,e);var p=i(e,t,a);return a.delete(e),a.delete(t),p}}}function d(e,t,i,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!i(e[r],t[r],r,r,e,t,n))return!1;return!0}function u(e,t,i,n){var r=e.size===t.size;if(r&&e.size){var s={},o=0;e.forEach((function(a,l){if(r){var c=!1,d=0;t.forEach((function(r,u){c||s[d]||(c=i(l,u,o,d,e,t,n)&&i(a,r,l,u,e,t,n))&&(s[d]=!0),d++})),o++,r=c}}))}return r}var p="_owner",h=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function f(e,t,n,r){var s=i(e),a=s.length;if(i(t).length!==a)return!1;if(a)for(var l=void 0;a-- >0;){if((l=s[a])===p){var c=o(e),d=o(t);if((c||d)&&c!==d)return!1}if(!h(t,l)||!n(e[l],t[l],l,l,e,t,r))return!1}return!0}var v="g"===/foo/g.flags?function(e,t){return e.source===t.source&&e.flags===t.flags}:function(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex};function m(e,t,i,n){var r=e.size===t.size;if(r&&e.size){var s={};e.forEach((function(o,a){if(r){var l=!1,c=0;t.forEach((function(r,d){l||s[c]||(l=i(o,r,a,d,e,t,n))&&(s[c]=!0),c++})),r=l}}))}return r}var g="function"==typeof Map,y="function"==typeof Set,_=Object.prototype.valueOf;function b(e){var t="function"==typeof e?e(i):function(e,t,n,r,s,o,a){return i(e,t,a)};function i(e,i,o){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(r(e)&&r(i))return f(e,i,t,o);var a=Array.isArray(e),l=Array.isArray(i);return a||l?a===l&&d(e,i,t,o):(a=e instanceof Date,l=i instanceof Date,a||l?a===l&&n(e.getTime(),i.getTime()):(a=e instanceof RegExp,l=i instanceof RegExp,a||l?a===l&&v(e,i):s(e)||s(i)?e===i:g&&(a=e instanceof Map,l=i instanceof Map,a||l)?a===l&&u(e,i,t,o):y&&(a=e instanceof Set,l=i instanceof Set,a||l)?a===l&&m(e,i,t,o):e.valueOf!==_||i.valueOf!==_?n(e.valueOf(),i.valueOf()):f(e,i,t,o)))}return e!=e&&i!=i}return i}var w=b(),E=b((function(){return n})),A=b(c()),k=b(c(n));e.circularDeepEqual=A,e.circularShallowEqual=k,e.createCustomEqual=b,e.deepEqual=w,e.sameValueZeroEqual=n,e.shallowEqual=E,Object.defineProperty(e,"__esModule",{value:!0})}(t)},78:function(e){e.exports=function(){"use strict";var e={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},t=Array.prototype.slice;function i(e){var i=e.length;return i?1===i?[e[0]]:2===i?[e[0],e[1]]:3===i?[e[0],e[1],e[2]]:t.call(e,0):[]}function n(t){var i={};for(var n in t)e[n]||(i[n]=t[n]);return i}function r(e){return"function"==typeof e&&e.isMemoized}function s(e,t){return e===t||e!=e&&t!=t}function o(e,t){var i={};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];return i}var a=function(){function e(e){this.keys=[],this.values=[],this.options=e;var t="function"==typeof e.isMatchingKey;t?this.getKeyIndex=this._getKeyIndexFromMatchingKey:e.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey="function"==typeof e.transformKey,this.shouldCloneArguments=this.canTransformKey||t,this.shouldUpdateOnAdd="function"==typeof e.onCacheAdd,this.shouldUpdateOnChange="function"==typeof e.onCacheChange,this.shouldUpdateOnHit="function"==typeof e.onCacheHit}return Object.defineProperty(e.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"snapshot",{get:function(){return{keys:i(this.keys),size:this.size,values:i(this.values)}},enumerable:!1,configurable:!0}),e.prototype._getKeyIndexFromMatchingKey=function(e){var t=this.options,i=t.isMatchingKey,n=t.maxSize,r=this.keys,s=r.length;if(!s)return-1;if(i(r[0],e))return 0;if(n>1)for(var o=1;o<s;o++)if(i(r[o],e))return o;return-1},e.prototype._getKeyIndexForMany=function(e){var t=this.options.isEqual,i=this.keys,n=i.length;if(!n)return-1;if(1===n)return this._getKeyIndexForSingle(e);var r,s,o=e.length;if(o>1){for(var a=0;a<n;a++)if((r=i[a]).length===o){for(s=0;s<o&&t(r[s],e[s]);s++);if(s===o)return a}}else for(a=0;a<n;a++)if((r=i[a]).length===o&&t(r[0],e[0]))return a;return-1},e.prototype._getKeyIndexForSingle=function(e){var t=this.keys;if(!t.length)return-1;var i=t[0],n=i.length;if(e.length!==n)return-1;var r=this.options.isEqual;if(n>1){for(var s=0;s<n;s++)if(!r(i[s],e[s]))return-1;return 0}return r(i[0],e[0])?0:-1},e.prototype.orderByLru=function(e,t,i){for(var n=this.keys,r=this.values,s=n.length,o=i;o--;)n[o+1]=n[o],r[o+1]=r[o];n[0]=e,r[0]=t;var a=this.options.maxSize;s===a&&i===s?(n.pop(),r.pop()):i>=a&&(n.length=r.length=a)},e.prototype.updateAsyncCache=function(e){var t=this,i=this.options,n=i.onCacheChange,r=i.onCacheHit,s=this.keys[0],o=this.values[0];this.values[0]=o.then((function(i){return t.shouldUpdateOnHit&&r(t,t.options,e),t.shouldUpdateOnChange&&n(t,t.options,e),i}),(function(e){var i=t.getKeyIndex(s);throw-1!==i&&(t.keys.splice(i,1),t.values.splice(i,1)),e}))},e}();function l(e,t){if(void 0===t&&(t={}),r(e))return l(e.fn,o(e.options,t));if("function"!=typeof e)throw new TypeError("You must pass a function to `memoize`.");var c=t.isEqual,d=void 0===c?s:c,u=t.isMatchingKey,p=t.isPromise,h=void 0!==p&&p,f=t.maxSize,v=void 0===f?1:f,m=t.onCacheAdd,g=t.onCacheChange,y=t.onCacheHit,_=t.transformKey,b=o({isEqual:d,isMatchingKey:u,isPromise:h,maxSize:v,onCacheAdd:m,onCacheChange:g,onCacheHit:y,transformKey:_},n(t)),w=new a(b),E=w.keys,A=w.values,k=w.canTransformKey,x=w.shouldCloneArguments,S=w.shouldUpdateOnAdd,L=w.shouldUpdateOnChange,C=w.shouldUpdateOnHit,M=function(){var t=x?i(arguments):arguments;k&&(t=_(t));var n=E.length?w.getKeyIndex(t):-1;if(-1!==n)C&&y(w,b,M),n&&(w.orderByLru(E[n],A[n],n),L&&g(w,b,M));else{var r=e.apply(this,arguments),s=x?t:i(arguments);w.orderByLru(s,r,E.length),h&&w.updateAsyncCache(M),S&&m(w,b,M),L&&g(w,b,M)}return A[0]};return M.cache=w,M.fn=e,M.isMemoized=!0,M.options=b,M}return l}()},336:function(e,t,i){e.exports=function(e,t){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i.apply(this,arguments)}function n(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}var r={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t){return"function"==typeof e?"function"==typeof t?function(){e.apply(this,arguments),t.apply(this,arguments)}:e:"function"==typeof t?t:void 0}))}function o(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t){return"function"==typeof e?"function"==typeof t?function(){return e(t.apply(this,arguments))}:e:"function"==typeof t?t:void 0}))}function a(e,t){for(var i=0;i<e.length;i++)if(e[i].key===t)return i;return-1}function l(e,t){var i="function"==typeof t?t:function(t,i){for(var n=0;n<i.length;n++)if(!e(t[n],i[n]))return!1;return!0};return function(e,t){for(var n=0;n<e.length;n++)if(e[n].length===t.length&&i(e[n],t))return n;return-1}}function c(e,t){return t&&t!==r?i({},e,t,{onCacheAdd:s(e.onCacheAdd,t.onCacheAdd),onCacheChange:s(e.onCacheChange,t.onCacheChange),onCacheHit:s(e.onCacheHit,t.onCacheHit),transformArgs:o(e.transformArgs,t.transformArgs)}):e}function d(e){return"function"==typeof e&&e.isMoized}function u(e,t,i){try{var n=i||t||"anonymous";Object.defineProperty(e,"name",{configurable:!0,enumerable:!1,value:"moized("+n+")",writable:!0})}catch(e){}}function p(e,t,i){var n=a(e,t);-1!==n&&(clearTimeout(e[n].timeoutId),i&&e.splice(n,1))}function h(e,t){var i=setTimeout(e,t);return"function"==typeof i.unref&&i.unref(),i}function f(e,t,i,n){var r=t.maxAge;return function s(o,c,d){var u=o.keys[0];if(-1===a(e,u)){var f=function(){var r=l(i,n)(o.keys,u),a=o.values[r];~r&&(o.keys.splice(r,1),o.values.splice(r,1),"function"==typeof t.onCacheChange&&t.onCacheChange(o,c,d)),p(e,u,!0),"function"==typeof t.onExpire&&!1===t.onExpire(u)&&(o.keys.unshift(u),o.values.unshift(a),s(o,c,d),"function"==typeof t.onCacheChange&&t.onCacheChange(o,c,d))};e.push({expirationMethod:f,key:u,timeoutId:h(f,r)})}}}function v(e,t){return function(i){var n=i.keys[0],r=a(e,n);~r&&(p(e,n,!1),e[r].timeoutId=h(e[r].expirationMethod,t.maxAge))}}function m(e,t,i,n){var r="number"==typeof t.maxAge&&isFinite(t.maxAge)?f(e,t,i,n):void 0;return{onCacheAdd:r,onCacheHit:r&&t.updateExpire?v(e,t):void 0}}var g={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},y=!1;function _(e){e?delete g.profiles[e]:g.profiles={}}function b(e){void 0===e&&(e=!0),g.isCollectingStats=e}function w(e){var t=e.profileName;return function(){t&&!g.profiles[t]&&(g.profiles[t]={calls:0,hits:0}),g.profiles[t].calls++}}function E(e){return function(){var t=g.profiles,i=e.profileName;t[i]||(t[i]={calls:0,hits:0}),t[i].calls++,t[i].hits++}}function A(e){return e.displayName||e.name||"Anonymous "+g.anonymousProfileNameCounter++}function k(e,t){return e?(t/e*100).toFixed(4)+"%":"0.0000%"}function x(e){g.isCollectingStats||y||(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),y=!0);var t=g.profiles;if(e){if(!t[e])return{calls:0,hits:0,usage:"0.0000%"};var n=t[e];return i({},n,{usage:k(n.calls,n.hits)})}var r=Object.keys(g.profiles).reduce((function(e,i){return e.calls+=t[i].calls,e.hits+=t[i].hits,e}),{calls:0,hits:0});return i({},r,{profiles:Object.keys(t).reduce((function(e,t){return e[t]=x(t),e}),{}),usage:k(r.calls,r.hits)})}function S(e){return g.isCollectingStats?{onCacheAdd:w(e),onCacheHit:E(e)}:{}}var L={arguments:!0,callee:!0,caller:!0,constructor:!0,length:!0,name:!0,prototype:!0};function C(e,t,i){void 0===i&&(i=[]),Object.getOwnPropertyNames(e).forEach((function(n){if(!L[n]&&-1===i.indexOf(n)){var r=Object.getOwnPropertyDescriptor(e,n);r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}}))}function M(e,t){var i=t.expirations,n=e.options,r=l(n.isEqual,n.isMatchingKey),s=e;s.clear=function(){var e=s._microMemoizeOptions.onCacheChange,t=s.cache;return t.keys.length=0,t.values.length=0,e&&e(t,s.options,s),!0},s.clearStats=function(){_(s.options.profileName)},s.get=function(e){var t=s._microMemoizeOptions.transformKey,i=s.cache,n=t?t(e):e;return-1!==r(i.keys,n)?s.apply(this,e):void 0},s.getStats=function(){return x(s.options.profileName)},s.has=function(e){var t=s._microMemoizeOptions.transformKey,i=t?t(e):e;return-1!==r(s.cache.keys,i)},s.keys=function(){return s.cacheSnapshot.keys},s.remove=function(e){var t=s._microMemoizeOptions,n=t.onCacheChange,o=t.transformKey,a=s.cache,l=r(a.keys,o?o(e):e);if(-1===l)return!1;var c=a.keys[l];return a.keys.splice(l,1),a.values.splice(l,1),n&&n(a,s.options,s),p(i,c,!0),!0},s.set=function(e,t){var i=s._microMemoizeOptions,n=s.cache,o=s.options,a=i.onCacheAdd,l=i.onCacheChange,c=i.transformKey,d=c?c(e):e,u=r(n.keys,d);if(-1===u){var p=o.maxSize-1;n.size>p&&(n.keys.length=p,n.values.length=p),n.keys.unshift(d),n.values.unshift(t),o.isPromise&&n.updateAsyncCache(s),a&&a(n,o,s),l&&l(n,o,s)}else{var h=n.keys[u];n.values[u]=t,u>0&&n.orderByLru(h,t,u),o.isPromise&&n.updateAsyncCache(s),"function"==typeof l&&l(n,o,s)}},s.values=function(){return s.cacheSnapshot.values}}function T(e,t){var i=t.expirations,n=t.options,r=t.originalFunction,s=e.options;Object.defineProperties(e,{_microMemoizeOptions:{configurable:!0,get:function(){return s}},cacheSnapshot:{configurable:!0,get:function(){var t=e.cache;return{keys:t.keys.slice(0),size:t.size,values:t.values.slice(0)}}},expirations:{configurable:!0,get:function(){return i}},expirationsSnapshot:{configurable:!0,get:function(){return i.slice(0)}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return n}},originalFunction:{configurable:!0,get:function(){return r}}}),C(r,e)}function I(e,t){return M(e,t),T(e,t),e}var P="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function D(e,t,n){var r=e(i({maxArgs:2,isShallowEqual:!0},n,{isReact:!1}));function s(e,i,n){this.props=e,this.context=i,this.updater=n,this.MoizedComponent=r(t)}return t.displayName||(t.displayName=t.name||"Component"),s.prototype.isReactComponent={},s.prototype.render=function(){return{$$typeof:P,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},C(t,s,["contextType","contextTypes"]),s.displayName="Moized("+(t.displayName||t.name||"Component")+")",u(s,t.name,n.profileName),s}function O(e){return function(t){if(e>=t.length)return t;if(0===e)return[];if(1===e)return[t[0]];if(2===e)return[t[0],t[1]];if(3===e)return[t[0],t[1],t[2]];for(var i=[],n=0;n<e;n++)i[n]=t[n];return i}}function N(e,t){for(var i=e.length,n=0;n<i;++n)if(e[n]===t)return n+1;return 0}function j(){var e=[],t=[];return function(i,n){var r=typeof n;if("function"===r||"symbol"===r)return n.toString();if("object"==typeof n){if(e.length){var s=N(e,this);0===s?e[e.length]=this:(e.splice(s),t.splice(s)),t[t.length]=i;var o=N(e,n);if(0!==o)return"[ref="+(t.slice(0,o).join(".")||".")+"]"}else e[0]=n,t[0]=i;return n}return""+n}}function R(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?e:JSON.stringify(e,j())}function F(e){for(var t="|",i=0;i<e.length;i++)t+=R(e[i])+"|";return[t]}function z(e){return"function"==typeof e.serializer?e.serializer:F}function U(e,t){return e[0]===t[0]}function B(e){if("function"==typeof e)return function(t,i,n){return e(n.cache,n.options,n)}}function W(e){return e.matchesArg||e.isDeepEqual&&t.deepEqual||e.isShallowEqual&&t.shallowEqual||t.sameValueZeroEqual}function V(e){return e.matchesKey||e.isSerialized&&U||void 0}function $(e){return o(e.isSerialized&&z(e),"function"==typeof e.transformArgs&&e.transformArgs,"number"==typeof e.maxArgs&&O(e.maxArgs))}function H(e){var t=e.options.updateCacheForKey,i=function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(!t(n))return e.apply(this,n);var s=e.fn.apply(this,n);return e.set(n,s),s};return C(e,i),i}var q=["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"],K=function t(o,a){var l=a||r;if(d(o)){var p=o.originalFunction,h=c(o.options,l);return t(p,h)}if("object"==typeof o)return function(e,i){if("function"==typeof e){var n=c(o,i);return t(e,n)}var r=c(o,e);return t(r)};if(l.isReact)return D(t,o,l);var f=i({},r,l,{maxAge:"number"==typeof l.maxAge&&l.maxAge>=0?l.maxAge:r.maxAge,maxArgs:"number"==typeof l.maxArgs&&l.maxArgs>=0?l.maxArgs:r.maxArgs,maxSize:"number"==typeof l.maxSize&&l.maxSize>=0?l.maxSize:r.maxSize,profileName:l.profileName||A(o)}),v=[];f.matchesArg,f.isDeepEqual;var g=f.isPromise;f.isReact,f.isSerialized,f.isShallowEqual,f.matchesKey,f.maxAge,f.maxArgs;var y=f.maxSize,_=f.onCacheAdd,b=f.onCacheChange,w=f.onCacheHit;f.onExpire,f.profileName,f.serializer;var E=f.updateCacheForKey;f.transformArgs,f.updateExpire;var k=n(f,q),x=W(f),L=V(f),C=m(v,f,x,L),M=S(f),T=$(f),P=i({},k,{isEqual:x,isMatchingKey:L,isPromise:g,maxSize:y,onCacheAdd:B(s(_,C.onCacheAdd,M.onCacheAdd)),onCacheChange:B(b),onCacheHit:B(s(w,C.onCacheHit,M.onCacheHit)),transformKey:T}),O=I(e(o,P),{expirations:v,options:f,originalFunction:o});return E&&(O=H(O)),u(O,o.name,l.profileName),O};function G(e,t){if(!0===t)return K({maxAge:e,updateExpire:t});if("object"==typeof t){var i=t.onExpire,n=t.updateExpire;return K({maxAge:e,onExpire:i,updateExpire:n})}return K("function"==typeof t?{maxAge:e,onExpire:t,updateExpire:!0}:{maxAge:e})}return K.clearStats=_,K.collectStats=b,K.compose=function(){return o.apply(void 0,arguments)||K},K.deep=K({isDeepEqual:!0}),K.getStats=x,K.infinite=K({maxSize:1/0}),K.isCollectingStats=function(){return g.isCollectingStats},K.isMoized=function(e){return"function"==typeof e&&!!e.isMoized},K.matchesArg=function(e){return K({matchesArg:e})},K.matchesKey=function(e){return K({matchesKey:e})},K.maxAge=G,K.maxArgs=function(e){return K({maxArgs:e})},K.maxSize=function(e){return K({maxSize:e})},K.profile=function(e){return K({profileName:e})},K.promise=K({isPromise:!0,updateExpire:!0}),K.react=K({isReact:!0}),K.serialize=K({isSerialized:!0}),K.serializeWith=function(e){return K({isSerialized:!0,serializer:e})},K.shallow=K({isShallowEqual:!0}),K.transformArgs=function(e){return K({transformArgs:e})},K.updateCacheForKey=function(e){return K({updateCacheForKey:e})},Object.defineProperty(K,"default",{configurable:!1,enumerable:!1,value:K,writable:!1}),K}(i(78),i(548))}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return i[e].call(s.exports,s,s.exports,r),s.exports}r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,r.d(s,o),s},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{"use strict";var e,t,i,n,s,o,a,l,c,d,u={},p=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=Array.isArray;function v(e,t){for(var i in t)e[i]=t[i];return e}function m(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function g(t,i,n){var r,s,o,a={};for(o in i)"key"==o?r=i[o]:"ref"==o?s=i[o]:a[o]=i[o];if(arguments.length>2&&(a.children=arguments.length>3?e.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===a[o]&&(a[o]=t.defaultProps[o]);return y(t,a,r,s,null)}function y(e,n,r,s,o){var a={type:e,props:n,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++i:o,__i:-1,__u:0};return null==o&&null!=t.vnode&&t.vnode(a),a}function _(e){return e.children}function b(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?w(e):null}function E(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return E(e)}}function A(e){(!e.__d&&(e.__d=!0)&&n.push(e)&&!k.__r++||s!==t.debounceRendering)&&((s=t.debounceRendering)||o)(k)}function k(){var e,i,r,s,o,l,c,d;for(n.sort(a);e=n.shift();)e.__d&&(i=n.length,s=void 0,l=(o=(r=e).__v).__e,c=[],d=[],r.__P&&((s=v({},o)).__v=o.__v+1,t.vnode&&t.vnode(s),D(r.__P,s,o,r.__n,r.__P.namespaceURI,32&o.__u?[l]:null,c,null==l?w(o):l,!!(32&o.__u),d),s.__v=o.__v,s.__.__k[s.__i]=s,O(c,s,d),s.__e!=l&&E(s)),n.length>i&&n.sort(a));k.__r=0}function x(e,t,i,n,r,s,o,a,l,c,d){var h,f,v,m,g,y=n&&n.__k||p,_=t.length;for(i.__d=l,S(i,t,y),l=i.__d,h=0;h<_;h++)null!=(v=i.__k[h])&&(f=-1===v.__i?u:y[v.__i]||u,v.__i=h,D(e,v,f,r,s,o,a,l,c,d),m=v.__e,v.ref&&f.ref!=v.ref&&(f.ref&&j(f.ref,null,v),d.push(v.ref,v.__c||m,v)),null==g&&null!=m&&(g=m),65536&v.__u||f.__k===v.__k?l=L(v,l,e):"function"==typeof v.type&&void 0!==v.__d?l=v.__d:m&&(l=m.nextSibling),v.__d=void 0,v.__u&=-196609);i.__d=l,i.__e=g}function S(e,t,i){var n,r,s,o,a,l=t.length,c=i.length,d=c,u=0;for(e.__k=[],n=0;n<l;n++)null!=(r=t[n])&&"boolean"!=typeof r&&"function"!=typeof r?(o=n+u,(r=e.__k[n]="string"==typeof r||"number"==typeof r||"bigint"==typeof r||r.constructor==String?y(null,r,null,null,null):f(r)?y(_,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?y(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,s=null,-1!==(a=r.__i=M(r,i,o,d))&&(d--,(s=i[a])&&(s.__u|=131072)),null==s||null===s.__v?(-1==a&&u--,"function"!=typeof r.type&&(r.__u|=65536)):a!==o&&(a==o-1?u--:a==o+1?u++:(a>o?u--:u++,r.__u|=65536))):r=e.__k[n]=null;if(d)for(n=0;n<c;n++)null!=(s=i[n])&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=w(s)),R(s,s))}function L(e,t,i){var n,r;if("function"==typeof e.type){for(n=e.__k,r=0;n&&r<n.length;r++)n[r]&&(n[r].__=e,t=L(n[r],t,i));return t}e.__e!=t&&(t&&e.type&&!i.contains(t)&&(t=w(e)),i.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function C(e,t){return t=t||[],null==e||"boolean"==typeof e||(f(e)?e.some((function(e){C(e,t)})):t.push(e)),t}function M(e,t,i,n){var r=e.key,s=e.type,o=i-1,a=i+1,l=t[i];if(null===l||l&&r==l.key&&s===l.type&&!(131072&l.__u))return i;if(n>(null==l||131072&l.__u?0:1))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&s===l.type)return a;a++}}return-1}function T(e,t,i){"-"===t[0]?e.setProperty(t,null==i?"":i):e[t]=null==i?"":"number"!=typeof i||h.test(t)?i:i+"px"}function I(e,t,i,n,r){var s;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||T(e.style,t,"");if(i)for(t in i)n&&i[t]===n[t]||T(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=i,i?n?i.u=n.u:(i.u=l,e.addEventListener(t,s?d:c,s)):e.removeEventListener(t,s?d:c,s);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null==i||!1===i&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==i?"":i))}}function P(e){return function(i){if(this.l){var n=this.l[i.type+e];if(null==i.t)i.t=l++;else if(i.t<n.u)return;return n(t.event?t.event(i):i)}}}function D(e,i,n,r,s,o,a,l,c,d){var u,p,h,m,g,y,w,E,A,k,S,L,C,M,T,I,P=i.type;if(void 0!==i.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[l=i.__e=n.__e]),(u=t.__b)&&u(i);e:if("function"==typeof P)try{if(E=i.props,A="prototype"in P&&P.prototype.render,k=(u=P.contextType)&&r[u.__c],S=u?k?k.props.value:u.__:r,n.__c?w=(p=i.__c=n.__c).__=p.__E:(A?i.__c=p=new P(E,S):(i.__c=p=new b(E,S),p.constructor=P,p.render=F),k&&k.sub(p),p.props=E,p.state||(p.state={}),p.context=S,p.__n=r,h=p.__d=!0,p.__h=[],p._sb=[]),A&&null==p.__s&&(p.__s=p.state),A&&null!=P.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,P.getDerivedStateFromProps(E,p.__s))),m=p.props,g=p.state,p.__v=i,h)A&&null==P.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),A&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(A&&null==P.getDerivedStateFromProps&&E!==m&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(E,S),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(E,p.__s,S)||i.__v===n.__v)){for(i.__v!==n.__v&&(p.props=E,p.state=p.__s,p.__d=!1),i.__e=n.__e,i.__k=n.__k,i.__k.some((function(e){e&&(e.__=i)})),L=0;L<p._sb.length;L++)p.__h.push(p._sb[L]);p._sb=[],p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(E,p.__s,S),A&&null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(m,g,y)}))}if(p.context=S,p.props=E,p.__P=e,p.__e=!1,C=t.__r,M=0,A){for(p.state=p.__s,p.__d=!1,C&&C(i),u=p.render(p.props,p.state,p.context),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[]}else do{p.__d=!1,C&&C(i),u=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++M<25);p.state=p.__s,null!=p.getChildContext&&(r=v(v({},r),p.getChildContext())),A&&!h&&null!=p.getSnapshotBeforeUpdate&&(y=p.getSnapshotBeforeUpdate(m,g)),x(e,f(I=null!=u&&u.type===_&&null==u.key?u.props.children:u)?I:[I],i,n,r,s,o,a,l,c,d),p.base=i.__e,i.__u&=-161,p.__h.length&&a.push(p),w&&(p.__E=p.__=null)}catch(e){if(i.__v=null,c||null!=o){for(i.__u|=c?160:32;l&&8===l.nodeType&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,i.__e=l}else i.__e=n.__e,i.__k=n.__k;t.__e(e,i,n)}else null==o&&i.__v===n.__v?(i.__k=n.__k,i.__e=n.__e):i.__e=N(n.__e,i,n,r,s,o,a,c,d);(u=t.diffed)&&u(i)}function O(e,i,n){i.__d=void 0;for(var r=0;r<n.length;r++)j(n[r],n[++r],n[++r]);t.__c&&t.__c(i,e),e.some((function(i){try{e=i.__h,i.__h=[],e.some((function(e){e.call(i)}))}catch(e){t.__e(e,i.__v)}}))}function N(i,n,r,s,o,a,l,c,d){var p,h,v,g,y,_,b,E=r.props,A=n.props,k=n.type;if("svg"===k?o="http://www.w3.org/2000/svg":"math"===k?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=a)for(p=0;p<a.length;p++)if((y=a[p])&&"setAttribute"in y==!!k&&(k?y.localName===k:3===y.nodeType)){i=y,a[p]=null;break}if(null==i){if(null===k)return document.createTextNode(A);i=document.createElementNS(o,k,A.is&&A),c&&(t.__m&&t.__m(n,a),c=!1),a=null}if(null===k)E===A||c&&i.data===A||(i.data=A);else{if(a=a&&e.call(i.childNodes),E=r.props||u,!c&&null!=a)for(E={},p=0;p<i.attributes.length;p++)E[(y=i.attributes[p]).name]=y.value;for(p in E)if(y=E[p],"children"==p);else if("dangerouslySetInnerHTML"==p)v=y;else if(!(p in A)){if("value"==p&&"defaultValue"in A||"checked"==p&&"defaultChecked"in A)continue;I(i,p,null,y,o)}for(p in A)y=A[p],"children"==p?g=y:"dangerouslySetInnerHTML"==p?h=y:"value"==p?_=y:"checked"==p?b=y:c&&"function"!=typeof y||E[p]===y||I(i,p,y,E[p],o);if(h)c||v&&(h.__html===v.__html||h.__html===i.innerHTML)||(i.innerHTML=h.__html),n.__k=[];else if(v&&(i.innerHTML=""),x(i,f(g)?g:[g],n,r,s,"foreignObject"===k?"http://www.w3.org/1999/xhtml":o,a,l,a?a[0]:r.__k&&w(r,0),c,d),null!=a)for(p=a.length;p--;)m(a[p]);c||(p="value","progress"===k&&null==_?i.removeAttribute("value"):void 0!==_&&(_!==i[p]||"progress"===k&&!_||"option"===k&&_!==E[p])&&I(i,p,_,E[p],o),p="checked",void 0!==b&&b!==i[p]&&I(i,p,b,E[p],o))}return i}function j(e,i,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==i||(e.__u=e(i))}else e.current=i}catch(e){t.__e(e,n)}}function R(e,i,n){var r,s;if(t.unmount&&t.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||j(r,null,i)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){t.__e(e,i)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&R(r[s],i,n||"function"!=typeof e.type);n||m(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function F(e,t,i){return this.constructor(e,i)}function z(i,n,r){var s,o,a,l;t.__&&t.__(i,n),o=(s="function"==typeof r)?null:r&&r.__k||n.__k,a=[],l=[],D(n,i=(!s&&r||n).__k=g(_,null,[i]),o||u,u,n.namespaceURI,!s&&r?[r]:o?null:n.firstChild?e.call(n.childNodes):null,a,!s&&r?r:o?o.__e:n.firstChild,s,l),O(a,i,l)}e=p.slice,t={__e:function(e,t,i,n){for(var r,s,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&null!=s.getDerivedStateFromError&&(r.setState(s.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,n||{}),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},i=0,b.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},i),this.props)),e&&v(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},b.prototype.render=_,n=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,l=0,c=P(!1),d=P(!0);var U=0;Array.isArray;function B(e,i,n,r,s,o){i||(i={});var a,l,c=i;"ref"in i&&(a=i.ref,delete i.ref);var d={type:e,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--U,__i:-1,__u:0,__source:s,__self:o};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===c[l]&&(c[l]=a[l]);return t.vnode&&t.vnode(d),d}var W;!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(W||(W={}));var V=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:$(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),$=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},H=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),q=function(){return q=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},q.apply(this,arguments)},K=function(e,t){var i=typeof e;if(i!==typeof t)return!1;for(var n=0,r=["string","number","boolean","undefined"];n<r.length;n++){if(r[n]===i)return e===t}if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;var s=Array.isArray(e),o=Array.isArray(t);if(s!==o)return!1;if(!s||!o){var a=Object.keys(e).sort(),l=Object.keys(t).sort();if(!K(a,l))return!1;var c=!0;return Object.keys(e).forEach((function(i){K(e[i],t[i])||(c=!1)})),c}for(var d=0;d<e.length;d++)if(!K(e[d],t[d]))return!1;return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,n=new Array(i);i--;)n[i]=[t[i],e[t[i]]];return n});var G=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=q({},this.identity.userProperties),i=q(q({},this.identity),{userProperties:t});return{setUserId:function(e){return i.userId=e,this},setDeviceId:function(e){return i.deviceId=e,this},setUserProperties:function(e){return i.userProperties=e,this},setOptOut:function(e){return i.optOut=e,this},updateUserProperties:function(e){for(var t=i.userProperties||{},n=0,r=Object.entries(e);n<r.length;n++){var s=r[n],o=s[0],a=s[1];switch(o){case"$set":for(var l=0,c=Object.entries(a);l<c.length;l++){var d=c[l],u=d[0],p=d[1];t[u]=p}break;case"$unset":for(var h=0,f=Object.keys(a);h<f.length;h++){delete t[u=f[h]]}break;case"$clearAll":t={}}}return i.userProperties=t,this},commit:function(){return e.setIdentity(i),this}}},e.prototype.getIdentity=function(){return q({},this.identity)},e.prototype.setIdentity=function(e){var t=q({},this.identity);this.identity=q({},e),K(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),Z="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:self,Y=function(){function e(){this.identityStore=new G,this.eventBridge=new H,this.applicationContextProvider=new V}return e.getInstance=function(t){return Z.analyticsConnectorInstances||(Z.analyticsConnectorInstances={}),Z.analyticsConnectorInstances[t]||(Z.analyticsConnectorInstances[t]=new e),Z.analyticsConnectorInstances[t]},e}(),Q=function(e,t){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},Q(e,t)};var J=function(){return J=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},J.apply(this,arguments)};function X(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}function ee(e,t){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function te(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function ne(e,t,i){if(i||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var re="is",se="is not",oe="contains",ae="does not contain",le="less",ce="less or equal",de="greater",ue="greater or equal",pe="version less",he="version less or equal",fe="version greater",ve="version greater or equal",me="set is",ge="set is not",ye="set contains",_e="set does not contain",be="set contains any",we="set does not contain any",Ee="regex match",Ae="regex does not match",ke=-862048943,xe=461845907,Se=function(e,t){void 0===t&&(t=0);for(var i=function(e){for(var t=[],i=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t[i++]=r:r<2048?(t[i++]=r>>6|192,t[i++]=63&r|128):55296==(64512&r)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),t[i++]=r>>18|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128,t[i++]=63&r|128):(t[i++]=r>>12|224,t[i++]=r>>6&63|128,t[i++]=63&r|128)}return Uint8Array.from(t)}(e),n=i.length,r=n>>2,s=t,o=0;o<r;o++){var a=Te(i,o<<2);s=Le(a,s)}var l=r<<2,c=0;switch(n-l){case 3:c^=i[l+2]<<16,c^=i[l+1]<<8,c^=i[l],c=Math.imul(c,ke),c=Me(c,15),s^=c=Math.imul(c,xe);break;case 2:c^=i[l+1]<<8,c^=i[l],c=Math.imul(c,ke),c=Me(c,15),s^=c=Math.imul(c,xe);break;case 1:c^=i[l],c=Math.imul(c,ke),c=Me(c,15),s^=c=Math.imul(c,xe)}return Ce(s^=n)>>>0},Le=function(e,t){var i=e,n=t;return i=Math.imul(i,ke),i=Me(i,15),i=Math.imul(i,xe),n=Me(n^=i,13),(n=Math.imul(n,5))+-430675100|0},Ce=function(e){var t=e;return t^=t>>>16,t=Math.imul(t,-2048144789),t^=t>>>13,t=Math.imul(t,-1028477387),t^=t>>>16},Me=function(e,t,i){return void 0===i&&(i=32),t>i&&(t%=i),(e<<t|(e&4294967295<<i-t>>>0)>>>0>>>i-t>>>0)>>>0},Te=function(e,t){void 0===t&&(t=0);var i=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return Ie(i)},Ie=function(e){return(-16777216&e)>>>24|(16711680&e)>>>8|(65280&e)<<8|(255&e)<<24},Pe=function(e,t){var i,n;if(t&&0!==t.length){try{for(var r=te(t),s=r.next();!s.done;s=r.next()){var o=s.value;if(!o||!e||"object"!=typeof e)return;e=e[o]}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return e||void 0}},De="^".concat("(\\d+)\\.(\\d+)","(\\.").concat("(\\d+)").concat("(-(([-\\w]+\\.?)*))?",")?$"),Oe=function(){function e(e,t,i,n){void 0===n&&(n=void 0),this.major=e,this.minor=t,this.patch=i,this.preRelease=n}return e.parse=function(t){if(t){var i=new RegExp(De).exec(t);if(i){var n=Number(i[1]),r=Number(i[2]);if(!isNaN(n)&&!isNaN(r))return new e(n,r,Number(i[4])||0,i[5]||void 0)}}},e.prototype.compareTo=function(e){return this.major>e.major?1:this.major<e.major?-1:this.minor>e.minor?1:this.minor<e.minor?-1:this.patch>e.patch?1:this.patch<e.patch||this.preRelease&&!e.preRelease?-1:!this.preRelease&&e.preRelease?1:this.preRelease&&e.preRelease?this.preRelease>e.preRelease?1:this.preRelease<e.preRelease?-1:0:0},e}(),Ne=function(){function e(){}return e.prototype.evaluate=function(e,t){var i,n,r={},s={context:e,result:r};try{for(var o=te(t),a=o.next();!a.done;a=o.next()){var l=a.value,c=this.evaluateFlag(s,l);c&&(r[l.key]=c)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return r},e.prototype.evaluateFlag=function(e,t){var i,n,r;try{for(var s=te(t.segments),o=s.next();!o.done;o=s.next()){var a=o.value;if(r=this.evaluateSegment(e,t,a)){var l=J(J(J({},t.metadata),a.metadata),r.metadata);r=J(J({},r),{metadata:l});break}}}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r},e.prototype.evaluateSegment=function(e,t,i){var n,r,s,o;if(!i.conditions)return void 0!==(c=this.bucket(e,i))?t.variants[c]:void 0;try{for(var a=te(i.conditions),l=a.next();!l.done;l=a.next()){var c,d=l.value,u=!0;try{for(var p=(s=void 0,te(d)),h=p.next();!h.done;h=p.next()){var f=h.value;if(!(u=this.matchCondition(e,f)))break}}catch(e){s={error:e}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(s)throw s.error}}if(u)return void 0!==(c=this.bucket(e,i))?t.variants[c]:void 0}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.matchCondition=function(e,t){var i=Pe(e,t.selector);if(i){if(this.isSetOperator(t.op)){var n=this.coerceStringArray(i);return!!n&&this.matchSet(n,t.op,t.values)}var r=this.coerceString(i);return void 0!==r&&this.matchString(r,t.op,t.values)}return this.matchNull(t.op,t.values)},e.prototype.getHash=function(e){return Se(e)},e.prototype.bucket=function(e,t){var i,n,r,s;if(!t.bucket)return t.variant;var o=this.coerceString(Pe(e,t.bucket.selector));if(!o||0===o.length)return t.variant;var a="".concat(t.bucket.salt,"/").concat(o),l=this.getHash(a),c=l%100,d=Math.floor(l/100);try{for(var u=te(t.bucket.allocations),p=u.next();!p.done;p=u.next()){var h=p.value,f=h.range[0],v=h.range[1];if(c>=f&&c<v)try{for(var m=(r=void 0,te(h.distributions)),g=m.next();!g.done;g=m.next()){var y=g.value,_=y.range[0],b=y.range[1];if(d>=_&&d<b)return y.variant}}catch(e){r={error:e}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(r)throw r.error}}}}catch(e){i={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return t.variant},e.prototype.matchNull=function(e,t){var i=this.containsNone(t);switch(e){case re:case oe:case le:case ce:case de:case ue:case pe:case he:case fe:case ve:case me:case ye:case be:return i;case se:case ae:case _e:case we:return!i;default:return!1}},e.prototype.matchSet=function(e,t,i){switch(t){case me:return this.setEquals(e,i);case ge:return!this.setEquals(e,i);case ye:return this.matchesSetContainsAll(e,i);case _e:return!this.matchesSetContainsAll(e,i);case be:return this.matchesSetContainsAny(e,i);case we:return!this.matchesSetContainsAny(e,i);default:return!1}},e.prototype.matchString=function(e,t,i){var n=this;switch(t){case re:return this.matchesIs(e,i);case se:return!this.matchesIs(e,i);case oe:return this.matchesContains(e,i);case ae:return!this.matchesContains(e,i);case le:case ce:case de:case ue:return this.matchesComparable(e,t,i,(function(e){return n.parseNumber(e)}),this.comparator);case pe:case he:case fe:case ve:return this.matchesComparable(e,t,i,(function(e){return Oe.parse(e)}),this.versionComparator);case Ee:return this.matchesRegex(e,i);case Ae:return!this.matchesRegex(e,i);default:return!1}},e.prototype.matchesIs=function(e,t){if(this.containsBooleans(t)){var i=e.toLowerCase();if("true"===i||"false"===i)return t.some((function(e){return e.toLowerCase()===i}))}return t.some((function(t){return e===t}))},e.prototype.matchesContains=function(e,t){var i,n;try{for(var r=te(t),s=r.next();!s.done;s=r.next()){var o=s.value;if(e.toLowerCase().includes(o.toLowerCase()))return!0}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return!1},e.prototype.matchesComparable=function(e,t,i,n,r){var s=this,o=n(e),a=i.map((function(e){return n(e)})).filter((function(e){return void 0!==e}));return void 0===o||0===a.length?i.some((function(i){return s.comparator(e,t,i)})):a.some((function(e){return r(o,t,e)}))},e.prototype.comparator=function(e,t,i){switch(t){case le:case pe:return e<i;case ce:case he:return e<=i;case de:case fe:return e>i;case ue:case ve:return e>=i;default:return!1}},e.prototype.versionComparator=function(e,t,i){var n=e.compareTo(i);switch(t){case le:case pe:return n<0;case ce:case he:return n<=0;case de:case fe:return n>0;case ue:case ve:return n>=0;default:return!1}},e.prototype.matchesRegex=function(e,t){return t.some((function(t){return Boolean(new RegExp(t).exec(e))}))},e.prototype.containsNone=function(e){return e.some((function(e){return"(none)"===e}))},e.prototype.containsBooleans=function(e){return e.some((function(e){switch(e.toLowerCase()){case"true":case"false":return!0;default:return!1}}))},e.prototype.parseNumber=function(e){var t;return null!==(t=Number(e))&&void 0!==t?t:void 0},e.prototype.coerceString=function(e){if(e)return"object"==typeof e?JSON.stringify(e):String(e)},e.prototype.coerceStringArray=function(e){var t=this;if(Array.isArray(e))return e.map((function(e){return t.coerceString(e)})).filter(Boolean);var i=String(e);try{var n=JSON.parse(i);return Array.isArray(n)?e.map((function(e){return t.coerceString(e)})).filter(Boolean):void 0}catch(e){return}},e.prototype.isSetOperator=function(e){switch(e){case me:case ge:case ye:case _e:case be:case we:return!0;default:return!1}},e.prototype.setEquals=function(e,t){var i=new Set(e),n=new Set(t);return i.size===n.size&&ne([],ie(n),!1).every((function(e){return i.has(e)}))},e.prototype.matchesSetContainsAll=function(e,t){var i,n;if(e.length<t.length)return!1;try{for(var r=te(t),s=r.next();!s.done;s=r.next()){var o=s.value;if(!this.matchesIs(o,e))return!1}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return!0},e.prototype.matchesSetContainsAny=function(e,t){var i,n;try{for(var r=te(t),s=r.next();!s.done;s=r.next()){var o=s.value;if(this.matchesIs(o,e))return!0}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return!1},e}(),je=function(e,t,i){var n,r;void 0===i&&(i=[]);var s=t[e];if(s){if(!s.dependencies||0===s.dependencies.length)return delete t[s.key],[s];i.push(s.key);var o=[],a=function(e){if(i.some((function(t){return t===e})))throw Error("Detected a cycle between flags ".concat(i));var n=je(e,t,i);n&&o.push.apply(o,ne([],ie(n),!1))};try{for(var l=te(s.dependencies),c=l.next();!c.done;c=l.next()){a(c.value)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o.push(s),i.pop(),delete t[s.key],o}};const Re="function"==typeof btoa,Fe="function"==typeof Buffer,ze=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),Ue=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Be=((e=>{let t={};e.forEach(((e,i)=>t[e]=i))})(Ue),String.fromCharCode.bind(String)),We=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),Ve=e=>{let t,i,n,r,s="";const o=e.length%3;for(let o=0;o<e.length;){if((i=e.charCodeAt(o++))>255||(n=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=i<<16|n<<8|r,s+=Ue[t>>18&63]+Ue[t>>12&63]+Ue[t>>6&63]+Ue[63&t]}return o?s.slice(0,o-3)+"===".substring(o):s},$e=Re?e=>btoa(e):Fe?e=>Buffer.from(e,"binary").toString("base64"):Ve,He=Fe?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let i=0,n=e.length;i<n;i+=4096)t.push(Be.apply(null,e.subarray(i,i+4096)));return $e(t.join(""))},qe=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Be(192|t>>>6)+Be(128|63&t):Be(224|t>>>12&15)+Be(128|t>>>6&63)+Be(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Be(240|t>>>18&7)+Be(128|t>>>12&63)+Be(128|t>>>6&63)+Be(128|63&t)},Ke=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ge=e=>e.replace(Ke,qe),Ze=Fe?e=>Buffer.from(e,"utf8").toString("base64"):ze?e=>He(ze.encode(e)):e=>$e(Ge(e)),Ye=(e,t=!1)=>t?We(Ze(e)):Ze(e),Qe=e=>Ye(e,!0),Je=Qe;var Xe=function(e){function t(i,n){var r=e.call(this,n)||this;return r.statusCode=i,Object.setPrototypeOf(r,t.prototype),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(Error),et=function(){function e(e,t,i){this.deploymentKey=e,this.serverUrl=t,this.httpClient=i}return e.prototype.getVariants=function(e,t){return X(this,void 0,void 0,(function(){var i,n,r,s;return ee(this,(function(o){switch(o.label){case 0:return i=Je(JSON.stringify(e)),n={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":i},(null==t?void 0:t.flagKeys)&&(n["X-Amp-Exp-Flag-Keys"]=Je(JSON.stringify(t.flagKeys))),(null==t?void 0:t.trackingOption)&&(n["X-Amp-Exp-Track"]=t.trackingOption),r=new URL("".concat(this.serverUrl,"/sdk/v2/vardata?v=0")),(null==t?void 0:t.evaluationMode)&&r.searchParams.append("eval_mode",null==t?void 0:t.evaluationMode),(null==t?void 0:t.deliveryMethod)&&r.searchParams.append("delivery_method",null==t?void 0:t.deliveryMethod),[4,this.httpClient.request({requestUrl:r.toString(),method:"GET",headers:n,timeoutMillis:null==t?void 0:t.timeoutMillis})];case 1:if(200!=(s=o.sent()).status)throw new Xe(s.status,"Fetch error response: status=".concat(s.status));return[2,JSON.parse(s.body)]}}))}))},e}(),tt=function(){function e(e,t,i){this.deploymentKey=e,this.serverUrl=t,this.httpClient=i}return e.prototype.getFlags=function(e){return X(this,void 0,void 0,(function(){var t,i;return ee(this,(function(n){switch(n.label){case 0:return t={Authorization:"Api-Key ".concat(this.deploymentKey)},(null==e?void 0:e.libraryName)&&(null==e?void 0:e.libraryVersion)&&(t["X-Amp-Exp-Library"]="".concat(e.libraryName,"/").concat(e.libraryVersion)),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags"),method:"GET",headers:t,timeoutMillis:null==e?void 0:e.timeoutMillis})];case 1:if(200!=(i=n.sent()).status)throw Error("Flags error response: status=".concat(i.status));return[2,JSON.parse(i.body).reduce((function(e,t){return e[t.key]=t,e}),{})]}}))}))},e}(),it="undefined"!=typeof globalThis?globalThis:r.g||self,nt=function(){function e(e,t){this.poller=void 0,this.action=e,this.ms=t}return e.prototype.start=function(){this.poller||(this.poller=it.setInterval(this.action,this.ms),this.action())},e.prototype.stop=function(){this.poller&&(it.clearInterval(this.poller),this.poller=void 0)},e}(),rt=r(480),st=r.n(rt),ot=(function(){function e(e){this.amplitudeInstance=e}e.prototype.getUser=function(){var e,t,i,n,r,s,o,a,l,c;return{device_id:null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e.options)||void 0===t?void 0:t.deviceId,user_id:null===(n=null===(i=this.amplitudeInstance)||void 0===i?void 0:i.options)||void 0===n?void 0:n.userId,version:null===(s=null===(r=this.amplitudeInstance)||void 0===r?void 0:r.options)||void 0===s?void 0:s.versionName,language:null===(a=null===(o=this.amplitudeInstance)||void 0===o?void 0:o.options)||void 0===a?void 0:a.language,platform:null===(c=null===(l=this.amplitudeInstance)||void 0===l?void 0:l.options)||void 0===c?void 0:c.platform,os:this.getOs(),device_model:this.getDeviceModel()}},e.prototype.getOs=function(){var e,t,i,n,r,s;return[null===(i=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.browser)||void 0===i?void 0:i.name,null===(s=null===(r=null===(n=this.amplitudeInstance)||void 0===n?void 0:n._ua)||void 0===r?void 0:r.browser)||void 0===s?void 0:s.major].filter((function(e){return null!=e})).join(" ")},e.prototype.getDeviceModel=function(){var e,t,i;return null===(i=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.os)||void 0===i?void 0:i.name}}(),function(){function e(e){this.amplitudeInstance=e}e.prototype.track=function(e){this.amplitudeInstance.logEvent(e.name,e.properties)},e.prototype.setUserProperty=function(e){var t,i;this.amplitudeInstance.setUserProperties(((t={})[e.userProperty]=null===(i=e.variant)||void 0===i?void 0:i.value,t))},e.prototype.unsetUserProperty=function(e){var t;this.amplitudeInstance._logEvent("$identify",null,null,{$unset:(t={},t[e.userProperty]="-",t)})}}(),function(){return ot=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ot.apply(this,arguments)});function at(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}function lt(e,t){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function ct(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}"function"==typeof SuppressedError&&SuppressedError;var dt,ut,pt=it.fetch||function(e,t){return t=t||{},new Promise((function(i,n){var r=new XMLHttpRequest,s=[],o=[],a={},l=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:l,headers:{keys:function(){return s},entries:function(){return o},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,i){s.push(t=t.toLowerCase()),o.push([t,i]),a[t]=a[t]?a[t]+","+i:i})),i(l())},r.onerror=n,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(c,t.headers[c]);r.send(t.body||null)}))},ht=function(){function e(e){this.client=e}return e.prototype.request=function(e){return at(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:return[4,this.client.request(e.requestUrl,e.method,e.headers,null,e.timeoutMillis)];case 1:return[2,t.sent()]}}))}))},e}(),ft={request:function(e,t,i,n,r){return function(e,t){return null==t||t<=0?e:new Promise((function(i,n){it.setTimeout((function(){n(Error("Request timeout after "+t+" milliseconds"))}),t),e.then(i,n)}))}(at(void 0,void 0,void 0,(function(){var r,s;return lt(this,(function(o){switch(o.label){case 0:return[4,pt(e,{method:t,headers:i,body:n})];case 1:return r=o.sent(),s={status:r.status},[4,r.text()];case 2:return s.body=o.sent(),[2,s]}}))})),r)}};!function(e){e.LocalStorage="localStorage",e.InitialVariants="initialVariants"}(dt||(dt={})),function(e){e.LocalStorage="storage",e.InitialVariants="initial",e.SecondaryLocalStorage="secondary-storage",e.SecondaryInitialVariants="secondary-initial",e.FallbackInline="fallback-inline",e.FallbackConfig="fallback-config",e.LocalEvaluation="local-evaluation"}(ut||(ut={}));var vt=function(e){return!e||e===ut.FallbackInline||e===ut.FallbackConfig||e===ut.SecondaryInitialVariants},mt={debug:!1,instanceName:"$default_instance",fallbackVariant:{},initialVariants:{},initialFlags:void 0,source:dt.LocalStorage,serverUrl:"https://api.lab.amplitude.com",flagsServerUrl:"https://flag.lab.amplitude.com",serverZone:"US",fetchTimeoutMillis:1e4,retryFetchOnFailure:!0,automaticExposureTracking:!0,pollOnStart:!0,fetchOnStart:!0,automaticFetchOnAmplitudeIdentityChange:!1,userProvider:null,analyticsProvider:null,exposureTrackingProvider:null,httpClient:ft},gt="1.11.0",yt=function(){function e(e){this.identityStore=e}return e.prototype.identityReady=function(e){return at(this,void 0,void 0,(function(){var t,i=this;return lt(this,(function(n){return(t=this.identityStore.getIdentity()).userId||t.deviceId?[2]:[2,Promise.race([new Promise((function(e){var t=function(){e(void 0),i.identityStore.removeIdentityListener(t)};i.identityStore.addIdentityListener(t)})),new Promise((function(t,i){it.setTimeout(i,e,"Timed out waiting for Amplitude Analytics SDK to initialize. You must ensure that the analytics SDK is initialized prior to calling fetch().")}))])]}))}))},e.prototype.getUser=function(){var e=this.identityStore.getIdentity(),t=void 0;try{t=e.userProperties}catch(e){console.warn("[Experiment] failed to cast user properties")}return{user_id:e.userId,device_id:e.deviceId,user_properties:t}},e}(),_t=function(){function e(e){this.eventBridge=e}return e.prototype.track=function(e){this.eventBridge.logEvent({eventType:"$exposure",eventProperties:e})},e}(),bt=function(){function e(e,t){this.ua=new rt.UAParser("undefined"!=typeof navigator?navigator.userAgent:null).getResult(),this.contextProvider=e,this.userProvider=t}return e.prototype.getUser=function(){var e,t=(null===(e=this.userProvider)||void 0===e?void 0:e.getUser())||{},i=this.contextProvider.getApplicationContext();return ot({version:i.versionName,language:i.language,platform:i.platform,os:i.os||this.getOs(this.ua),device_model:i.deviceModel||this.getDeviceModel(this.ua)},t)},e.prototype.getOs=function(e){var t,i;return[null===(t=e.browser)||void 0===t?void 0:t.name,null===(i=e.browser)||void 0===i?void 0:i.major].filter((function(e){return null!=e})).join(" ")},e.prototype.getDeviceModel=function(e){var t;return null===(t=e.os)||void 0===t?void 0:t.name},e}(),wt=function(){function e(){}return e.prototype.get=function(e){return localStorage.getItem(e)},e.prototype.put=function(e,t){localStorage.setItem(e,t)},e.prototype.delete=function(e){localStorage.removeItem(e)},e}(),Et=function(){function e(e,t,i){this.cache={},this.namespace=e,this.storage=t,this.transformer=i}return e.prototype.get=function(e){return this.cache[e]},e.prototype.getAll=function(){return ot({},this.cache)},e.prototype.put=function(e,t){this.cache[e]=t},e.prototype.putAll=function(e){var t,i;try{for(var n=ct(Object.keys(e)),r=n.next();!r.done;r=n.next()){var s=r.value;this.cache[s]=e[s]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.clear=function(){this.cache={}},e.prototype.load=function(){var e,t,i,n=this.storage.get(this.namespace);try{i=JSON.parse(n)||{}}catch(e){return}var r={};try{for(var s=ct(Object.keys(i)),o=s.next();!o.done;o=s.next()){var a=o.value;try{var l=void 0;(l=this.transformer?this.transformer(i[a]):i[a])&&(r[a]=l)}catch(e){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this.clear(),this.putAll(r)},e.prototype.store=function(e){void 0===e&&(e=this.cache),this.storage.put(this.namespace,JSON.stringify(e))},e}(),At=function(e){if("string"==typeof e)return{key:e,value:e};if("object"==typeof e){var t=e.key,i=e.value,n=e.payload,r=e.metadata,s=e.expKey;r&&r.experimentKey?s=r.experimentKey:s&&((r=r||{}).experimentKey=s);var o={};return t?o.key=t:i&&(o.key=i),i&&(o.value=i),r&&(o.metadata=r),n&&(o.payload=n),s&&(o.expKey=s),o}},kt=function(e){return null==e},xt=function(e){return!!kt(e)||e&&0===Object.keys(e).length},St=function(e){var t;return"local"===(null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.evaluationMode)},Lt=function(){function e(e,t,i,n){this.started=!1,this.done=!1,this.attempts=e,this.min=t,this.max=i,this.scalar=n}return e.prototype.start=function(e){return at(this,void 0,void 0,(function(){return lt(this,(function(t){switch(t.label){case 0:if(this.started)throw Error("Backoff already started");return this.started=!0,[4,this.backoff(e,0,this.min)];case 1:return t.sent(),[2]}}))}))},e.prototype.cancel=function(){this.done=!0,clearTimeout(this.timeoutHandle)},e.prototype.backoff=function(e,t,i){return at(this,void 0,void 0,(function(){var n=this;return lt(this,(function(r){return this.done||(this.timeoutHandle=it.setTimeout((function(){return at(n,void 0,void 0,(function(){var n,r;return lt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,e()];case 1:return s.sent(),[3,3];case 2:return s.sent(),(n=t+1)<this.attempts&&(r=Math.min(i*this.scalar,this.max),this.backoff(e,n,r)),[3,3];case 3:return[2]}}))}))}),i)),[2]}))}))},e}(),Ct=function(e){return null==e?{}:"string"==typeof e?{key:e,value:e}:e},Mt=function(e){if(!e)return{};var t=void 0;e.metadata&&(t=e.metadata.experimentKey);var i={};return e.key&&(i.key=e.key),e.value&&(i.value=e.value),e.payload&&(i.payload=e.payload),t&&(i.expKey=t),e.metadata&&(i.metadata=e.metadata),i},Tt=function(){function e(e){this.setProperties={},this.unsetProperties={},this.analyticsProvider=e}return e.prototype.track=function(e){this.setProperties[e.key]!=e.variant.value&&(this.setProperties[e.key]=e.variant.value,delete this.unsetProperties[e.key],this.analyticsProvider.track(e))},e.prototype.setUserProperty=function(e){this.setProperties[e.key]!=e.variant.value&&this.analyticsProvider.setUserProperty(e)},e.prototype.unsetUserProperty=function(e){this.unsetProperties[e.key]||(this.unsetProperties[e.key]="unset",delete this.setProperties[e.key],this.analyticsProvider.unsetUserProperty(e))},e}(),It=function(){function e(e){this.tracked={},this.exposureTrackingProvider=e}return e.prototype.track=function(e){var t=this.tracked[e.flag_key];t&&t.variant===e.variant||(this.tracked[e.flag_key]=e,this.exposureTrackingProvider.track(e))},e}(),Pt=function(){function e(e,t){var i,n,r=this;if(this.engine=new Ne,this.poller=new nt((function(){return r.doFlags()}),6e4),this.isRunning=!1,this.apiKey=e,this.config=ot(ot(ot({},mt),t),{serverUrl:(null==t?void 0:t.serverUrl)||("eu"===(null===(i=null==t?void 0:t.serverZone)||void 0===i?void 0:i.toLowerCase())?"https://api.lab.eu.amplitude.com":mt.serverUrl),flagsServerUrl:(null==t?void 0:t.flagsServerUrl)||("eu"===(null===(n=null==t?void 0:t.serverZone)||void 0===n?void 0:n.toLowerCase())?"https://flag.lab.eu.amplitude.com":mt.flagsServerUrl)}),this.config.initialVariants)for(var s in this.config.initialVariants)this.config.initialVariants[s]=At(this.config.initialVariants[s]);this.config.userProvider&&(this.userProvider=this.config.userProvider),this.config.analyticsProvider&&(this.analyticsProvider=new Tt(this.config.analyticsProvider)),this.config.exposureTrackingProvider&&(this.exposureTrackingProvider=new It(this.config.exposureTrackingProvider));var o=new ht(this.config.httpClient||ft);this.flagApi=new tt(this.apiKey,this.config.flagsServerUrl,o),this.evaluationApi=new et(this.apiKey,this.config.serverUrl,o);var a=new wt;this.variants=function(e,t,i){var n=e.substring(e.length-6),r="amp-exp-".concat(t,"-").concat(n);return new Et(r,i,At)}(this.apiKey,this.config.instanceName,a),this.flags=function(e,t,i){void 0===i&&(i=new wt);var n=e.substring(e.length-6),r="amp-exp-".concat(t,"-").concat(n,"-flags");return new Et(r,i)}(this.apiKey,this.config.instanceName,a);try{this.flags.load(),this.variants.load()}catch(e){}this.mergeInitialFlagsWithStorage()}return e.prototype.start=function(e){var t;return at(this,void 0,void 0,(function(){var i;return lt(this,(function(n){switch(n.label){case 0:return this.isRunning?[2]:(this.isRunning=!0,this.setUser(e),i=this.doFlags(),null===(t=this.config.fetchOnStart)||void 0===t||t?[4,Promise.all([this.fetch(e),i])]:[3,2]);case 1:return n.sent(),[3,4];case 2:return[4,i];case 3:n.sent(),n.label=4;case 4:return this.config.pollOnStart&&this.poller.start(),[2]}}))}))},e.prototype.stop=function(){this.isRunning&&(this.poller.stop(),this.isRunning=!1)},e.prototype.fetch=function(e,t){return void 0===e&&(e=this.user),at(this,void 0,void 0,(function(){var i;return lt(this,(function(n){switch(n.label){case 0:this.setUser(e||{}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetchInternal(e,this.config.fetchTimeoutMillis,this.config.retryFetchOnFailure,t)];case 2:return n.sent(),[3,4];case 3:return i=n.sent(),console.error(i),[3,4];case 4:return[2,this]}}))}))},e.prototype.variant=function(e,t){var i,n;if(!this.apiKey)return{value:void 0};var r=this.variantAndSource(e,t);return this.config.automaticExposureTracking&&this.exposureInternal(e,r),this.debug("[Experiment] variant for ".concat(e," is ").concat((null===(i=r.variant)||void 0===i?void 0:i.key)||(null===(n=r.variant)||void 0===n?void 0:n.value))),r.variant||{}},e.prototype.exposure=function(e){var t=this.variantAndSource(e);this.exposureInternal(e,t)},e.prototype.all=function(){if(!this.apiKey)return{};var e=this.evaluate();for(var t in e){var i=this.flags.get(t);St(i)||delete e[t]}return ot(ot(ot({},this.secondaryVariants()),this.sourceVariants()),e)},e.prototype.clear=function(){this.variants.clear();try{this.variants.store()}catch(e){}},e.prototype.getUser=function(){var e;if(!this.user)return this.user;if(null===(e=this.user)||void 0===e?void 0:e.user_properties){var t=ot({},this.user.user_properties);return ot(ot({},this.user),{user_properties:t})}return ot({},this.user)},e.prototype.setUser=function(e){var t;if(e)if(null===(t=this.user)||void 0===t?void 0:t.user_properties){var i=ot({},e.user_properties);this.user=ot(ot({},e),{user_properties:i})}else this.user=ot({},e);else this.user=null},e.prototype.getUserProvider=function(){return this.userProvider},e.prototype.setUserProvider=function(e){return this.userProvider=e,this},e.prototype.mergeInitialFlagsWithStorage=function(){var e=this;this.config.initialFlags&&JSON.parse(this.config.initialFlags).forEach((function(t){e.flags.get(t.key)||e.flags.put(t.key,t)}))},e.prototype.evaluate=function(e){var t,i,n=this.addContext(this.user),r=function(e,t){var i,n,r=J({},e),s=[],o=t||Object.keys(r);try{for(var a=te(o),l=a.next();!l.done;l=a.next()){var c=l.value,d=je(c,r);d&&s.push.apply(s,ne([],ie(d),!1))}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s}(this.flags.getAll(),e),s=function(e){var t,i,n,r;if(!e)return{};var s={user:e},o={};if(!e.groups)return s;try{for(var a=ct(Object.keys(e.groups)),l=a.next();!l.done;l=a.next()){var c=l.value,d=e.groups[c];if(d.length>0&&d[0]){var u=d[0],p={group_name:u},h=null===(r=null===(n=e.group_properties)||void 0===n?void 0:n[c])||void 0===r?void 0:r[u];h&&Object.keys(h).length>0&&(p.group_properties=h),o[c]=p}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return Object.keys(o).length>0&&(s.groups=o),delete s.user.groups,delete s.user.group_properties,s}(n),o=this.engine.evaluate(s,r),a={};try{for(var l=ct(Object.keys(o)),c=l.next();!c.done;c=l.next()){var d=c.value;a[d]=Mt(o[d])}}catch(e){t={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}return a},e.prototype.variantAndSource=function(e,t){var i={};this.config.source===dt.LocalStorage?i=this.localStorageVariantAndSource(e,t):this.config.source===dt.InitialVariants&&(i=this.initialVariantsVariantAndSource(e,t));var n=this.flags.get(e);return(St(n)||!i.variant&&n)&&(i=this.localEvaluationVariantAndSource(e,n,t)),i},e.prototype.localEvaluationVariantAndSource=function(e,t,i){var n,r={},s=this.evaluate([t.key])[e],o=ut.LocalEvaluation,a=null===(n=null==s?void 0:s.metadata)||void 0===n?void 0:n.default;if(!kt(s)&&!a)return{variant:Ct(s),source:o,hasDefaultVariant:!1};if(a&&(r={variant:Ct(s),source:o,hasDefaultVariant:!0}),!kt(i))return{variant:Ct(i),source:ut.FallbackInline,hasDefaultVariant:r.hasDefaultVariant};var l=this.config.initialVariants[e];if(!kt(l))return{variant:Ct(l),source:ut.SecondaryInitialVariants,hasDefaultVariant:r.hasDefaultVariant};var c=Ct(this.config.fallbackVariant),d={variant:c,source:ut.FallbackConfig,hasDefaultVariant:r.hasDefaultVariant};return xt(c)?r:d},e.prototype.localStorageVariantAndSource=function(e,t){var i,n={},r=this.variants.get(e),s=null===(i=null==r?void 0:r.metadata)||void 0===i?void 0:i.default;if(!kt(r)&&!s)return{variant:Ct(r),source:ut.LocalStorage,hasDefaultVariant:!1};if(s&&(n={variant:Ct(r),source:ut.LocalStorage,hasDefaultVariant:!0}),!kt(t))return{variant:Ct(t),source:ut.FallbackInline,hasDefaultVariant:n.hasDefaultVariant};var o=this.config.initialVariants[e];if(!kt(o))return{variant:Ct(o),source:ut.SecondaryInitialVariants,hasDefaultVariant:n.hasDefaultVariant};var a=Ct(this.config.fallbackVariant),l={variant:a,source:ut.FallbackConfig,hasDefaultVariant:n.hasDefaultVariant};return xt(a)?n:l},e.prototype.initialVariantsVariantAndSource=function(e,t){var i,n={},r=this.config.initialVariants[e];if(!kt(r))return{variant:Ct(r),source:ut.InitialVariants,hasDefaultVariant:!1};var s=this.variants.get(e),o=null===(i=null==s?void 0:s.metadata)||void 0===i?void 0:i.default;if(!kt(s)&&!o)return{variant:Ct(s),source:ut.LocalStorage,hasDefaultVariant:!1};if(o&&(n={variant:Ct(s),source:ut.LocalStorage,hasDefaultVariant:!0}),!kt(t))return{variant:Ct(t),source:ut.FallbackInline,hasDefaultVariant:n.hasDefaultVariant};var a=Ct(this.config.fallbackVariant),l={variant:a,source:ut.FallbackConfig,hasDefaultVariant:n.hasDefaultVariant};return xt(a)?n:l},e.prototype.fetchInternal=function(e,t,i,n){return at(this,void 0,void 0,(function(){var r,s;return lt(this,(function(o){switch(o.label){case 0:if(!this.apiKey)throw Error("Experiment API key is empty");this.debug("[Experiment] Fetch all: retry=".concat(i)),i&&this.stopRetries(),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.doFetch(e,t,n)];case 2:return r=o.sent(),[4,this.storeVariants(r,n)];case 3:return o.sent(),[2,r];case 4:throw s=o.sent(),i&&this.shouldRetryFetch(s)&&this.startRetries(e,n),s;case 5:return[2]}}))}))},e.prototype.doFetch=function(e,t,i){return at(this,void 0,void 0,(function(){var n,r,s,o,a,l,c;return lt(this,(function(d){switch(d.label){case 0:return[4,this.addContextOrWait(e,1e4)];case 1:return e=d.sent(),this.debug("[Experiment] Fetch variants for user: ",e),[4,this.evaluationApi.getVariants(e,ot({timeoutMillis:t},i))];case 2:n=d.sent(),r={};try{for(s=ct(Object.keys(n)),o=s.next();!o.done;o=s.next())a=o.value,r[a]=Mt(n[a])}catch(e){l={error:e}}finally{try{o&&!o.done&&(c=s.return)&&c.call(s)}finally{if(l)throw l.error}}return this.debug("[Experiment] Received variants: ",r),[2,r]}}))}))},e.prototype.doFlags=function(){return at(this,void 0,void 0,(function(){var e;return lt(this,(function(t){switch(t.label){case 0:return[4,this.flagApi.getFlags({libraryName:"experiment-js-client",libraryVersion:gt,timeoutMillis:this.config.fetchTimeoutMillis})];case 1:e=t.sent(),this.flags.clear(),this.flags.putAll(e);try{this.flags.store()}catch(e){}return this.mergeInitialFlagsWithStorage(),[2]}}))}))},e.prototype.storeVariants=function(e,t){return at(this,void 0,void 0,(function(){var i,n,r,s;return lt(this,(function(o){for(s in 0===(i=t&&t.flagKeys?t.flagKeys:[]).length&&this.variants.clear(),n=function(t){i=i.filter((function(e){return e!==t})),r.variants.put(t,e[t])},r=this,e)n(s);for(s in i)this.variants.remove(s);try{this.variants.store()}catch(e){}return this.debug("[Experiment] Stored variants: ",e),[2]}))}))},e.prototype.startRetries=function(e,t){return at(this,void 0,void 0,(function(){var i=this;return lt(this,(function(n){return this.debug("[Experiment] Retry fetch"),this.retriesBackoff=new Lt(8,500,1e4,1.5),this.retriesBackoff.start((function(){return at(i,void 0,void 0,(function(){return lt(this,(function(i){switch(i.label){case 0:return[4,this.fetchInternal(e,1e4,!1,t)];case 1:return i.sent(),[2]}}))}))})),[2]}))}))},e.prototype.stopRetries=function(){this.retriesBackoff&&this.retriesBackoff.cancel()},e.prototype.addContext=function(e){var t,i,n=null===(t=this.userProvider)||void 0===t?void 0:t.getUser(),r=ot(ot({},null==e?void 0:e.user_properties),null==n?void 0:n.user_properties);return ot(ot(ot({library:"experiment-js-client/".concat(gt)},null===(i=this.userProvider)||void 0===i?void 0:i.getUser()),e),{user_properties:r})},e.prototype.addContextOrWait=function(e,t){return at(this,void 0,void 0,(function(){return lt(this,(function(i){switch(i.label){case 0:return this.userProvider instanceof bt&&this.userProvider.userProvider instanceof yt?[4,this.userProvider.userProvider.identityReady(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2,this.addContext(e)]}}))}))},e.prototype.sourceVariants=function(){return this.config.source==dt.LocalStorage?this.variants.getAll():this.config.source==dt.InitialVariants?this.config.initialVariants:void 0},e.prototype.secondaryVariants=function(){return this.config.source==dt.LocalStorage?this.config.initialVariants:this.config.source==dt.InitialVariants?this.variants.getAll():void 0},e.prototype.exposureInternal=function(e,t){var i,n,r,s,o,a;this.legacyExposureInternal(e,t.variant,t.source);var l={flag_key:e},c=vt(t.source);if(!c||t.hasDefaultVariant){(null===(i=t.variant)||void 0===i?void 0:i.expKey)&&(l.experiment_key=null===(n=t.variant)||void 0===n?void 0:n.expKey);var d=null===(r=t.variant)||void 0===r?void 0:r.metadata;c||(null==d?void 0:d.default)||((null===(s=t.variant)||void 0===s?void 0:s.key)?l.variant=t.variant.key:(null===(o=t.variant)||void 0===o?void 0:o.value)&&(l.variant=t.variant.value)),d&&(l.metadata=d),null===(a=this.exposureTrackingProvider)||void 0===a||a.track(l)}},e.prototype.legacyExposureInternal=function(e,t,i){var n,r,s,o,a;if(this.analyticsProvider){var l=function(e,t,i,n){var r,s=null==i?void 0:i.value,o="[Experiment] ".concat(t);return{name:"[Experiment] Exposure",user:e,key:t,variant:i,userProperty:o,properties:{key:t,variant:s,source:n},userProperties:(r={},r[o]=s,r)}}(this.addContext(this.getUser()),e,t,i);vt(i)||!(null==t?void 0:t.value)?null===(r=null===(n=this.analyticsProvider)||void 0===n?void 0:n.unsetUserProperty)||void 0===r||r.call(n,l):(null==t?void 0:t.value)&&(null===(o=null===(s=this.analyticsProvider)||void 0===s?void 0:s.setUserProperty)||void 0===o||o.call(s,l),null===(a=this.analyticsProvider)||void 0===a||a.track(l))}},e.prototype.debug=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.config.debug&&console.debug.apply(console,function(e,t,i){if(i||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([e],function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}(t),!1))},e.prototype.shouldRetryFetch=function(e){return!(e instanceof Xe)||(e.statusCode<400||e.statusCode>=500||429===e.statusCode)},e}(),Dt={},Ot=function(e,t){var i=(null==t?void 0:t.instanceName)||mt.instanceName,n="".concat(i,".").concat(e),r=Y.getInstance(i);return Dt[n]||(t=ot({userProvider:new bt(r.applicationContextProvider,new yt(r.identityStore)),exposureTrackingProvider:new _t(r.eventBridge)},t),Dt[n]=new Pt(e,t),t.automaticFetchOnAmplitudeIdentityChange&&r.identityStore.addIdentityListener((function(){Dt[n].fetch()}))),Dt[n]};!function(){function e(){}e.prototype.getUser=function(){return{}},e.prototype.start=function(e){return at(this,void 0,void 0,(function(){return lt(this,(function(e){return[2]}))}))},e.prototype.stop=function(){},e.prototype.setUser=function(e){},e.prototype.fetch=function(e){return at(this,void 0,void 0,(function(){return lt(this,(function(e){return[2,this]}))}))},e.prototype.getUserProvider=function(){return null},e.prototype.setUserProvider=function(e){return this},e.prototype.variant=function(e,t){return mt.fallbackVariant},e.prototype.all=function(){return{}},e.prototype.clear=function(){},e.prototype.exposure=function(e){}}();const Nt=new Map([[" "," "],["0",""],["1","1"],["2",""],["3",""],["4",""],["5",""],["6",""],["7",""],["8",""],["9",""],["10",""],["11",""],["12",""],["13",""],["14",""],["15",""],["16",""],["17",""],["18",""],["19",""],["20",""],["ae",""],["OE",""],["oe",""],["pi",""],["Nj",""],["AE",""],["A",""],["a",""],["B",""],["b",""],["C",""],["c",""],["D",""],["d",""],["E",""],["e",""],["F",""],["f",""],["G",""],["g",""],["H",""],["h",""],["I",""],["i",""],["J",""],["j",""],["K",""],["k",""],["L",""],["l","|"],["M",""],["m",""],["N",""],["n",""],["O",""],["o",""],["P",""],["p",""],["Q",""],["q",""],["R",""],["r",""],["S",""],["s",""],["T",""],["t",""],["U",""],["u",""],["V",""],["v",""],["W",""],["w",""],["X",""],["x",""],["Y",""],["y",""],["Z",""],["z",""]]),jt=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,Rt=/[\0-\x08\x0E-\x1F\x7F-\x84\x86-\x9F\u0300-\u034E\u0350-\u035B\u0363-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u200C\u200E\u200F\u202A-\u202E\u2066-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3035\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFFF9-\uFFFB]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDCA-\uDDCC\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E\uDCA0-\uDCA3]|\uD834[\uDD65-\uDD69\uDD6D-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDC01\uDC20-\uDC7F\uDD00-\uDDEF]/g,Ft=/^(?:[~`!@#%^&*(){}[\];:"'<,.>?/\\|_+=-]|[a-zA-Z0-9\s])+$/;const zt=new Map,Ut=new Map,Bt=new Map;for(const[e,t]of Nt.entries()){zt.set(e,[...t]);for(const i of t)Ut.set(i,e)}function Wt(e){const t=Bt.get(e);if("string"==typeof t)return t;if(function(e){return Ft.test(e)}(e))return e;let i="";for(const t of function(e){return e.replace(Rt,"").replace(jt,"$1").replace(/[\u200B-\u200D\uFEFF\u2063]/g,"")}(e))i+=Ut.get(t)||t;return Bt.set(e,i),i}var Vt=r(336);function $t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ht(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(i),!0).forEach((function(t){Gt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function qt(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Kt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qt(n.key),n)}}function Gt(e,t,i){return(t=qt(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Yt(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return Zt(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Zt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}function Qt(e){return e.replace(/[.?^${}()|[\]\\]/g,"\\$&").replace(/\b\*\b/,"")}function Jt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Xt,ei,ti,ii={placeholder:"***",placeholderMode:"replace",specialChars:/\d|[!@#$%^&*()[\];:'",.?\-_=+~`|]|a|(?:the)|(?:el)|(?:la)/,spaceChars:["",".","-",";","|"],confusables:["en","es","de","ru_lat"],maxCacheSize:100,exclusions:[]};Xt=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.opts=void 0!==t?Ht(Ht({},ii),t):ii,this.specialChars=this.opts.specialChars.toString().slice(1,-1),this.exclusionsRegexps=this.opts.exclusions.map(this.regexp.bind(this)),this.data={},this.ids=[];var i=Math.max(0,Math.floor(this.opts.maxCacheSize/3)),n=Vt(this.preCheck,{maxSize:i});this.preCheck=n;var r=Vt(this.check,{maxSize:this.opts.maxCacheSize-i});this.check=r,this.clear=function(){n.clear(),r.clear()},void 0!==this.opts.data&&this.add(this.opts.data)},ei=[{key:"add",value:function(e){this.clear();var t,i="",n="",r=Yt(e.words);try{for(r.s();!(t=r.n()).done;){var s=Qt(t.value);if(""!==s&&(s.startsWith("*")&&(s="[^\\s\\b^]*".concat(s.slice(1))),s.endsWith("*")&&(s="".concat(s.slice(0,-1),"[^\\s\\b$]*")),i+=""!==i?"|".concat(s):s,s.includes("_"))){var o,a=Yt(this.opts.spaceChars);try{for(a.s();!(o=a.n()).done;){var l=o.value;i+="|".concat(s.replace(/_/g,Jt(l)))}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){r.e(e)}finally{r.f()}for(var c in e.lookalike){var d=Jt(c);n+=""!==n?"|".concat(d):d}this.data[e.id]=Ht(Ht({},e),{},{wordsRegexp:this.regexp(i)}),""!==n&&(this.data[e.id].lookalikeRegexp=new RegExp(n,"ig")),this.ids.push(e.id)}},{key:"prepare",value:function(e,t){var i=this,n=e;return void 0!==this.data[t].lookalikeRegexp&&(n=e.replace(this.data[t].lookalikeRegexp,(function(e){if(void 0!==i.data[t].lookalike[e])return i.data[t].lookalike[e];var n=e.toLowerCase();return void 0!==i.data[t].lookalike[n]?i.data[t].lookalike[n]:e}))),this.opts.confusables.includes(t)?Wt(n):n}},{key:"regexp",value:function(e){return new RegExp("(?:^|\\b|\\s)(?:".concat(this.specialChars,")*(?:").concat(e,")(?:").concat(this.specialChars,")*(?:$|\\b|\\s)"),"i")}},{key:"preCheck",value:function(e){var t,i=Yt(this.ids);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(this.data[n].wordsRegexp.test(e)||this.data[n].wordsRegexp.test(this.prepare(e,n)))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"check",value:function(e){var t,i=Yt(this.ids);try{for(i.s();!(t=i.n()).done;){var n,r=t.value,s=null,o=Yt(this.exclusionsRegexps);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.test(e))return!1;if(null===s&&(s=this.prepare(e,r)),a.test(s))return!1}}catch(e){o.e(e)}finally{o.f()}if(this.data[r].wordsRegexp.test(e))return!0;if(null===s&&(s=this.prepare(e,r)),this.data[r].wordsRegexp.test(s))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"filter",value:function(e,t){var i=this;if(""===e||!this.preCheck(e))return e;for(var n,r=[],s=/([\b\s])/g;null!==(n=s.exec(e));)r.push(n[0]);var o="repeat"===this.opts.placeholderMode;return e.split(/[\b\s]/).map((function(e){return i.check(e)?(void 0!==t&&t(e),o?i.opts.placeholder.repeat(e.length):i.opts.placeholder):e})).reduce((function(e,t,i){return e+(i>0?void 0===r[i-1]?" ":r[i-1]:"")+t}),"")}}],ei&&Kt(Xt.prototype,ei),ti&&Kt(Xt,ti),Object.defineProperty(Xt,"prototype",{writable:!1});const ni=["/onversus.com","partner.versusgame.com","hungergames.movie","hybridstudio.com","/demo/single.html"];var ri,si;!function(e){e.FRAMEBREAK="vs_framebreak",e.FRAMEBREAK_VISIBILITY_CONSTANT="vs_framebreak_visibility"}(ri||(ri={})),function(e){e.WIDGET="vs_widget",e.EMBED="vs_embed"}(si||(si={}));var oi,ai,li,ci,di;!function(e){e.PASSIVE_COMPONENTS_VISIBLE="passive_components_visible",e.UPDATE_SPACER_SIZE="update_spacer_size",e.SPACER_SIZE_UPDATED="spacer_size_updated",e.FLAG_AD_BLOCKER="flag_adblocker",e.ANALYTICS="analytics",e.VIDEO_PLAYER="video_player",e.MISCELLANEOUS="miscellaneous"}(oi||(oi={})),function(e){e.DISPLAY_AD_RENDERED_OUT_OF_VIEW="displayAdRenderedOutOfView",e.AD_REQUESTED="adRequested",e.AD_PLAYED="adPlayed",e.AD_RECEIVED="adReceived",e.AD_NO_POSTROLL="adNoPostRoll",e.AD_NO_FILL="adNoFill",e.AD_ERROR="adError",e.UNPAID_AD_CLICKED="unpaidAdClicked"}(ai||(ai={})),function(e){e.AD_AVAILABLE="adavailable",e.AD_STARTED="adstarted",e.AD_ENDED="adended",e.AD_SKIP="adskip",e.AD_COMPLETE="adcomplete",e.SET_VIDEO_MUTED="set_video_muted",e.SET_AD_PLAYING_THUNK="set_ad_playing_thunk",e.SET_AD_COMPLETED_THUNK="set_ad_completed_thunk",e.SET_VIDEO_PLAYER_PROPS="set_video_player_props",e.PLAY_AD="play_ad"}(li||(li={})),function(e){e.UPDATE_SPACER_SIZE="update_spacer_size",e.SPACER_SIZE_UPDATED="spacer_size_updated",e.WIDGET_DOCKED="widget_docked",e.WIDGET_UNDOCKED="widget_undocked",e.UPDATE_WRAPPER_MAX_WIDTH="update_wrapper_max_width"}(ci||(ci={})),function(e){e.TOP="TOP",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BACKGROUND="BACKGROUND"}(di||(di={}));const ui=(e,t)=>{window.parent.postMessage({action:ri.FRAMEBREAK,source:si.WIDGET,type:e,data:t},"*")},pi=(e,t)=>{try{return new URL(e).searchParams.get(t)||""}catch(e){return""}};var hi=function(e,t){return hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},hi(e,t)};function fi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}hi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var vi=function(){return vi=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},vi.apply(this,arguments)};function mi(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}function gi(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}function yi(e,t){var i,n,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}Object.create;function _i(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bi(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function wi(e,t,i){if(i||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Ei,Ai=function(e){return function(){var t=vi({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},ki=function(e,t){var i,n;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var r=_i(t.split(".")),s=r.next();!s.done;s=r.next()){var o=s.value;if(!(o in e))return;e=e[o]}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return e},xi=function(e,t){return function(){var i,n,r={};try{for(var s=_i(t),o=s.next();!o.done;o=s.next()){var a=o.value;r[a]=ki(e,a)}}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r}},Si=function(e,t,i,n,r){return void 0===r&&(r=null),function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=i(),l=a.logger,c=a.logLevel;if(c&&c<W.Debug||!c||!l)return e.apply(r,s);var d,u={type:"invoke public method",name:t,args:s,stacktrace:(d=1,void 0===d&&(d=0),((new Error).stack||"").split("\n").slice(2+d).map((function(e){return e.trim()}))),time:{start:(new Date).toISOString()},states:{}};n&&u.states&&(u.states.before=n());var p=e.apply(r,s);return p&&p.promise?p.promise.then((function(){n&&u.states&&(u.states.after=n()),u.time&&(u.time.end=(new Date).toISOString()),l.debug(JSON.stringify(u,null,2))})):(n&&u.states&&(u.states.after=n()),u.time&&(u.time.end=(new Date).toISOString()),l.debug(JSON.stringify(u,null,2))),p}},Li="AMP",Ci="".concat(Li,"_unsent"),Mi="https://api2.amplitude.com/2/httpapi",Ti=function(e,t,i){return void 0===t&&(t=""),void 0===i&&(i=10),[Li,t,e.substring(0,i)].filter(Boolean).join("_")},Ii=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==r.g?r.g:void 0},Pi=function(){var e,t=Ii();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce((function(e,t){var i=t.split("=",2),n=Di(i[0]),r=Di(i[1]);return r?(e[n]=r,e):e}),{}):{}},Di=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},Oi=function(e){return void 0===e&&(e="$default_instance"),Y.getInstance(e)};!function(e){e.BEFORE="before",e.ENRICHMENT="enrichment",e.DESTINATION="destination"}(Ei||(Ei={}));var Ni,ji=function(){function e(){this.name="identity",this.type=Ei.BEFORE,this.identityStore=Oi().identityStore}return e.prototype.execute=function(e){return gi(this,void 0,void 0,(function(){var t;return yi(this,(function(i){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]}))}))},e.prototype.setup=function(e){return gi(this,void 0,void 0,(function(){return yi(this,(function(t){return e.instanceName&&(this.identityStore=Oi(e.instanceName).identityStore),[2]}))}))},e}(),Ri=function(e){return{promise:e||Promise.resolve()}};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(Ni||(Ni={}));var Fi,zi=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=Ni.Unknown),{event:e,code:t,message:i}};!function(e){e.US="US",e.EU="EU",e.STAGING="STAGING"}(Fi||(Fi={}));var Ui="Amplitude Logger ",Bi=function(){function e(){this.logLevel=W.None}return e.prototype.disable=function(){this.logLevel=W.None},e.prototype.enable=function(e){void 0===e&&(e=W.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<W.Verbose||console.log("".concat(Ui,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<W.Warn||console.warn("".concat(Ui,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<W.Error||console.error("".concat(Ui,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<W.Debug||console.log("".concat(Ui,"[Debug]: ").concat(e.join(" ")))},e}(),Wi=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:W.Warn,loggerProvider:new Bi,optOut:!1,serverUrl:Mi,serverZone:Fi.US,useBatch:!1}},Vi=function(){function e(e){var t,i,n,r;this._optOut=!1;var s=Wi();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=null!==(i=e.logLevel)&&void 0!==i?i:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=null!==(n=e.optOut)&&void 0!==n?n:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(r=e.useBatch)&&void 0!==r?r:s.useBatch,this.loggerProvider.enable(this.logLevel);var o=Hi(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=o.serverZone,this.serverUrl=o.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),$i=function(e,t){return e===Fi.EU?t?"https://api.eu.amplitude.com/batch":"https://api.eu.amplitude.com/2/httpapi":t?"https://api2.amplitude.com/batch":Mi},Hi=function(e,t,i){if(void 0===e&&(e=""),void 0===t&&(t=Wi().serverZone),void 0===i&&(i=Wi().useBatch),e)return{serverUrl:e,serverZone:void 0};var n=["US","EU"].includes(t)?t:Wi().serverZone;return{serverZone:n,serverUrl:$i(n,i)}};function qi(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body))}catch(e){}return t}var Ki,Gi,Zi,Yi=function(){function e(){this.name="amplitude",this.type=Ei.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(e){var t;return gi(this,void 0,void 0,(function(){var i,n=this;return yi(this,(function(r){switch(r.label){case 0:return this.config=e,this.storageKey="".concat(Ci,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return i=r.sent(),this.saveEvents(),i&&i.length>0&&Promise.all(i.map((function(e){return n.execute(e)}))).catch(),[2,Promise.resolve(void 0)]}}))}))},e.prototype.execute=function(e){var t=this;return new Promise((function(i){var n={event:e,attempts:0,callback:function(e){return i(e)},timeout:0};t.addToQueue(n)}))},e.prototype.addToQueue=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];t.filter((function(t){return t.attempts<e.config.flushMaxRetries?(t.attempts+=1,!0):(e.fulfillRequest([t],500,"Event rejected due to exceeded retry count"),!1)})).forEach((function(t){e.queue=e.queue.concat(t),0!==t.timeout?setTimeout((function(){t.timeout=0,e.schedule(0)}),t.timeout):e.schedule(e.config.flushIntervalMillis)})),this.saveEvents()},e.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout((function(){t.flush(!0).then((function(){t.queue.length>0&&t.schedule(e)}))}),e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),gi(this,void 0,void 0,(function(){var t,i,n,r=this;return yi(this,(function(s){switch(s.label){case 0:return t=[],i=[],this.queue.forEach((function(e){return 0===e.timeout?t.push(e):i.push(e)})),this.queue=i,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),o=t,a=this.config.flushQueueSize,l=Math.max(a,1),n=o.reduce((function(e,t,i){var n=Math.floor(i/l);return e[n]||(e[n]=[]),e[n].push(t),e}),[]),[4,Promise.all(n.map((function(t){return r.send(t,e)})))];case 1:return s.sent(),[2]}var o,a,l}))}))},e.prototype.send=function(e,t){return void 0===t&&(t=!0),gi(this,void 0,void 0,(function(){var i,n,r,s,o;return yi(this,(function(a){switch(a.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];i={api_key:this.config.apiKey,events:e.map((function(e){var t=e.event;t.extra;return mi(t,["extra"])})),options:{min_id_length:this.config.minIdLength}},a.label=1;case 1:return a.trys.push([1,3,,4]),n=Hi(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(n,i)];case 2:return null===(r=a.sent())?(this.fulfillRequest(e,0,"Unexpected error occurred"),[2]):t?(this.handleResponse(r,e),[3,4]):("body"in r?this.fulfillRequest(e,r.statusCode,"".concat(r.status,": ").concat(qi(r))):this.fulfillRequest(e,r.statusCode,r.status),[2]);case 3:return s=a.sent(),this.config.loggerProvider.error(s),o=(l=s)instanceof Error?l.message:String(l),this.fulfillRequest(e,0,o),[3,4];case 4:return[2]}var l}))}))},e.prototype.handleResponse=function(e,t){var i=e.status;switch(i){case Ni.Success:this.handleSuccessResponse(e,t);break;case Ni.Invalid:this.handleInvalidResponse(e,t);break;case Ni.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case Ni.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(i,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var i=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key"))this.fulfillRequest(t,e.statusCode,e.body.error);else{var n=wi(wi(wi(wi([],bi(Object.values(e.body.eventsWithInvalidFields)),!1),bi(Object.values(e.body.eventsWithMissingFields)),!1),bi(Object.values(e.body.eventsWithInvalidIdLengths)),!1),bi(e.body.silencedEvents),!1).flat(),r=new Set(n),s=t.filter((function(t,n){if(!r.has(n))return!0;i.fulfillRequest([t],e.statusCode,e.body.error)}));s.length>0&&this.config.loggerProvider.warn(qi(e)),this.addToQueue.apply(this,wi([],bi(s),!1))}},e.prototype.handlePayloadTooLargeResponse=function(e,t){1!==t.length?(this.config.loggerProvider.warn(qi(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,wi([],bi(t),!1))):this.fulfillRequest(t,e.statusCode,e.body.error)},e.prototype.handleRateLimitResponse=function(e,t){var i=this,n=Object.keys(e.body.exceededDailyQuotaUsers),r=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,o=new Set(n),a=new Set(r),l=new Set(s),c=t.filter((function(t,n){if(!(t.event.user_id&&o.has(t.event.user_id)||t.event.device_id&&a.has(t.event.device_id)))return l.has(n)&&(t.timeout=i.throttleTimeout),!0;i.fulfillRequest([t],e.statusCode,e.body.error)}));c.length>0&&this.config.loggerProvider.warn(qi(e)),this.addToQueue.apply(this,wi([],bi(c),!1))},e.prototype.handleOtherResponse=function(e){var t=this;this.addToQueue.apply(this,wi([],bi(e.map((function(e){return e.timeout=e.attempts*t.retryTimeout,e}))),!1))},e.prototype.fulfillRequest=function(e,t,i){this.saveEvents(),e.forEach((function(e){return e.callback(zi(e.event,t,i))}))},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map((function(e){return e.event})));this.config.storageProvider.set(this.storageKey,e)}},e}(),Qi=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Qi)};!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(Ki||(Ki={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"}(Gi||(Gi={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(Zi||(Zi={}));var Ji,Xi=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var i=e[t];if(!en(t,i))return!1}return!0},en=function(e,t){var i,n;if("string"!=typeof e)return!1;if(Array.isArray(t)){var r=!0;try{for(var s=_i(t),o=s.next();!o.done;o=s.next()){var a=o.value;if(Array.isArray(a))return!1;if("object"==typeof a)r=r&&Xi(a);else if(!["number","string"].includes(typeof a))return!1;if(!r)return!1}}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}}else{if(null==t)return!1;if("object"==typeof t)return Xi(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},tn=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return vi({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(Ki.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(Ki.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(Ki.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(Ki.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(Ki.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(Ki.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(Ki.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(Ki.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(Ki.UNSET,e,"-"),this},e.prototype.clearAll=function(){return this._properties={},this._properties[Ki.CLEAR_ALL]="-",this},e.prototype._safeSet=function(e,t,i){if(this._validate(e,t,i)){var n=this._properties[e];return void 0===n&&(n={},this._properties[e]=n),n[t]=i,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,i){return void 0===this._properties[Ki.CLEAR_ALL]&&(!this._propertySet.has(t)&&(e===Ki.ADD?"number"==typeof i:e===Ki.UNSET||e===Ki.REMOVE||en(t,i)))},e}(),nn=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return Xi(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?vi({},this.properties):{};return e[Gi.REVENUE_PRODUCT_ID]=this.productId,e[Gi.REVENUE_QUANTITY]=this.quantity,e[Gi.REVENUE_PRICE]=this.price,e[Gi.REVENUE_TYPE]=this.revenueType,e[Gi.REVENUE]=this.revenue,e},e}(),rn=function(e,t){return vi(vi({},t),{event_type:Zi.IDENTIFY,user_properties:e.getUserProperties()})},sn=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){return gi(this,void 0,void 0,(function(){return yi(this,(function(i){switch(i.label){case 0:return[4,e.setup(t,this.client)];case 1:return i.sent(),this.plugins.push(e),[2]}}))}))},e.prototype.deregister=function(e){var t;return gi(this,void 0,void 0,(function(){var i,n;return yi(this,(function(r){switch(r.label){case 0:return i=this.plugins.findIndex((function(t){return t.name===e})),n=this.plugins[i],this.plugins.splice(i,1),[4,null===(t=n.teardown)||void 0===t?void 0:t.call(n)];case 1:return r.sent(),[2]}}))}))},e.prototype.reset=function(e){this.applying=!1,this.plugins.map((function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)})),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise((function(i){t.queue.push([e,i]),t.scheduleApply(0)}))},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout((function(){t.apply(t.queue.shift()).then((function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)}))}),e))},e.prototype.apply=function(e){return gi(this,void 0,void 0,(function(){var t,i,n,r,s,o,a,l,c,d,u,p,h,f,v,m,g,y,_;return yi(this,(function(b){switch(b.label){case 0:if(!e)return[2];t=bi(e,1),i=t[0],n=bi(e,2),r=n[1],s=this.plugins.filter((function(e){return e.type===Ei.BEFORE})),b.label=1;case 1:b.trys.push([1,6,7,8]),o=_i(s),a=o.next(),b.label=2;case 2:return a.done?[3,5]:[4,a.value.execute(vi({},i))];case 3:if(null===(p=b.sent()))return r({event:i,code:0,message:""}),[2];i=p,b.label=4;case 4:return a=o.next(),[3,2];case 5:return[3,8];case 6:return l=b.sent(),m={error:l},[3,8];case 7:try{a&&!a.done&&(g=o.return)&&g.call(o)}finally{if(m)throw m.error}return[7];case 8:c=this.plugins.filter((function(e){return e.type===Ei.ENRICHMENT})),b.label=9;case 9:b.trys.push([9,14,15,16]),d=_i(c),u=d.next(),b.label=10;case 10:return u.done?[3,13]:[4,u.value.execute(vi({},i))];case 11:if(null===(p=b.sent()))return r({event:i,code:0,message:""}),[2];i=p,b.label=12;case 12:return u=d.next(),[3,10];case 13:return[3,16];case 14:return h=b.sent(),y={error:h},[3,16];case 15:try{u&&!u.done&&(_=d.return)&&_.call(d)}finally{if(y)throw y.error}return[7];case 16:return f=this.plugins.filter((function(e){return e.type===Ei.DESTINATION})),v=f.map((function(e){var t=vi({},i);return e.execute(t).catch((function(e){return zi(t,0,String(e))}))})),Promise.all(v).then((function(e){var t=bi(e,1)[0];r(t)})),[2]}}))}))},e.prototype.flush=function(){return gi(this,void 0,void 0,(function(){var e,t,i,n=this;return yi(this,(function(r){switch(r.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map((function(e){return n.apply(e)})))];case 1:return r.sent(),t=this.plugins.filter((function(e){return e.type===Ei.DESTINATION})),i=t.map((function(e){return e.flush&&e.flush()})),[4,Promise.all(i)];case 2:return r.sent(),[2]}}))}))},e}(),on=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new sn(this),this.name=e}return e.prototype._init=function(e){return gi(this,void 0,void 0,(function(){return yi(this,(function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),[2]}}))}))},e.prototype.runQueuedFunctions=function(e){return gi(this,void 0,void 0,(function(){var t,i,n,r,s,o;return yi(this,(function(a){switch(a.label){case 0:t=this[e],this[e]=[],a.label=1;case 1:a.trys.push([1,6,7,8]),i=_i(t),n=i.next(),a.label=2;case 2:return n.done?[3,5]:[4,(0,n.value)()];case 3:a.sent(),a.label=4;case 4:return n=i.next(),[3,2];case 5:return[3,8];case 6:return r=a.sent(),s={error:r},[3,8];case 7:try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))}))},e.prototype.track=function(e,t,i){var n=function(e,t,i){return vi(vi(vi({},"string"==typeof e?{event_type:e}:e),i),t&&{event_properties:t})}(e,t,i);return Ri(this.dispatch(n))},e.prototype.identify=function(e,t){var i=rn(e,t);return Ri(this.dispatch(i))},e.prototype.groupIdentify=function(e,t,i,n){var r=function(e,t,i,n){var r;return vi(vi({},n),{event_type:Zi.GROUP_IDENTIFY,group_properties:i.getUserProperties(),groups:(r={},r[e]=t,r)})}(e,t,i,n);return Ri(this.dispatch(r))},e.prototype.setGroup=function(e,t,i){var n=function(e,t,i){var n,r=new tn;return r.set(e,t),vi(vi({},i),{event_type:Zi.IDENTIFY,user_properties:r.getUserProperties(),groups:(n={},n[e]=t,n)})}(e,t,i);return Ri(this.dispatch(n))},e.prototype.revenue=function(e,t){var i=function(e,t){return vi(vi({},t),{event_type:Zi.REVENUE,event_properties:e.getEventProperties()})}(e,t);return Ri(this.dispatch(i))},e.prototype.add=function(e){return this.config?Ri(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),Ri())},e.prototype.remove=function(e){return this.config?Ri(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),Ri())},e.prototype.dispatchWithCallback=function(e,t){if(!this.config)return t(zi(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return gi(this,void 0,void 0,(function(){var t=this;return yi(this,(function(i){return this.config?[2,this.process(e)]:[2,new Promise((function(i){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,i))}))]}))}))},e.prototype.process=function(e){return gi(this,void 0,void 0,(function(){var t,i,n;return yi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.config.optOut?[2,zi(e,0,"Event skipped due to optOut config")]:[4,this.timeline.push(e)];case 1:return 200===(n=r.sent()).code?this.config.loggerProvider.log(n.message):this.config.loggerProvider.error(n.message),[2,n];case 2:return t=r.sent(),this.config.loggerProvider.error(t),i=String(t),[2,n=zi(e,0,i)];case 3:return[2]}}))}))},e.prototype.setOptOut=function(e){this.config?this.config.optOut=Boolean(e):this.q.push(this.setOptOut.bind(this,Boolean(e)))},e.prototype.flush=function(){return Ri(this.timeline.flush())},e}(),an="dclid",ln="fbclid",cn="gbraid",dn="gclid",un="ko_click_id",pn="li_fat_id",hn="msclkid",fn="rtd_cid",vn="ttclid",mn="twclid",gn="wbraid",yn={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},_n=function(){function e(){}return e.prototype.parse=function(){return gi(this,void 0,void 0,(function(){return yi(this,(function(e){return[2,vi(vi(vi(vi({},yn),this.getUtmParam()),this.getReferrer()),this.getClickIds())]}))}))},e.prototype.getUtmParam=function(){var e=Pi();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,i={referrer:void 0,referring_domain:void 0};try{i.referrer=document.referrer||void 0,i.referring_domain=null!==(t=null===(e=i.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return i},e.prototype.getClickIds=function(){var e,t=Pi();return(e={})[an]=t[an],e[ln]=t[ln],e[cn]=t[cn],e[dn]=t[dn],e[un]=t[un],e[pn]=t[pn],e[hn]=t[hn],e[fn]=t[fn],e[vn]=t[vn],e[mn]=t[mn],e[gn]=t[gn],e},e}(),bn=function(e){var t={};for(var i in e){var n=e[i];n&&(t[i]=n)}return t},wn=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n,r={},s=Ii(),o=void 0,a=bi(t,2),l=a[0],c=a[1];l&&"init"in l?(e=l,c&&(r=c)):l&&(r=l);var d=function(){return gi(void 0,void 0,void 0,(function(){var e,t,i;return yi(this,(function(n){switch(n.label){case 0:return t={event_type:null!==(i=r.eventType)&&void 0!==i?i:"Page View"},e=[{}],[4,En()];case 1:return[2,(t.event_properties=vi.apply(void 0,[vi.apply(void 0,e.concat([n.sent()])),{page_domain:"undefined"!=typeof location&&location.hostname||"",page_location:"undefined"!=typeof location&&location.href||"",page_path:"undefined"!=typeof location&&location.pathname||"",page_title:"undefined"!=typeof document&&document.title||"",page_url:"undefined"!=typeof location&&location.href.split("?")[0]||""}]),t)]}}))}))},u=function(){return void 0===r.trackOn||"function"==typeof r.trackOn&&r.trackOn()},p="undefined"!=typeof location?location.href:null,h=function(){return gi(void 0,void 0,void 0,(function(){var t,i,n,s;return yi(this,(function(a){switch(a.label){case 0:return t=location.href,i=kn(r.trackHistoryChanges,t,p||"")&&u(),p=t,i?(null==o||o.log("Tracking page view event"),null!=e?[3,1]:[3,3]):[3,4];case 1:return s=(n=e).track,[4,d()];case 2:s.apply(n,[a.sent()]),a.label=3;case 3:a.label=4;case 4:return[2]}}))}))},f=function(){h()},v={name:"page-view-tracking",type:Ei.ENRICHMENT,setup:function(t,i){return gi(void 0,void 0,void 0,(function(){var a,c,p,v,m;return yi(this,(function(g){switch(g.label){case 0:return(e=null!=e?e:i)?((o=t.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),r.trackOn=(null===(v=t.attribution)||void 0===v?void 0:v.trackPageViews)?"attribution":r.trackOn,!i&&(null===(m=t.attribution)||void 0===m?void 0:m.trackPageViews)&&(o.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."),t.attribution.trackPageViews=!1),r.trackHistoryChanges&&s&&(s.addEventListener("popstate",f),n=s.history.pushState,s.history.pushState=new Proxy(s.history.pushState,{apply:function(e,t,i){var n=bi(i,3),r=n[0],s=n[1],o=n[2];e.apply(t,[r,s,o]),h()}})),u()?(o.log("Tracking page view event"),p=(c=e).track,[4,d()]):[3,2]):(a=l?"Options":"undefined",t.loggerProvider.error("Argument of type '".concat(a,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:p.apply(c,[g.sent()]),g.label=2;case 2:return[2]}}))}))},execute:function(e){return gi(void 0,void 0,void 0,(function(){var t;return yi(this,(function(i){switch(i.label){case 0:return"attribution"===r.trackOn&&An(e)?(null==o||o.log("Enriching campaign event to page view event with campaign parameters"),[4,d()]):[3,2];case 1:t=i.sent(),e.event_type=t.event_type,e.event_properties=vi(vi({},e.event_properties),t.event_properties),i.label=2;case 2:return[2,e]}}))}))},teardown:function(){return gi(void 0,void 0,void 0,(function(){return yi(this,(function(e){return s&&(s.removeEventListener("popstate",f),n&&(s.history.pushState=n)),[2]}))}))}};return v.__trackHistoryPageView=h,v},En=function(){return gi(void 0,void 0,void 0,(function(){var e;return yi(this,(function(t){switch(t.label){case 0:return e=bn,[4,(new _n).parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},An=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,i=t[Ki.SET]||{},n=t[Ki.UNSET]||{},r=wi(wi([],bi(Object.keys(i)),!1),bi(Object.keys(n)),!1);return Object.keys(yn).every((function(e){return r.includes(e)}))}return!1},kn=function(e,t,i){return"pathOnly"===e?t.split("?")[0]!==i.split("?")[0]:t!==i},xn=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},Sn=function(){for(var e,t,i=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s={},o=bi(n,2),a=o[0],l=o[1];a&&"init"in a?(t=a,l&&(s=l)):a&&(s=a);var c=null!==(e=s.excludeReferrers)&&void 0!==e?e:[];"undefined"!=typeof location&&c.unshift(location.hostname),s=vi(vi({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},s),{excludeReferrers:c});var d={name:"web-attribution",type:Ei.BEFORE,setup:function(e,i){var n;return gi(this,void 0,void 0,(function(){var r,o,l,c,d,u,p,h;return yi(this,(function(f){switch(f.label){case 0:return(t=null!=t?t:i)?s.disabled?(e.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(e.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),i||(null===(n=e.attribution)||void 0===n?void 0:n.disabled)||(e.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),e.attribution={disabled:!0}),o=e.cookieStorage,v=e.apiKey,void 0===(m="MKTG")&&(m=""),void 0===g&&(g=10),l=[Li,m,v.substring(0,g)].filter(Boolean).join("_"),[4,Promise.all([(new _n).parse(),o.get(l)])]):(r=a?"Options":"undefined",e.loggerProvider.error("Argument of type '".concat(r,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return c=bi.apply(void 0,[f.sent(),2]),d=c[0],u=c[1],(null!=(p=this.__pluginEnabledOverride)?p:function(e,t,i){e.referrer;var n,r=e.referring_domain,s=mi(e,["referrer","referring_domain"]),o=t||{},a=(o.referrer,o.referring_domain),l=mi(o,["referrer","referring_domain"]);if(e.referring_domain&&(null===(n=i.excludeReferrers)||void 0===n?void 0:n.includes(e.referring_domain)))return!1;var c=JSON.stringify(s)!==JSON.stringify(l),d=xn(r||"")!==xn(a||"");return!t||c||d}(d,u,s))&&(s.resetSessionOnNewCampaign&&(t.setSessionId(Date.now()),e.loggerProvider.log("Created a new session for new campaign.")),e.loggerProvider.log("Tracking attribution."),h=function(e,t){var i=vi(vi({},yn),e),n=Object.entries(i).reduce((function(e,i){var n,r=bi(i,2),s=r[0],o=r[1];return e.setOnce("initial_".concat(s),null!==(n=null!=o?o:t.initialEmptyValue)&&void 0!==n?n:"EMPTY"),o?e.set(s,o):e.unset(s)}),new tn);return rn(n)}(d,s),t.track(h),o.set(l,d)),[2]}var v,m,g}))}))},execute:function(e){return gi(i,void 0,void 0,(function(){return yi(this,(function(t){return[2,e]}))}))},__pluginEnabledOverride:void 0};return d};!function(e){e.XHR="xhr",e.SendBeacon="beacon",e.Fetch="fetch"}(Ji||(Ji={}));var Ln=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return gi(this,void 0,void 0,(function(){return yi(this,(function(e){return[2,!0]}))}))},e.prototype.get=function(e){return gi(this,void 0,void 0,(function(){return yi(this,(function(t){return[2,this.memoryStorage.get(e)]}))}))},e.prototype.getRaw=function(e){return gi(this,void 0,void 0,(function(){var t;return yi(this,(function(i){switch(i.label){case 0:return[4,this.get(e)];case 1:return[2,(t=i.sent())?JSON.stringify(t):void 0]}}))}))},e.prototype.set=function(e,t){return gi(this,void 0,void 0,(function(){return yi(this,(function(i){return this.memoryStorage.set(e,t),[2]}))}))},e.prototype.remove=function(e){return gi(this,void 0,void 0,(function(){return yi(this,(function(t){return this.memoryStorage.delete(e),[2]}))}))},e.prototype.reset=function(){return gi(this,void 0,void 0,(function(){return yi(this,(function(e){return this.memoryStorage.clear(),[2]}))}))},e}(),Cn=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){var t,i,n,r,s,o,a,l,c,d,u,p,h,f,v,m,g,y,_,b,w,E;if("object"!=typeof e)return null;var A=e.code||0,k=this.buildStatus(A);switch(k){case Ni.Success:return{status:k,statusCode:A,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(i=e.payload_size_bytes)&&void 0!==i?i:0,serverUploadTime:null!==(n=e.server_upload_time)&&void 0!==n?n:0}};case Ni.Invalid:return{status:k,statusCode:A,body:{error:null!==(r=e.error)&&void 0!==r?r:"",missingField:null!==(s=e.missing_field)&&void 0!==s?s:"",eventsWithInvalidFields:null!==(o=e.events_with_invalid_fields)&&void 0!==o?o:{},eventsWithMissingFields:null!==(a=e.events_with_missing_fields)&&void 0!==a?a:{},eventsWithInvalidIdLengths:null!==(l=e.events_with_invalid_id_lengths)&&void 0!==l?l:{},epsThreshold:null!==(c=e.eps_threshold)&&void 0!==c?c:0,exceededDailyQuotaDevices:null!==(d=e.exceeded_daily_quota_devices)&&void 0!==d?d:{},silencedDevices:null!==(u=e.silenced_devices)&&void 0!==u?u:[],silencedEvents:null!==(p=e.silenced_events)&&void 0!==p?p:[],throttledDevices:null!==(h=e.throttled_devices)&&void 0!==h?h:{},throttledEvents:null!==(f=e.throttled_events)&&void 0!==f?f:[]}};case Ni.PayloadTooLarge:return{status:k,statusCode:A,body:{error:null!==(v=e.error)&&void 0!==v?v:""}};case Ni.RateLimit:return{status:k,statusCode:A,body:{error:null!==(m=e.error)&&void 0!==m?m:"",epsThreshold:null!==(g=e.eps_threshold)&&void 0!==g?g:0,throttledDevices:null!==(y=e.throttled_devices)&&void 0!==y?y:{},throttledUsers:null!==(_=e.throttled_users)&&void 0!==_?_:{},exceededDailyQuotaDevices:null!==(b=e.exceeded_daily_quota_devices)&&void 0!==b?b:{},exceededDailyQuotaUsers:null!==(w=e.exceeded_daily_quota_users)&&void 0!==w?w:{},throttledEvents:null!==(E=e.throttled_events)&&void 0!==E?E:[]}};case Ni.Timeout:default:return{status:k,statusCode:A}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?Ni.Success:429===e?Ni.RateLimit:413===e?Ni.PayloadTooLarge:408===e?Ni.Timeout:e>=400&&e<500?Ni.Invalid:e>=500?Ni.Failed:Ni.Unknown},e}(),Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype.send=function(e,t){return gi(this,void 0,void 0,(function(){var i,n,r;return yi(this,(function(s){switch(s.label){case 0:if("undefined"==typeof fetch)throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"},[4,fetch(e,i)];case 1:return[4,(n=s.sent()).text()];case 2:r=s.sent();try{return[2,this.buildResponse(JSON.parse(r))]}catch(e){return[2,this.buildResponse({code:n.status})]}return[2]}}))}))},t}(Cn),Tn=function(){function e(e){this.options=vi({},e)}return e.prototype.isEnabled=function(){return gi(this,void 0,void 0,(function(){var t,i;return yi(this,(function(n){switch(n.label){case 0:if(!Ii())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),i="AMP_TEST",n.label=1;case 1:return n.trys.push([1,4,5,7]),[4,t.set(i,e.testValue)];case 2:return n.sent(),[4,t.get(i)];case 3:return[2,n.sent()===e.testValue];case 4:return n.sent(),[2,!1];case 5:return[4,t.remove(i)];case 6:return n.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){return gi(this,void 0,void 0,(function(){var t;return yi(this,(function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(!(t=i.sent()))return[2,void 0];try{try{t=decodeURIComponent(atob(t))}catch(e){}return[2,JSON.parse(t)]}catch(e){return[2,void 0]}return[2]}}))}))},e.prototype.getRaw=function(e){var t;return gi(this,void 0,void 0,(function(){var i,n,r;return yi(this,(function(s){return i=Ii(),n=null!==(t=null==i?void 0:i.document.cookie.split("; "))&&void 0!==t?t:[],r=n.find((function(t){return 0===t.indexOf(e+"=")})),r?[2,r.substring(e.length+1)]:[2,void 0]}))}))},e.prototype.set=function(e,t){var i;return gi(this,void 0,void 0,(function(){var n,r,s,o,a,l;return yi(this,(function(c){try{n=null!==(i=this.options.expirationDays)&&void 0!==i?i:0,s=void 0,(r=null!==t?n:-1)&&((o=new Date).setTime(o.getTime()+24*r*60*60*1e3),s=o),a="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),s&&(a+="; expires=".concat(s.toUTCString())),a+="; path=/",this.options.domain&&(a+="; domain=".concat(this.options.domain)),this.options.secure&&(a+="; Secure"),this.options.sameSite&&(a+="; SameSite=".concat(this.options.sameSite)),(l=Ii())&&(l.document.cookie=a)}catch(e){}return[2]}))}))},e.prototype.remove=function(e){return gi(this,void 0,void 0,(function(){return yi(this,(function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}}))}))},e.prototype.reset=function(){return gi(this,void 0,void 0,(function(){return yi(this,(function(e){return[2]}))}))},e}(),In=1e3,Pn=function(){function e(e){this.loggerProvider=null==e?void 0:e.loggerProvider}return e.prototype.isEnabled=function(){return gi(this,void 0,void 0,(function(){var t,i,n;return yi(this,(function(r){switch(r.label){case 0:if(!Ii())return[2,!1];t=String(Date.now()),i=new e,n="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,i.set(n,t)];case 2:return r.sent(),[4,i.get(n)];case 3:return[2,r.sent()===t];case 4:return r.sent(),[2,!1];case 5:return[4,i.remove(n)];case 6:return r.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){return gi(this,void 0,void 0,(function(){var t;return yi(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return(t=i.sent())?[2,JSON.parse(t)]:[2,void 0];case 2:return i.sent(),[2,void 0];case 3:return[2]}}))}))},e.prototype.getRaw=function(e){var t;return gi(this,void 0,void 0,(function(){return yi(this,(function(i){return[2,(null===(t=Ii())||void 0===t?void 0:t.localStorage.getItem(e))||void 0]}))}))},e.prototype.set=function(e,t){var i,n;return gi(this,void 0,void 0,(function(){var r,s,o;return yi(this,(function(a){r=Array.isArray(t)&&t.length>In;try{s=r?JSON.stringify(t.slice(0,In)):JSON.stringify(t),null===(i=Ii())||void 0===i||i.localStorage.setItem(e,s)}catch(e){}return r&&(o=t.length-In,null===(n=this.loggerProvider)||void 0===n||n.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(In,"."))),[2]}))}))},e.prototype.remove=function(e){var t;return gi(this,void 0,void 0,(function(){return yi(this,(function(i){try{null===(t=Ii())||void 0===t||t.localStorage.removeItem(e)}catch(e){}return[2]}))}))},e.prototype.reset=function(){var e;return gi(this,void 0,void 0,(function(){return yi(this,(function(t){try{null===(e=Ii())||void 0===e||e.localStorage.clear()}catch(e){}return[2]}))}))},e}(),Dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return fi(t,e),t.prototype.send=function(e,t){return gi(this,void 0,void 0,(function(){var i=this;return yi(this,(function(n){return[2,new Promise((function(n,r){"undefined"==typeof XMLHttpRequest&&r(new Error("XHRTransport is not supported."));var s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){if(s.readyState===i.state.done){var e=s.responseText;try{n(i.buildResponse(JSON.parse(e)))}catch(e){n(i.buildResponse({code:s.status}))}}},s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","*/*"),s.send(JSON.stringify(t))}))]}))}))},t}(Cn),On=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype.send=function(e,t){return gi(this,void 0,void 0,(function(){var i=this;return yi(this,(function(n){return[2,new Promise((function(n,r){var s=Ii();if(!(null==s?void 0:s.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var o=JSON.stringify(t);return n(s.navigator.sendBeacon(e,JSON.stringify(t))?i.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:o.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(e){r(e)}}))]}))}))},t}(Cn),Nn=function(){return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:!1,cookieStorage:new Ln,cookieUpgrade:!0,disableCookies:!1,domain:"",sessionTimeout:18e5,trackingOptions:{deviceManufacturer:!0,deviceModel:!0,ipAddress:!0,language:!0,osName:!0,osVersion:!0,platform:!0},transportProvider:new Mn}},jn=function(e){function t(t,i){var n,r,s,o,a,l,c,d,u,p=this,h=Nn();return(p=e.call(this,vi(vi({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:h.transportProvider},i),{apiKey:t}))||this)._optOut=!1,p.cookieStorage=null!==(n=null==i?void 0:i.cookieStorage)&&void 0!==n?n:h.cookieStorage,p.deviceId=null==i?void 0:i.deviceId,p.lastEventId=null==i?void 0:i.lastEventId,p.lastEventTime=null==i?void 0:i.lastEventTime,p.optOut=Boolean(null==i?void 0:i.optOut),p.sessionId=null==i?void 0:i.sessionId,p.userId=null==i?void 0:i.userId,p.appVersion=null==i?void 0:i.appVersion,p.attribution=null==i?void 0:i.attribution,p.cookieExpiration=null!==(r=null==i?void 0:i.cookieExpiration)&&void 0!==r?r:h.cookieExpiration,p.cookieSameSite=null!==(s=null==i?void 0:i.cookieSameSite)&&void 0!==s?s:h.cookieSameSite,p.cookieSecure=null!==(o=null==i?void 0:i.cookieSecure)&&void 0!==o?o:h.cookieSecure,p.cookieUpgrade=null!==(a=null==i?void 0:i.cookieUpgrade)&&void 0!==a?a:h.cookieUpgrade,p.defaultTracking=null==i?void 0:i.defaultTracking,p.disableCookies=null!==(l=null==i?void 0:i.disableCookies)&&void 0!==l?l:h.disableCookies,p.defaultTracking=null==i?void 0:i.defaultTracking,p.domain=null!==(c=null==i?void 0:i.domain)&&void 0!==c?c:h.domain,p.partnerId=null==i?void 0:i.partnerId,p.sessionTimeout=null!==(d=null==i?void 0:i.sessionTimeout)&&void 0!==d?d:h.sessionTimeout,p.trackingOptions=null!==(u=null==i?void 0:i.trackingOptions)&&void 0!==u?u:h.trackingOptions,p}return fi(t,e),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e,t={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};null===(e=this.cookieStorage)||void 0===e||e.set(Ti(this.apiKey),t)},t}(Vi),Rn=function(e,t){return gi(void 0,void 0,void 0,(function(){var i,n,r,s,o,a,l,c,d,u,p,h,f,v,m;return yi(this,(function(g){switch(g.label){case 0:return i=Nn(),n=null!==(v=null==t?void 0:t.deviceId)&&void 0!==v?v:Qi(),r=null==t?void 0:t.lastEventId,s=null==t?void 0:t.lastEventTime,o=null==t?void 0:t.optOut,a=null==t?void 0:t.sessionId,l=null==t?void 0:t.userId,c=null==t?void 0:t.cookieStorage,d=null==t?void 0:t.domain,u=jn.bind,p=[void 0,e],h=[vi({},t)],f={cookieStorage:c,deviceId:n,domain:d,lastEventId:r,lastEventTime:s,optOut:o,sessionId:a},[4,Un(t)];case 1:return[2,new(u.apply(jn,p.concat([vi.apply(void 0,h.concat([(f.storageProvider=g.sent(),f.trackingOptions=vi(vi({},i.trackingOptions),null==t?void 0:t.trackingOptions),f.transportProvider=null!==(m=null==t?void 0:t.transportProvider)&&void 0!==m?m:Bn(null==t?void 0:t.transport),f.userId=l,f)]))])))]}}))}))},Fn=function(e,t){return void 0===t&&(t=Nn()),gi(void 0,void 0,void 0,(function(){var i,n,r;return yi(this,(function(s){switch(s.label){case 0:return i=vi(vi({},t),e),n=null==e?void 0:e.cookieStorage,(r=!n)?[3,2]:[4,n.isEnabled()];case 1:r=!s.sent(),s.label=2;case 2:return r?[2,zn(i)]:[2,n]}}))}))},zn=function(e){return gi(void 0,void 0,void 0,(function(){var t,i;return yi(this,(function(n){switch(n.label){case 0:return t=new Tn({domain:e.domain,expirationDays:e.cookieExpiration,sameSite:e.cookieSameSite,secure:e.cookieSecure}),(i=e.disableCookies)?[3,2]:[4,t.isEnabled()];case 1:i=!n.sent(),n.label=2;case 2:return i?[4,(t=new Pn).isEnabled()]:[3,4];case 3:n.sent()||(t=new Ln),n.label=4;case 4:return[2,t]}}))}))},Un=function(e){return gi(void 0,void 0,void 0,(function(){var t,i,n,r,s,o,a,l,c;return yi(this,(function(d){switch(d.label){case 0:if(t=e&&Object.prototype.hasOwnProperty.call(e,"storageProvider"),i=e&&e.loggerProvider,t&&!e.storageProvider)return[3,9];d.label=1;case 1:d.trys.push([1,7,8,9]),n=_i([null==e?void 0:e.storageProvider,new Pn({loggerProvider:i})]),r=n.next(),d.label=2;case 2:return r.done?[3,6]:(s=r.value,(o=s)?[4,s.isEnabled()]:[3,4]);case 3:o=d.sent(),d.label=4;case 4:if(o)return[2,s];d.label=5;case 5:return r=n.next(),[3,2];case 6:return[3,9];case 7:return a=d.sent(),l={error:a},[3,9];case 8:try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(l)throw l.error}return[7];case 9:return[2,void 0]}}))}))},Bn=function(e){return e===Ji.XHR?new Dn:e===Ji.SendBeacon?new On:Nn().transportProvider},Wn="[Amplitude]",Vn="".concat(Wn," Page Viewed"),$n="".concat(Wn," Form Started"),Hn="".concat(Wn," Form Submitted"),qn="".concat(Wn," File Downloaded"),Kn="session_start",Gn="session_end",Zn="".concat(Wn," File Extension"),Yn="".concat(Wn," File Name"),Qn="".concat(Wn," Link ID"),Jn="".concat(Wn," Link Text"),Xn="".concat(Wn," Link URL"),er="".concat(Wn," Form ID"),tr="".concat(Wn," Form Name"),ir="".concat(Wn," Form Destination"),nr=function(e,t){return gi(void 0,void 0,void 0,(function(){var i,n,r,s,o,a,l,c,d,u,p;return yi(this,(function(h){switch(h.label){case 0:return[4,Fn(t)];case 1:return i=h.sent(),n=function(e){return"".concat(Li.toLowerCase(),"_").concat(e.substring(0,6))}(e),[4,i.getRaw(n)];case 2:return(r=h.sent())?(null!==(p=t.cookieUpgrade)&&void 0!==p?p:Nn().cookieUpgrade)?[4,i.remove(n)]:[3,4]:[2,{optOut:!1}];case 3:h.sent(),h.label=4;case 4:return s=bi(r.split("."),6),o=s[0],a=s[1],l=s[2],c=s[3],d=s[4],u=s[5],[2,{deviceId:o,userId:sr(a),sessionId:rr(c),lastEventId:rr(u),lastEventTime:rr(d),optOut:Boolean(l)}]}}))}))},rr=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},sr=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},or=function(){var e,t,i,n;if("undefined"==typeof navigator)return"";var r=navigator.userLanguage;return null!==(n=null!==(i=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==i?i:r)&&void 0!==n?n:""},ar=function(){function e(){this.name="context",this.type=Ei.BEFORE,this.library="amplitude-ts/".concat("1.13.6"),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent),this.uaResult=new(st())(this.userAgent).getResult()}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,i;return gi(this,void 0,void 0,(function(){var n,r,s,o,a,l,c;return yi(this,(function(d){return n=(new Date).getTime(),r=this.uaResult.browser.name,s=this.uaResult.browser.version,o=this.uaResult.device.model||this.uaResult.os.name,a=this.uaResult.device.vendor,l=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,c=null!==(i=e.event_id)&&void 0!==i?i:l+1,this.config.lastEventId=c,e.time||(this.config.lastEventTime=n),[2,vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:n},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.osName&&{os_name:r}),this.config.trackingOptions.osVersion&&{os_version:s}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:a}),this.config.trackingOptions.deviceModel&&{device_model:o}),this.config.trackingOptions.language&&{language:or()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:Qi(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:c,library:this.library,user_agent:this.userAgent})]}))}))},e}(),lr={page_domain:"".concat(Wn," Page Domain"),page_location:"".concat(Wn," Page Location"),page_path:"".concat(Wn," Page Path"),page_title:"".concat(Wn," Page Title"),page_url:"".concat(Wn," Page URL")},cr=function(){var e,t=[];return{name:"@amplitude/plugin-file-download-tracking-browser",type:Ei.ENRICHMENT,setup:function(i,n){return gi(void 0,void 0,void 0,(function(){var r,s;return yi(this,(function(o){return n?("undefined"==typeof document||(r=function(e){var i;try{i=new URL(e.href,window.location.href)}catch(e){return}var r=s.exec(i.href),o=null==r?void 0:r[1];o&&function(e,i,n){e.addEventListener(i,n),t.push({element:e,type:i,handler:n})}(e,"click",(function(){var t;o&&n.track(qn,((t={})[Zn]=o,t[Yn]=i.pathname,t[Qn]=e.id,t[Jn]=e.text,t[Xn]=e.href,t))}))},s=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,Array.from(document.getElementsByTagName("a")).forEach(r),"undefined"!=typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"A"===e.nodeName&&r(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(r)}))}))}))).observe(document.body,{subtree:!0,childList:!0})),[2]):(i.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])}))}))},execute:function(e){return gi(void 0,void 0,void 0,(function(){return yi(this,(function(t){return[2,e]}))}))},teardown:function(){return gi(void 0,void 0,void 0,(function(){return yi(this,(function(i){return null==e||e.disconnect(),t.forEach((function(e){var t=e.element,i=e.type,n=e.handler;null==t||t.removeEventListener(i,n)})),t=[],[2]}))}))}}},dr=function(){var e,t=[],i=function(e,i,n){e.addEventListener(i,n),t.push({element:e,type:i,handler:n})};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:Ei.ENRICHMENT,setup:function(t,n){return gi(void 0,void 0,void 0,(function(){var r;return yi(this,(function(s){return n?("undefined"==typeof document||(r=function(e){var t=!1;i(e,"change",(function(){var i;t||n.track($n,((i={})[er]=e.id,i[tr]=e.name,i[ir]=e.action,i)),t=!0})),i(e,"submit",(function(){var i,r;t||n.track($n,((i={})[er]=e.id,i[tr]=e.name,i[ir]=e.action,i)),n.track(Hn,((r={})[er]=e.id,r[tr]=e.name,r[ir]=e.action,r)),t=!1}))},Array.from(document.getElementsByTagName("form")).forEach(r),"undefined"!=typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"FORM"===e.nodeName&&r(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(r)}))}))}))).observe(document.body,{subtree:!0,childList:!0})),[2]):(t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])}))}))},execute:function(e){return gi(void 0,void 0,void 0,(function(){return yi(this,(function(t){return[2,e]}))}))},teardown:function(){return gi(void 0,void 0,void 0,(function(){return yi(this,(function(i){return null==e||e.disconnect(),t.forEach((function(e){var t=e.element,i=e.type,n=e.handler;null==t||t.removeEventListener(i,n)})),t=[],[2]}))}))}}},ur=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.name,s=n.args,o=n.resolve,a=e&&e[r];if("function"==typeof a){var l=a.apply(e,s);"function"==typeof o&&o(null==l?void 0:l.promise)}}return e},pr=function(e){return e&&void 0!==e._q},hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype.init=function(e,t,i){return void 0===e&&(e=""),Ri(this._init(vi(vi({},i),{userId:t,apiKey:e})))},t.prototype._init=function(t){var i,n,r,s,o,a,l,c,d,u,p,h,f,v,m,g,y,_,b,w;return gi(this,void 0,void 0,(function(){var E,A,k,x,S,L,C,M,T,I,P,D,O,N,j,R,F,z,U=this;return yi(this,(function(B){switch(B.label){case 0:return this.initializing?[2]:(this.initializing=!0,E=t,t.disableCookies?(A="",[3,5]):[3,1]);case 1:return null===(i=t.domain)||void 0===i?[3,2]:(k=i,[3,4]);case 2:return[4,gi(void 0,void 0,void 0,(function(){var e,t,i,n,r,s,o;return yi(this,(function(a){switch(a.label){case 0:return[4,(new Tn).isEnabled()];case 1:if(!a.sent()||!V&&("undefined"==typeof location||!location.hostname))return[2,""];for(e=null!=V?V:location.hostname,t=e.split("."),i=[],n="AMP_TLDTEST",r=t.length-2;r>=0;--r)i.push(t.slice(r).join("."));r=0,a.label=2;case 2:return r<i.length?(s=i[r],[4,(o=new Tn({domain:"."+s})).set(n,1)]):[3,7];case 3:return a.sent(),[4,o.get(n)];case 4:return a.sent()?[4,o.remove(n)]:[3,6];case 5:return a.sent(),[2,"."+s];case 6:return r++,[3,2];case 7:return[2,""]}}))}))];case 3:k=B.sent(),B.label=4;case 4:A=k,B.label=5;case 5:return E.domain=A,[4,nr(t.apiKey,t)];case 6:return x=B.sent(),[4,Fn(t)];case 7:return[4,(S=B.sent()).get(Ti(t.apiKey))];case 8:return L=B.sent(),C=Pi(),M=null!==(s=null!==(r=null!==(n=t.deviceId)&&void 0!==n?n:C.deviceId)&&void 0!==r?r:null==L?void 0:L.deviceId)&&void 0!==s?s:x.deviceId,T=null!==(o=null==L?void 0:L.sessionId)&&void 0!==o?o:x.sessionId,I=null!==(l=null!==(a=t.optOut)&&void 0!==a?a:null==L?void 0:L.optOut)&&void 0!==l?l:x.optOut,P=null!==(c=null==L?void 0:L.lastEventId)&&void 0!==c?c:x.lastEventId,D=null!==(d=null==L?void 0:L.lastEventTime)&&void 0!==d?d:x.lastEventTime,O=null!==(p=null!==(u=t.userId)&&void 0!==u?u:null==L?void 0:L.userId)&&void 0!==p?p:x.userId,this.previousSessionDeviceId=null!==(h=null==L?void 0:L.deviceId)&&void 0!==h?h:x.deviceId,this.previousSessionUserId=null!==(f=null==L?void 0:L.userId)&&void 0!==f?f:x.userId,[4,Rn(t.apiKey,vi(vi({},t),{deviceId:M,sessionId:T,optOut:I,lastEventId:P,lastEventTime:D,userId:O,cookieStorage:S}))];case 9:return N=B.sent(),[4,e.prototype._init.call(this,N)];case 10:return B.sent(),j=!1,(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout)&&(this.setSessionId(null!==(m=null!==(v=t.sessionId)&&void 0!==v?v:this.config.sessionId)&&void 0!==m?m:Date.now()),j=!0),(R=Oi(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new Yi).promise];case 11:return B.sent(),[4,this.add(new ar).promise];case 12:return B.sent(),[4,this.add(new ji).promise];case 13:return B.sent(),("boolean"==typeof(W=this.config.defaultTracking)?W:null==W?void 0:W.fileDownloads)?[4,this.add(cr()).promise]:[3,15];case 14:B.sent(),B.label=15;case 15:return function(e){return"boolean"==typeof e?e:!!(null==e?void 0:e.formInteractions)}(this.config.defaultTracking)?[4,this.add(dr()).promise]:[3,17];case 16:B.sent(),B.label=17;case 17:return(null===(g=this.config.attribution)||void 0===g?void 0:g.disabled)?[3,19]:((F=Sn({excludeReferrers:null===(y=this.config.attribution)||void 0===y?void 0:y.excludeReferrers,initialEmptyValue:null===(_=this.config.attribution)||void 0===_?void 0:_.initialEmptyValue,resetSessionOnNewCampaign:null===(b=this.config.attribution)||void 0===b?void 0:b.resetSessionOnNewCampaign})).__pluginEnabledOverride=!(!j&&!(null===(w=this.config.attribution)||void 0===w?void 0:w.trackNewCampaigns))&&void 0,[4,this.add(F).promise]);case 18:B.sent(),B.label=19;case 19:return z=function(e){var t,i,n=(null===(t=e.attribution)||void 0===t?void 0:t.trackPageViews)?"attribution":function(){return!1},r=void 0,s="Page View";return("boolean"==typeof(i=e.defaultTracking)?i:!!(!0===(null==i?void 0:i.pageViews)||(null==i?void 0:i.pageViews)&&"object"==typeof i.pageViews))&&(n=void 0,s=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(s=e.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:r,eventType:s}}(this.config),z.eventType=z.eventType||Vn,[4,this.add(wn(z)).promise];case 20:return B.sent(),[4,this.add({name:"@amplitude/plugin-default-page-view-event-enrichment-browser",type:Ei.ENRICHMENT,setup:function(){return gi(void 0,void 0,void 0,(function(){return yi(this,(function(e){return[2,void 0]}))}))},execute:function(e){return gi(void 0,void 0,void 0,(function(){return yi(this,(function(t){return e.event_type===Vn&&e.event_properties&&(e.event_properties=Object.entries(e.event_properties).reduce((function(e,t){var i=bi(t,2),n=i[0],r=i[1],s=lr[n];return s?e[s]=r:e[n]=r,e}),{})),[2,e]}))}))}}).promise];case 21:return B.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 22:return B.sent(),R.eventBridge.setEventReceiver((function(e){U.track(e.eventType,e.eventProperties)})),[2]}var W,V}))}))},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){this.config?e===this.config.userId&&void 0!==e||(this.config.userId=e,function(e,t){Oi(t).identityStore.editIdentity().setUserId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setUserId.bind(this,e))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){this.config?(this.config.deviceId=e,function(e,t){Oi(t).identityStore.editIdentity().setDeviceId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setDeviceId.bind(this,e))},t.prototype.setOptOut=function(t){!function(e,t){Oi(t).identityStore.editIdentity().setOptOut(e).commit()}(t,this.config.instanceName),e.prototype.setOptOut.call(this,t)},t.prototype.reset=function(){this.setDeviceId(Qi()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t;if(this.config){if(e!==this.config.sessionId){var i,n=this.getSessionId(),r=this.config.lastEventTime,s=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,("boolean"==typeof(i=this.config.defaultTracking)?i:null==i?void 0:i.sessions)&&(n&&r&&this.track(Gn,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:n,time:r+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(Kn,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}}else this.q.push(this.setSessionId.bind(this,e))},t.prototype.extendSession=function(){this.config?this.config.lastEventTime=Date.now():this.q.push(this.extendSession.bind(this))},t.prototype.setTransport=function(e){this.config?this.config.transportProvider=Bn(e):this.q.push(this.setTransport.bind(this,e))},t.prototype.identify=function(t,i){if(pr(t)){var n=t._q;t._q=[],t=ur(new tn,n)}return(null==i?void 0:i.user_id)&&this.setUserId(i.user_id),(null==i?void 0:i.device_id)&&this.setDeviceId(i.device_id),e.prototype.identify.call(this,t,i)},t.prototype.groupIdentify=function(t,i,n,r){if(pr(n)){var s=n._q;n._q=[],n=ur(new tn,s)}return e.prototype.groupIdentify.call(this,t,i,n,r)},t.prototype.revenue=function(t,i){if(pr(t)){var n=t._q;t._q=[],t=ur(new nn,n)}return e.prototype.revenue.call(this,t,i)},t.prototype.process=function(t){return gi(this,void 0,void 0,(function(){var i,n,r;return yi(this,(function(s){return i=Date.now(),n=this.config.lastEventTime||Date.now(),r=i-n,t.event_type!==Kn&&t.event_type!==Gn&&(!t.session_id||t.session_id===this.getSessionId())&&r>this.config.sessionTimeout&&this.setSessionId(i),[2,e.prototype.process.call(this,t)]}))}))},t}(on),fr=function(){var e=new hr;return{init:Si(e.init.bind(e),"init",Ai(e),xi(e,["config"])),add:Si(e.add.bind(e),"add",Ai(e),xi(e,["config.apiKey","timeline.plugins"])),remove:Si(e.remove.bind(e),"remove",Ai(e),xi(e,["config.apiKey","timeline.plugins"])),track:Si(e.track.bind(e),"track",Ai(e),xi(e,["config.apiKey","timeline.queue.length"])),logEvent:Si(e.logEvent.bind(e),"logEvent",Ai(e),xi(e,["config.apiKey","timeline.queue.length"])),identify:Si(e.identify.bind(e),"identify",Ai(e),xi(e,["config.apiKey","timeline.queue.length"])),groupIdentify:Si(e.groupIdentify.bind(e),"groupIdentify",Ai(e),xi(e,["config.apiKey","timeline.queue.length"])),setGroup:Si(e.setGroup.bind(e),"setGroup",Ai(e),xi(e,["config.apiKey","timeline.queue.length"])),revenue:Si(e.revenue.bind(e),"revenue",Ai(e),xi(e,["config.apiKey","timeline.queue.length"])),flush:Si(e.flush.bind(e),"flush",Ai(e),xi(e,["config.apiKey","timeline.queue.length"])),getUserId:Si(e.getUserId.bind(e),"getUserId",Ai(e),xi(e,["config","config.userId"])),setUserId:Si(e.setUserId.bind(e),"setUserId",Ai(e),xi(e,["config","config.userId"])),getDeviceId:Si(e.getDeviceId.bind(e),"getDeviceId",Ai(e),xi(e,["config","config.deviceId"])),setDeviceId:Si(e.setDeviceId.bind(e),"setDeviceId",Ai(e),xi(e,["config","config.deviceId"])),reset:Si(e.reset.bind(e),"reset",Ai(e),xi(e,["config","config.userId","config.deviceId"])),getSessionId:Si(e.getSessionId.bind(e),"getSessionId",Ai(e),xi(e,["config"])),setSessionId:Si(e.setSessionId.bind(e),"setSessionId",Ai(e),xi(e,["config"])),extendSession:Si(e.extendSession.bind(e),"extendSession",Ai(e),xi(e,["config"])),setOptOut:Si(e.setOptOut.bind(e),"setOptOut",Ai(e),xi(e,["config"])),setTransport:Si(e.setTransport.bind(e),"setTransport",Ai(e),xi(e,["config"]))}};fr();const vr={production:"8a1a981826412a2311d41194957a2047",development:"9162d653f902cabfe9547dc40db90b38"},mr={plan:{version:"79",branch:"main",source:"minigames",versionId:"06353ba2-1c44-4861-882c-c3123107e916"},ingestionMetadata:{sourceName:"browser-typescript-ampli",sourceVersion:"2.0.0"}};class gr{event_properties;event_type="[Experiment] Exposure";constructor(e){this.event_properties=e,this.event_properties=e}}class yr{event_properties;event_type="Account Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class _r{event_properties;event_type="Activity Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class br{event_properties;event_type="Ad Blocker Detected";constructor(e){this.event_properties=e,this.event_properties=e}}class wr{event_properties;event_type="Ad Error";constructor(e){this.event_properties=e,this.event_properties=e}}class Er{event_properties;event_type="Ad NoFill";constructor(e){this.event_properties=e,this.event_properties=e}}class Ar{event_properties;event_type="Ad NoPostRoll";constructor(e){this.event_properties=e,this.event_properties=e}}class kr{event_properties;event_type="Ad Played";constructor(e){this.event_properties=e,this.event_properties=e}}class xr{event_properties;event_type="Ad Received";constructor(e){this.event_properties=e,this.event_properties=e}}class Sr{event_properties;event_type="Ad Requested";constructor(e){this.event_properties=e,this.event_properties=e}}class Lr{event_properties;event_type="Ad Scripts Loaded";constructor(e){this.event_properties=e,this.event_properties=e}}class Cr{event_properties;event_type="Audio Muted";constructor(e){this.event_properties=e,this.event_properties=e}}class Mr{event_properties;event_type="Audio Unmuted";constructor(e){this.event_properties=e,this.event_properties=e}}class Tr{event_properties;event_type="Billboard - Screen Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Ir{event_properties;event_type="Bing Rewards Claimed";constructor(e){this.event_properties=e,this.event_properties=e}}class Pr{event_properties;event_type="Birthday Provided";constructor(e){this.event_properties=e,this.event_properties=e}}class Dr{event_properties;event_type="Challenge Link Created";constructor(e){this.event_properties=e,this.event_properties=e}}class Or{event_properties;event_type="Challenge Link Opened";constructor(e){this.event_properties=e,this.event_properties=e}}class Nr{event_properties;event_type="Claim Free Tickets Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class jr{event_properties;event_type="Click on the Question";constructor(e){this.event_properties=e,this.event_properties=e}}class Rr{event_properties;event_type="Close Onboarding 2.1 Dialog Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Fr{event_properties;event_type="Close Onboarding Dialog Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class zr{event_properties;event_type="Close SignUp Dialog Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Ur{event_properties;event_type="Closed Captioning Toggle Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Br{event_properties;event_type="Coins Purchased";constructor(e){this.event_properties=e,this.event_properties=e}}class Wr{event_properties;event_type="Country Provided";constructor(e){this.event_properties=e,this.event_properties=e}}class Vr{event_properties;event_type="Display Ad Rendered Out of View";constructor(e){this.event_properties=e,this.event_properties=e}}class $r{event_properties;event_type="Edit Profile Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Hr{event_properties;event_type="Email Entered";constructor(e){this.event_properties=e,this.event_properties=e}}class qr{event_properties;event_type="Email Entered Error";constructor(e){this.event_properties=e,this.event_properties=e}}class Kr{event_type="Email Sign In Clicked"}class Gr{event_properties;event_type="Email Sign Up Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Zr{event_type="Email Verified"}class Yr{event_properties;event_type="End Card Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Qr{event_properties;event_type="First Click";constructor(e){this.event_properties=e,this.event_properties=e}}class Jr{event_properties;event_type="Game Nav Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Xr{event_properties;event_type="Game Played";constructor(e){this.event_properties=e,this.event_properties=e}}class es{event_properties;event_type="Game Synopsis Skipped";constructor(e){this.event_properties=e,this.event_properties=e}}class ts{event_properties;event_type="Game Ticket Picked";constructor(e){this.event_properties=e,this.event_properties=e}}class is{event_properties;event_type="Game Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class ns{event_properties;event_type="Gift Tickets Collected";constructor(e){this.event_properties=e,this.event_properties=e}}class rs{event_properties;event_type="Home Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class ss{event_properties;event_type="HowToPlay Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class os{event_properties;event_type="Left arrow";constructor(e){this.event_properties=e,this.event_properties=e}}class as{event_properties;event_type="Left Swipe";constructor(e){this.event_properties=e,this.event_properties=e}}class ls{event_properties;event_type="Left Tap";constructor(e){this.event_properties=e,this.event_properties=e}}class cs{event_properties;event_type="Level Leaderboard Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class ds{event_properties;event_type="Level Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class us{event_properties;event_type="Levels Info Button Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class ps{event_properties;event_type="Levels Play Button Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class hs{event_properties;event_type="MemeCardClicked";constructor(e){this.event_properties=e,this.event_properties=e}}class fs{event_properties;event_type="More Drawer Menu Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class vs{event_properties;event_type="My Games Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class ms{event_properties;event_type="Onboarding 2.1 Email Close Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class gs{event_properties;event_type="Onboarding 2.1 Email Entered";constructor(e){this.event_properties=e,this.event_properties=e}}class ys{event_properties;event_type="Onboarding 2.1 Play Button Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class _s{event_properties;event_type="Onboarding 2.1 Social Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class bs{event_properties;event_type="Onboarding Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class ws{event_properties;event_type="Opened Deep Link";constructor(e){this.event_properties=e,this.event_properties=e}}class Es{event_properties;event_type="Password Created";constructor(e){this.event_properties=e,this.event_properties=e}}class As{event_properties;event_type="Password Error Received";constructor(e){this.event_properties=e,this.event_properties=e}}class ks{event_type="Password Reset"}class xs{event_properties;event_type="Payment Details Added";constructor(e){this.event_properties=e,this.event_properties=e}}class Ss{event_properties;event_type="Payment Type Selected";constructor(e){this.event_properties=e,this.event_properties=e}}class Ls{event_properties;event_type="Play Onboarding 2.1 Button Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Cs{event_properties;event_type="Play Response Update";constructor(e){this.event_properties=e,this.event_properties=e}}class Ms{event_properties;event_type="Privacy Policy Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Ts{event_properties;event_type="Profit Dialog Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Is{event_properties;event_type="Promotional Rules Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Ps{event_properties;event_type="Quick Signup Closed";constructor(e){this.event_properties=e,this.event_properties=e}}class Ds{event_properties;event_type="Random Meme";constructor(e){this.event_properties=e,this.event_properties=e}}class Os{event_properties;event_type="Recovery Email Submitted";constructor(e){this.event_properties=e,this.event_properties=e}}class Ns{event_properties;event_type="Recovery Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class js{event_properties;event_type="Redeem Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Rs{event_properties;event_type="Related Content Link Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Fs{event_properties;event_type="Rewards Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class zs{event_properties;event_type="Right arrow";constructor(e){this.event_properties=e,this.event_properties=e}}class Us{event_properties;event_type="Right Swipe";constructor(e){this.event_properties=e,this.event_properties=e}}class Bs{event_properties;event_type="Right Tap";constructor(e){this.event_properties=e,this.event_properties=e}}class Ws{event_properties;event_type="ROKT Gift Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Vs{event_properties;event_type="Rules Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class $s{event_properties;event_type="Screen Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class Hs{event_properties;event_type="Share Game Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class qs{event_properties;event_type="Side Picked";constructor(e){this.event_properties=e,this.event_properties=e}}class Ks{event_properties;event_type="Sign In Error";constructor(e){this.event_properties=e,this.event_properties=e}}class Gs{event_properties;event_type="Signed In";constructor(e){this.event_properties=e,this.event_properties=e}}class Zs{event_properties;event_type="Signed Up";constructor(e){this.event_properties=e,this.event_properties=e}}class Ys{event_properties;event_type="SignUp SignUp Dialog Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Qs{event_properties;event_type="Social Sign In Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Js{event_properties;event_type="Social Sign Up Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class Xs{event_properties;event_type="State Provided";constructor(e){this.event_properties=e,this.event_properties=e}}class eo{event_properties;event_type="Terms of Service Accepted";constructor(e){this.event_properties=e,this.event_properties=e}}class to{event_properties;event_type="Terms of Service Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class io{event_properties;event_type="Ticket Packages Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class no{event_properties;event_type="Transaction History Page Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}class ro{event_properties;event_type="Unpaid Ad Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class so{event_properties;event_type="Username Selected";constructor(e){this.event_properties=e,this.event_properties=e}}class oo{event_properties;event_type="Widget Ads Viewable";constructor(e){this.event_properties=e,this.event_properties=e}}class ao{event_properties;event_type="Widget Dragged";constructor(e){this.event_properties=e,this.event_properties=e}}class lo{event_properties;event_type="Widget Game Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class co{event_properties;event_type="Widget Loaded";constructor(e){this.event_properties=e,this.event_properties=e}}class uo{event_properties;event_type="Widget Nav Clicked";constructor(e){this.event_properties=e,this.event_properties=e}}class po{event_properties;event_type="Widget Opened";constructor(e){this.event_properties=e,this.event_properties=e}}class ho{event_properties;event_type="Widget Viewed";constructor(e){this.event_properties=e,this.event_properties=e}}const fo=()=>({promise:Promise.resolve()});const vo=new class{disabled=!1;amplitude;get client(){return this.isInitializedAndEnabled(),this.amplitude}get isLoaded(){return null!=this.amplitude}isInitializedAndEnabled(){return this.amplitude?!this.disabled:(console.error("ERROR: Ampli is not yet initialized. Have you called ampli.load() on app start?"),!1)}load(e){if(this.disabled=e.disabled??!1,this.amplitude)return console.warn("WARNING: Ampli is already intialized. Ampli.load() should be called once at application startup."),fo();let t=null;if(e.client&&"apiKey"in e.client?t=e.client.apiKey:"environment"in e&&(t=vr[e.environment]),e.client&&"instance"in e.client)this.amplitude=e.client.instance;else{if(t){this.amplitude=fr();const i=e.client&&"configuration"in e.client?e.client.configuration:{};return this.amplitude.init(t,void 0,{...mr,...i})}console.error("ERROR: ampli.load() requires 'environment', 'client.apiKey', or 'client.instance'")}return fo()}identify(e,t,i){if(!this.isInitializedAndEnabled())return fo();e&&(i={...i,user_id:e});const n=new tn,r=t;if(null!=r)for(const[e,t]of Object.entries(r))n.set(e,t);return this.amplitude.identify(n,i)}flush(){return this.isInitializedAndEnabled()?this.amplitude.flush():fo()}track(e,t){return this.isInitializedAndEnabled()?this.amplitude.track(e,void 0,t):fo()}experimentExposure(e,t){return this.track(new gr(e),t)}accountPageViewed(e,t){return this.track(new yr(e),t)}activityPageViewed(e,t){return this.track(new _r(e),t)}adBlockerDetected(e,t){return this.track(new br(e),t)}adError(e,t){return this.track(new wr(e),t)}adNoFill(e,t){return this.track(new Er(e),t)}adNoPostRoll(e,t){return this.track(new Ar(e),t)}adPlayed(e,t){return this.track(new kr(e),t)}adReceived(e,t){return this.track(new xr(e),t)}adRequested(e,t){return this.track(new Sr(e),t)}adScriptsLoaded(e,t){return this.track(new Lr(e),t)}audioMuted(e,t){return this.track(new Cr(e),t)}audioUnmuted(e,t){return this.track(new Mr(e),t)}billboardScreenViewed(e,t){return this.track(new Tr(e),t)}bingRewardsClaimed(e,t){return this.track(new Ir(e),t)}birthdayProvided(e,t){return this.track(new Pr(e),t)}challengeLinkCreated(e,t){return this.track(new Dr(e),t)}challengeLinkOpened(e,t){return this.track(new Or(e),t)}claimFreeTicketsClicked(e,t){return this.track(new Nr(e),t)}clickOnTheQuestion(e,t){return this.track(new jr(e),t)}closeOnboarding21DialogClicked(e,t){return this.track(new Rr(e),t)}closeOnboardingDialogClicked(e,t){return this.track(new Fr(e),t)}closeSignUpDialogClicked(e,t){return this.track(new zr(e),t)}closedCaptioningToggleClicked(e,t){return this.track(new Ur(e),t)}coinsPurchased(e,t){return this.track(new Br(e),t)}countryProvided(e,t){return this.track(new Wr(e),t)}displayAdRenderedOutOfView(e,t){return this.track(new Vr(e),t)}editProfilePageViewed(e,t){return this.track(new $r(e),t)}emailEntered(e,t){return this.track(new Hr(e),t)}emailEnteredError(e,t){return this.track(new qr(e),t)}emailSignInClicked(e){return this.track(new Kr,e)}emailSignUpClicked(e,t){return this.track(new Gr(e),t)}emailVerified(e){return this.track(new Zr,e)}endCardViewed(e,t){return this.track(new Yr(e),t)}firstClick(e,t){return this.track(new Qr(e),t)}gameNavClicked(e,t){return this.track(new Jr(e),t)}gamePlayed(e,t){return this.track(new Xr(e),t)}gameSynopsisSkipped(e,t){return this.track(new es(e),t)}gameTicketPicked(e,t){return this.track(new ts(e),t)}gameViewed(e,t){return this.track(new is(e),t)}giftTicketsCollected(e,t){return this.track(new ns(e),t)}homePageViewed(e,t){return this.track(new rs(e),t)}howToPlayClicked(e,t){return this.track(new ss(e),t)}leftArrow(e,t){return this.track(new os(e),t)}leftSwipe(e,t){return this.track(new as(e),t)}leftTap(e,t){return this.track(new ls(e),t)}levelLeaderboardPageViewed(e,t){return this.track(new cs(e),t)}levelPageViewed(e,t){return this.track(new ds(e),t)}levelsInfoButtonClicked(e,t){return this.track(new us(e),t)}levelsPlayButtonClicked(e,t){return this.track(new ps(e),t)}memeCardClicked(e,t){return this.track(new hs(e),t)}moreDrawerMenuViewed(e,t){return this.track(new fs(e),t)}myGamesPageViewed(e,t){return this.track(new vs(e),t)}onboarding21EmailCloseClicked(e,t){return this.track(new ms(e),t)}onboarding21EmailEntered(e,t){return this.track(new gs(e),t)}onboarding21PlayButtonClicked(e,t){return this.track(new ys(e),t)}onboarding21SocialClicked(e,t){return this.track(new _s(e),t)}onboardingPageViewed(e,t){return this.track(new bs(e),t)}openedDeepLink(e,t){return this.track(new ws(e),t)}passwordCreated(e,t){return this.track(new Es(e),t)}passwordErrorReceived(e,t){return this.track(new As(e),t)}passwordReset(e){return this.track(new ks,e)}paymentDetailsAdded(e,t){return this.track(new xs(e),t)}paymentTypeSelected(e,t){return this.track(new Ss(e),t)}playOnboarding21ButtonClicked(e,t){return this.track(new Ls(e),t)}playResponseUpdate(e,t){return this.track(new Cs(e),t)}privacyPolicyPageViewed(e,t){return this.track(new Ms(e),t)}profitDialogViewed(e,t){return this.track(new Ts(e),t)}promotionalRulesPageViewed(e,t){return this.track(new Is(e),t)}quickSignupClosed(e,t){return this.track(new Ps(e),t)}randomMeme(e,t){return this.track(new Ds(e),t)}recoveryEmailSubmitted(e,t){return this.track(new Os(e),t)}recoveryPageViewed(e,t){return this.track(new Ns(e),t)}redeemPageViewed(e,t){return this.track(new js(e),t)}relatedContentLinkClicked(e,t){return this.track(new Rs(e),t)}rewardsPageViewed(e,t){return this.track(new Fs(e),t)}rightArrow(e,t){return this.track(new zs(e),t)}rightSwipe(e,t){return this.track(new Us(e),t)}rightTap(e,t){return this.track(new Bs(e),t)}roktGiftClicked(e,t){return this.track(new Ws(e),t)}rulesPageViewed(e,t){return this.track(new Vs(e),t)}screenViewed(e,t){return this.track(new $s(e),t)}shareGameClicked(e,t){return this.track(new Hs(e),t)}sidePicked(e,t){return this.track(new qs(e),t)}signInError(e,t){return this.track(new Ks(e),t)}signedIn(e,t){return this.track(new Gs(e),t)}signedUp(e,t){return this.track(new Zs(e),t)}signUpSignUpDialogClicked(e,t){return this.track(new Ys(e),t)}socialSignInClicked(e,t){return this.track(new Qs(e),t)}socialSignUpClicked(e,t){return this.track(new Js(e),t)}stateProvided(e,t){return this.track(new Xs(e),t)}termsOfServiceAccepted(e,t){return this.track(new eo(e),t)}termsOfServicePageViewed(e,t){return this.track(new to(e),t)}ticketPackagesViewed(e,t){return this.track(new io(e),t)}transactionHistoryPageViewed(e,t){return this.track(new no(e),t)}unpaidAdClicked(e,t){return this.track(new ro(e),t)}usernameSelected(e,t){return this.track(new so(e),t)}widgetAdsViewable(e,t){return this.track(new oo(e),t)}widgetDragged(e,t){return this.track(new ao(e),t)}widgetGameClicked(e,t){return this.track(new lo(e),t)}widgetLoaded(e,t){return this.track(new co(e),t)}widgetNavClicked(e,t){return this.track(new uo(e),t)}widgetOpened(e,t){return this.track(new po(e),t)}widgetViewed(e,t){return this.track(new ho(e),t)}};var mo,go,yo,_o,bo=0,wo=[],Eo=t,Ao=Eo.__b,ko=Eo.__r,xo=Eo.diffed,So=Eo.__c,Lo=Eo.unmount,Co=Eo.__;function Mo(e,t){Eo.__h&&Eo.__h(go,e,bo||t),bo=0;var i=go.__H||(go.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function To(e){return bo=1,Io(Wo,e)}function Io(e,t,i){var n=Mo(mo++,2);if(n.t=e,!n.__c&&(n.__=[i?i(t):Wo(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],i=n.t(t,e);t!==i&&(n.__N=[i,n.__[1]],n.__c.setState({}))}],n.__c=go,!go.u)){var r=function(e,t,i){if(!n.__c.__H)return!0;var r=n.__c.__H.__.filter((function(e){return!!e.__c}));if(r.every((function(e){return!e.__N})))return!s||s.call(this,e,t,i);var o=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&n.__c.props===e)&&(!s||s.call(this,e,t,i))};go.u=!0;var s=go.shouldComponentUpdate,o=go.componentWillUpdate;go.componentWillUpdate=function(e,t,i){if(this.__e){var n=s;s=void 0,r(e,t,i),s=n}o&&o.call(this,e,t,i)},go.shouldComponentUpdate=r}return n.__N||n.__}function Po(e,t){var i=Mo(mo++,3);!Eo.__s&&Bo(i.__H,t)&&(i.__=e,i.i=t,go.__H.__h.push(i))}function Do(e){return bo=5,Oo((function(){return{current:e}}),[])}function Oo(e,t){var i=Mo(mo++,7);return Bo(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function No(e,t){return bo=8,Oo((function(){return e}),t)}function jo(){for(var e;e=wo.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(zo),e.__H.__h.forEach(Uo),e.__H.__h=[]}catch(t){e.__H.__h=[],Eo.__e(t,e.__v)}}Eo.__b=function(e){go=null,Ao&&Ao(e)},Eo.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Co&&Co(e,t)},Eo.__r=function(e){ko&&ko(e),mo=0;var t=(go=e.__c).__H;t&&(yo===go?(t.__h=[],go.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(zo),t.__h.forEach(Uo),t.__h=[],mo=0)),yo=go},Eo.diffed=function(e){xo&&xo(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==wo.push(t)&&_o===Eo.requestAnimationFrame||((_o=Eo.requestAnimationFrame)||Fo)(jo)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),yo=go=null},Eo.__c=function(e,t){t.some((function(e){try{e.__h.forEach(zo),e.__h=e.__h.filter((function(e){return!e.__||Uo(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Eo.__e(i,e.__v)}})),So&&So(e,t)},Eo.unmount=function(e){Lo&&Lo(e);var t,i=e.__c;i&&i.__H&&(i.__H.__.forEach((function(e){try{zo(e)}catch(e){t=e}})),i.__H=void 0,t&&Eo.__e(t,i.__v))};var Ro="function"==typeof requestAnimationFrame;function Fo(e){var t,i=function(){clearTimeout(n),Ro&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(i,100);Ro&&(t=requestAnimationFrame(i))}function zo(e){var t=go,i=e.__c;"function"==typeof i&&(e.__c=void 0,i()),go=t}function Uo(e){var t=go;e.__c=e.__(),go=t}function Bo(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function Wo(e,t){return"function"==typeof t?t(e):t}const Vo=r.p+"images/2fd6efd6e529306125d5",$o=r.p+"images/f2f0c8959cbe9d33fd93",Ho=r.p+"images/b565070cb387afa7665d",qo=r.p+"images/3887db0dca7212d0402e",Ko=r.p+"images/066a32e4aefed9c136bf",Go=r.p+"images/0e88e20913e60bc0f298",Zo=r.p+"images/efecb900ed7357597bfa",Yo=r.p+"images/174ecf6ebd5724260376",Qo=r.p+"images/58060f44643cbd48c5bb",Jo=r.p+"images/601db748221c2a8973df",Xo=r.p+"images/14b3d0845ee1ea975e26",ea=r.p+"images/1812c8672e3d54a7d801",ta=r.p+"images/32346c08ce27113b46d5",ia=r.p+"images/a3be7d17d26da840848a",na=r.p+"images/f3556f6bab4390b35b40",ra=r.p+"images/6f66f31675b9e7ad1f99",sa="id",oa=2e3,aa="vs-apstag-js-script",la="vs-ima3-js-script",ca="vs-gpt-js-script",da="vs-pubmatic-js-script",ua="https://securepubads.g.doubleclick.net/tag/js/gpt.js",pa=(e,t)=>{if(Na&&!ya(t))return"/6355419/Travel/Europe/France/Paris";const{adUnitTags:i}=Za(t);return i?.displayAds[e]??"/6355419/Travel/Europe/France/Paris"};var ha;!function(e){e.INLINE_RECTANGLE="300x250",e.LEADERBOARD="728x90",e.MOBILE_BANNER_320x50="320x50",e.LARGE_MOBILE_BANNER="320x100",e.MOBILE_BANNER_300x50="300x50",e.CS300x100="300x100",e.CS300x75="300x75"}(ha||(ha={}));const fa=[{file:ta,url:"https://www.digitaltrends.com/brc/green-man-gaming-black-friday-pc-game-deals-november-2024/"},{file:ia,url:"https://www.digitaltrends.com/brc/onlyoffice-docspace-open-source-collaboration-platform/"},{file:na,url:"https://www.digitaltrends.com/brc/rokform-rugged-case-deal-black-friday-november-2024/"},{file:ra,url:"https://www.digitaltrends.com/brc/rokform-rugged-cases-multifunctional-accessory-december-2024/"}],va=e=>{const[t,i]=e.split("x").map(Number);return[t,i]},ma={[ha.INLINE_RECTANGLE]:[Zo,qo,Go,Ko,Yo,Qo,Jo,Xo,ea],[ha.CS300x100]:[Vo,$o,Ho]},ga=async(e,t)=>{if(t?.includes("digitaltrends.com")){const e=fa[Math.floor(Math.random()*fa.length)];return{imageUrl:e.file,targetUrl:e.url}}const i=ma[e];return i?{imageUrl:i[Math.floor(Math.random()*i.length)],targetUrl:""}:{}},ya=e=>{if(!e)return!1;try{const t=new URL(e),i=new URLSearchParams(t.search);return(i.get(Ma)?.split(",")||[]).includes("forceRealDisplayAds")}catch(e){return console.error("DEBUG DEV - Error while fetching the versus_variant param:",e),!1}};let _a=document,ba=window;const wa=(...e)=>{Na&&console.log("[Display Ads]",...e)},Ea=async(e,t)=>await new Promise(((i,n)=>{ba.updateAdIdsMutex.push((async()=>{if(ba.adIDUpdateInProgress)return await new Promise((e=>{const t=setInterval((()=>{ba.adIDUpdateInProgress||(clearInterval(t),e())}),10)})).then((async()=>await Ea(e,t).then(i).catch(n)));ba.adIDUpdateInProgress=!0;try{if(ba.adIDs.includes(e))return console.warn(`Ad ID ${e} is already registered`),ba.adIDUpdateInProgress=!1,void i();ba.adIDs.push(e),ba.adSizes[e]=t,ba.adIDUpdateInProgress=!1,i()}catch(e){ba.adIDUpdateInProgress=!1,n(e)}})),ba.updateAdIdsMutex.length>0&&ba.updateAdIdsMutex.shift()?.()})),Aa=e=>{if(_a){const t=_a.getElementsByTagName("script")[0];t?t.parentNode?.insertBefore(e,t):_a.head.appendChild(e)}},ka=e=>{if(_a.getElementById(ca))return void console.log("***** GPT script already loaded");console.log("***** Loading GPT script");const t=_a.createElement("script");t.async=!0,t.src=ua,t.id=ca,t.onload=e,Aa(t)},xa=(e=!1,t,i)=>{!ba.apstag?.init||ba.apstagInitialized&&!t||(ba.apstag.init({pubID:"5078c42b-6e39-4fe9-ae37-a1ff8cfdf01b",adServer:"googletag",...e?{videoAdServer:"DFP"}:{}}),ba.apstagInitialized=!0,i&&i())},Sa=()=>{let e=0;const t=setInterval((()=>{e++,ba.google?.ima?.gptProxyInstance?(console.log("gptProxyInstance is available. Loading IMA SDK..."),(()=>{if(_a.getElementById(la))return;const e=_a.createElement("script");e.async=!0,e.src="https://imasdk.googleapis.com/js/sdkloader/ima3.js",e.id=la,Aa(e)})(),clearInterval(t)):e>=50?(console.log("Reached max attempts to check for gptProxyInstance."),clearInterval(t)):console.log("gptProxyInstance is not available. Attempting again...")}),100)},La=()=>{Array.from(_a.scripts).some((e=>e.src.includes("gpt_proxy.js")))?(console.log("gpt_proxy.js script is present. Waiting for gptProxyInstance..."),Sa()):console.log("gpt_proxy.js script is not present.")},Ca=(e,t)=>!!_a.getElementById(aa)||!Array.from(_a.scripts).some((e=>e.src.includes("apstag.js")))&&(console.log("apstag.js script is not present."),((e,t)=>{if(ba.apstag)return;console.log("***** Loading APSTag script");const i=(e,t)=>{ba.apstag._Q.push([e,t])};if(ba.apstag={init:function(...e){i("i",e)},fetchBids:function(...e){i("f",e)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},_a.getElementById(aa))return;const n=_a.createElement("script");n.async=!0,n.src="//c.amazon-adsystem.com/aax2/apstag.js",n.id=aa,n.onload=()=>xa(e,void 0,t),Aa(n)})(e,t),!0),Ma="versus_variants",Ta=new URL(location.href),Ia=async(e,t,i)=>await new Promise(((n,r)=>{const s=_a.createElement("script");s.src=e,s.async=!0,i&&Object.entries(i).forEach((([e,t])=>s[e]=t)),s.onload=()=>{i?.onload?.(),n(null)},s.onerror=()=>{i?.onerror?.(),r(new Error(`Failed to load script ${e}`))};const o=_a.getElementsByTagName("script");for(let r=0;r<o.length;r++)if(o[r].src===e&&o[r].id===i?.id&&(t&&o[r].parentElement===t||!t&&o[r].parentElement===_a.head))return console.warn(`Script ${e} is already loaded. Skipping loading.`),void n(null);t?t.appendChild(s):_a.head.appendChild(s)})),Pa=e=>{try{const t=new URL(e);return`${t.protocol}//${t.hostname}${t.port?`:${t.port}`:""}${t.pathname}`}catch(e){return""}},Da=(e,t)=>{try{return new URL(e).searchParams.get(t)||""}catch(e){return""}},Oa=e=>Da(e,"versus_ref"),Na=Ta.host.startsWith("localhost:1234")||Ta.host.startsWith("embed:1234")||Ta.host.includes("integration.versusgame.com")||Ta.host.includes("stage.versusgame.com"),ja=JSON.parse('{"old-test":{"tagId":"660d07e55526ce8d9703f69b","channelId":"660d067441904129d7091b76"},"localhost":{"tagId":"665f3901cbaae41a0d093c64","channelId":"665f387b4470a1166d0ac6fc"},"integration.versusgame.com":{"tagId":"665f3901cbaae41a0d093c64","channelId":"665f387b4470a1166d0ac6fc"},"stage.versusgame.com":{"tagId":"665f3901cbaae41a0d093c64","channelId":"665f387b4470a1166d0ac6fc"},"skittles.onversus.com":{"tagId":"665f3901cbaae41a0d093c64","channelId":"665f387b4470a1166d0ac6fc"},"fiba.basketball":{"tagId":"665f3901cbaae41a0d093c64","channelId":"665f387b4470a1166d0ac6fc"},"wideopenspaces.com":{"tagId":"6661e9d78b2f3e0f930de278","channelId":"6661e8dfdaeef40c650962b7"},"ftw.usatoday.com":{"tagId":"6661ea24927cbc158a036475","channelId":"6661e8ae3a351e361c073c47"},"ufc.com":{"tagId":"6661ea6af23afc752202c358","channelId":"6661e8bc87db025dd709da15"},"shutterstock.com":{"tagId":"66903713790b7b2be107fb6a","channelId":"666fe68f3acf65f3d004d7e5"},"shuttercloud.org":{"tagId":"66903713790b7b2be107fb6a","channelId":"666fe68f3acf65f3d004d7e5"},"nfl.com":{"tagId":"66903713790b7b2be107fb6a","channelId":"66902af53d24d7e24b09ae9e"}}'),Ra=JSON.parse('{".onversus.com":{"adUnitTag":"/22935456109/ca-video-pub-5422939062561218-tag","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/Passive_ad_300x250_1","displayAdPassive2":"/22935456109/Passive_ad_300x250_2","displayAdActive":"/22935456109/AdExchange_Active_300x250"},"bumperAd":"/22935456109/AdExchange_Active_Bumper","skippableAd":"/22935456109/AdExchange_Active_Skippable"}},"postrollTest":{"adUnitTag":"/22935456109/ca-video-pub-5422939062561218-tag","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/Passive_ad_300x250_1","displayAdPassive2":"/22935456109/Passive_ad_300x250_2","displayAdActive":"/22935456109/AdExchange_Active_300x250"},"bumperAd":"/22935456109/Versus_Bumper_Test","skippableAd":"/22935456109/Versus_Skippable_Test"}},"echl.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,1070519/ECHL_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,1070519/ECHL_PassiveAd_300x250_2","displayAdActive":"/22935456109,1070519/ECHL_Active_300x250"},"bumperAd":"/22935456109,1070519/ECHL_Active_Bumper","skippableAd":"/22935456109,1070519/ECHL_Active_Skippable"}},"esports.gg":{"adUnitTag":"/22935456109,22863957839/Esports.gg","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,22863957839/ESpots_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,22863957839/ESpots_PassiveAd_300x250_2","displayAdActive":"/22935456109,22863957839/ESports_Active_300x250"},"bumperAd":"/22935456109,22863957839/ESports_Active_Bumper","skippableAd":"/22935456109,22863957839/ESports_Active_Skippable"}},"fiba.basketball":{"adUnitTag":"/22935456109,112208942/FIBA","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,112208942/FIBA_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,112208942/FIBA_PassiveAd_300x250_2","displayAdActive":"/22935456109,112208942/FIBA_Active_300x250"},"bumperAd":"/22935456109,112208942/FIBA_Active_Bumper","skippableAd":"/22935456109,112208942/FIBA_Active_Skippable"}},"okmagazine.com":{"adUnitTag":"/22935456109,22615344517/OKMagazine","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,22615344517/OKMagazine_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,22615344517/OKMagazine_PassiveAd_300x250_2","displayAdActive":"/22935456109,22615344517/OKMagazine_Active_300x250"},"bumperAd":"/22935456109,22615344517/OKMagazine_Active_Bumper","skippableAd":"/22935456109,22615344517/OKMagazine_Active_Skippable"}},"radaronline.com":{"adUnitTag":"/22935456109,22615344517/RadarOnline","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,22615344517/RadarOnline_PassiveAds_300x250_1","displayAdPassive2":"/22935456109,22615344517/RadarOnline_PassiveAds_300x250_2","displayAdActive":"/22935456109,22615344517/RadarOnline_Active_300x250"},"bumperAd":"/22935456109,22615344517/RadarOnline_Active_Bumper","skippableAd":"/22935456109,22615344517/RadarOnline_Active_Skippable"}},"pflmma.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,23007466666/PFL_Passive_300x250_1","displayAdPassive2":"/22935456109,23007466666/PFL_Passive_300x250_2","displayAdActive":"/22935456109,23007466666/PFL_Active_300x250"},"bumperAd":"/22935456109,23007466666/PFL_Active_Bumper","skippableAd":"/22935456109,23007466666/PFL_Active_Skippable"}},"hbcugameday.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,33049530/HBCUGameday_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,33049530/HBCUGameday_PassiveAd_300x250_2","displayAdActive":"/22935456109,33049530/HBCUGameday_Active_300x250"},"bumperAd":"/22935456109,33049530/HBCUGameday_Active_Bumper","skippableAd":"/22935456109,33049530/HBCUGameday_Active_Skippable"}},"shinemycrown.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,22878083741/ShineMyCrown_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,22878083741/ShineMyCrown_PassiveAd_300x250_2","displayAdActive":"/22935456109,22878083741/Shinemycrown_Active_300x250"},"bumperAd":"/22935456109,22878083741/ShineMyCrown_Active_Bumper","skippableAd":"/22935456109,22878083741/ShineMyCrown_Active_Skippable"}},"tmz.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,4145/TMZ_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,4145/TMZ_PassiveAd_300x250_2","displayAdActive":"/22935456109,4145/TMZ_Active_300x250"},"bumperAd":"/22935456109,4145/TMZ_Active_Bumper","skippableAd":"/22935456109,4145/TMZ_Active_Skippable"}},"usatoday.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/USAToday_PassiveAd_300x250_1","displayAdPassive2":"/22935456109/USAToday_PassiveAd_300x250_2","displayAdActive":"/22935456109/USAToday_Active_300x250"},"bumperAd":"/22935456109/USAToday_Active_Bumper","skippableAd":"/22935456109/USAToday_Active_Skippable"}},"metalsucks.net":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/MetalSucks_Passive_Ad_300x250_1","displayAdPassive2":"/22935456109/MetalSucks_Passive_Ad_300x250_2","displayAdActive":"/22935456109/MetalSucks_Active_Ad_300x250"},"bumperAd":"/22935456109/MetalSucks_Active_Bumper","skippableAd":"/22935456109/MetalSucks_Active_Skippable"}},"metalinjection.net":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/MetalInjection_Passive_Ad_300x250_1","displayAdPassive2":"/22935456109/MetalInjection_Passive_Ad_300x250_2","displayAdActive":"/22935456109/MetalInjection_Active_300x250"},"bumperAd":"/22935456109/MetalInjection_Active_Bumper","skippableAd":"/22935456109/MetalInjection_Active_Skippable"}},"beinsports.com/en-us":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/Beinsports_EN_PassiveAd_300x250_1","displayAdPassive2":"/22935456109/Beinsports_EN_PassiveAd_300x250_2","displayAdActive":"/22935456109/Beinsports_EN_Active_300x250"},"bumperAd":"/22935456109/Beinsports_EN_Active_Bumper","skippableAd":"/22935456109/Beinsports_EN_Active_Skippable"}},"beinsports.com/es-us":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/Beinsports_ES_PassiveAd_300x250_1","displayAdPassive2":"/22935456109/Beinsports_ES_PassiveAd_300x250_2","displayAdActive":"/22935456109/Beinsports_ES_Active_300x250"},"bumperAd":"/22935456109/Beinsports_ES_Active_Bumper","skippableAd":"/22935456109/Beinsports_ES_Active_Skippable"}},"nhl.com/coyotes/":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/AZCoyotes_PassiveAd_300x250_1","displayAdPassive2":"/22935456109/AZCoyotes_PassiveAd_300x250_2","displayAdActive":"/22935456109/AZCoyotes_Active_300x250"},"bumperAd":"/22935456109/AZCoyotes_Active_Bumper","skippableAd":"/22935456109/AZCoyotes_Active_Skippable"}},"time.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/Time_PassiveAd_300x250_1","displayAdPassive2":"/22935456109/Time_PassiveAd_300x250_2","displayAdActive":"/22935456109/Time_Active_300x250"},"bumperAd":"/22935456109/Time_Active_Bumper","skippableAd":"/22935456109/Time_Active_Skippable"}},"ufc.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,5458/UFC_Passive_Ad_300x250_1","displayAdPassive2":"/22935456109,5458/UFC_Passive_Ad_300x250_2","displayAdActive":"/22935456109,5458/UFC_Active_300x250"},"bumperAd":"/22935456109,5458/UFC_Active_Bumper","skippableAd":"/22935456109,5458/UFC_Active_Skippable"}},"ufcespanol.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,5458/UFC_ES_PassiveAd_300x250_1","displayAdPassive2":"/22935456109,5458/UFC_ES_PassiveAd_300x250_2","displayAdActive":"/22935456109,5458/UFC_ES_Active_300x250"},"bumperAd":"/22935456109,5458/UFC_ES_Active_Bumper","skippableAd":"/22935456109,5458/UFC_ES_Active_Skippable"}},"shutterstock.com/search":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,23192325875/Shutterstock_PassiveAd_300x250_Search","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109,23192325875/Shutterstock_Active_Skippable"}},"shutterstock.com/image":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,23192325875/Shutterstock_PassiveAd_300x250_Asset","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109,23192325875/Shutterstock_Active_Skippable_Asset"}},"nfl.com":{"adUnitTag":"/22935456109,4595/NFL","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,4595/NFL_PassiveAd","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109,4595/NFL_Active_Skippable"}},"wideopenspaces.com":{"adUnitTag":"/22935456109,33049290/WideOpenSpaces","adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109,33049290/WideOpenSpaces_PassiveAd","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109,33049290/WideOpenSpaces_Active_Skippable"}},"nypost.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/NYPost_PassiveAd","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109/NYPost_Active_Skippable1"}},"stocktwits.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/Stocktwits_PassiveAd","displayAdPassive2":"","displayAdActive":"/22935456109/Stocktwits_ActiveAd"},"bumperAd":"","skippableAd":""}},"bbc.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/BBC_PassiveAd","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109/BBC_Active_Skippable"}},"cnn.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/CNN_PassiveAd","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109/CNN_Active_Skippable"}},"sfgate.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/SFGate_PassiveAd_Display","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109/SFGate_Active_Skippable"}},"fandom.com":{"adUnitTags":{"displayAds":{"displayAdPassive1":"/22935456109/Fandom_PassiveAd","displayAdPassive2":"","displayAdActive":""},"bumperAd":"","skippableAd":"/22935456109/Fandom_Active_Skippable"}}}'),Fa=JSON.parse('{".onversus.com":{"siteId":556068,"zoneId":3485896},"shutterstock.com":{"siteId":558252,"zoneId":3504464},"ufc.com":{"siteId":557872,"zoneId":3502306}}'),za=JSON.parse('{".onversus.com":{"profileId":14302}}');var Ua,Ba,Wa,Va;!function(e){e.Landscape="landscape",e.Portrait="portrait"}(Ua||(Ua={})),function(e){e.GOOGLE_IMA="GOOGLE_IMA"}(Ba||(Ba={})),function(e){e.Bumper="bumperAd",e.Skippable="skippableAd"}(Wa||(Wa={})),function(e){e.Display="display",e.VideoInstream="video-instream"}(Va||(Va={}));const $a=Ra,Ha=ja,qa=Fa,Ka=za,Ga=Wa.Skippable,Za=e=>{const t=Oa(e),i=Pa(e),n=Na&&Object.keys($a).find((e=>t.includes(e)))||Object.keys($a).find((e=>i.includes(e)));return $a[n]||$a[".onversus.com"]},Ya={skippableAd_portrait:"Skippable_30_400x300",skippableAd_landscape:"Skippable_30_640x480"},Qa=(e,t)=>Ya[`${e}_${t}`]??Ya.skippableAd_portrait,Ja={[Ua.Landscape]:["400x300","480x320","640x360","640x480"],[Ua.Portrait]:["300x400","320x480","360x640","480x640"],all:["300x400","320x480","360x640","480x640","400x300","480x320","640x360","640x480"],default:["300x400","320x480","360x640","480x640","400x300","640x480"]},Xa=e=>(Ja[e]??Ja.default).map((e=>e.split("x").map(Number))),el=async(e,t,i,n,r,s,o,a,l)=>{const c=!!s,{adUnitTag:d,adUnitTags:u}=Za(r),p=(e=>encodeURIComponent((Ja[e]??Ja.default).join("|")))(o??i),h=encodeURIComponent(r),f=void 0!==window.PWT,v={Widget_ID:e,Widget_Partner_Name:t??"",Video_Orientation:i===Ua.Landscape?"landscape":"portrait",Game_Category:n??"",Framebreak:1,Ad_Orientation:o},m=(e=>Object.entries(e).map((([e,t])=>`${e}=${t}`)))(v),g=encodeURIComponent(m.join("&")),y=c?u[s]:d;let _=`https://pubads.g.doubleclick.net/gampad/ads?iu=${y}&description_url=${h}&tfcd=0&npa=${l?0:1}&sz=${p}&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=&vad_type=linear`;if(c&&(_=`https://pubads.g.doubleclick.net/gampad/ads?iu=${y}&description_url=${h}&tfcd=0&npa=${l?0:1}&sz=${p}&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=`),g&&(_=`${_}&cust_params=${g}`),f&&"function"==typeof window.PWT.addKeyValuePairsToGPTSlots){const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Timeout"))),500)})),t=new Promise((e=>{const t=Xa(p);console.log("OpenWrap bidding starting");var i=[{code:s,divId:s,adUnitId:y,adUnitIndex:"0",mediaTypes:{video:{mimes:["video/mp4"],playerSize:t}},sizes:t}];window.PWT.requestBids(i,(t=>{console.log("***** adUnitsArray",t),window.PWT.addKeyValuePairsToGPTSlots(t),_=(e=>{const[t,i]=e.split("?");if(!i)return e;const n=new URLSearchParams(i);let r="";n.has("cust_params")&&(r=n.get("cust_params"),n.delete("cust_params"));const s=n.toString();return r?`${t}?${s}&cust_params=${r}`:e})(window.PWT.generateDFPURL(t[0],v)),console.log("***** adUrl",_),e(_)}))}));try{await Promise.race([t,e])}catch(e){e instanceof Error&&"Timeout"===e.message&&console.warn("Prebid fetchBids took longer than 500ms",e)}}if(s===Wa.Skippable&&a){console.time("apstag fetchBids");const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Timeout"))),500)})),t=new Promise((e=>{window.apstag.fetchBids({slots:[{slotID:Qa(Wa.Skippable,i),mediaType:"video"}],timeout:2e3},(t=>{t.length>0&&(_+=t[0].encodedQsParams),console.timeEnd("apstag fetchBids"),e()}))}));try{await Promise.race([t,e])}catch(e){e instanceof Error&&"Timeout"===e.message&&console.warn("FetchBids took longer than 500ms",e)}}return r.includes("localhost:1234")&&(_=`https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/vmap_ad_samples&npa=${l?0:1}&sz=640x480&cust_params=sample_ar%3Dpostonly&ciu_szs=300x250&gdfp_req=1&ad_rule=1&output=vmap&unviewed_position_start=1&env=vp&impl=s&correlator=`),_},tl=["ufc.com","nfl.com","versusgame.com","localhost"],il=["wideopenspaces.com"],nl=["nfl.com","localhost"],rl=(e,t)=>{ui(oi.ANALYTICS,{type:e,data:t})},sl={displayAdRenderedOutOfView:(e,t)=>{rl(ai.DISPLAY_AD_RENDERED_OUT_OF_VIEW,{adPlayerType:t,displayAdId:e})},adRequested:(e,t,i=Ba.GOOGLE_IMA)=>{rl(ai.AD_REQUESTED,{adType:e,adUnit:t,adPlayerType:i})},adPlayed:(e="")=>{rl(ai.AD_PLAYED,{adMetadata:e})},adReceived:(e,t,i=Ba.GOOGLE_IMA)=>{rl(ai.AD_RECEIVED,{adType:e,adUnit:t,adPlayerType:i})},adNoPostroll:(e=Ba.GOOGLE_IMA)=>{rl(ai.AD_NO_POSTROLL,{adPlayerType:e})},adNoFill:(e,t,i=Ba.GOOGLE_IMA)=>{rl(ai.AD_NO_FILL,{adType:e,adUnit:t,adPlayerType:i})},adError:(e,t,i=Ba.GOOGLE_IMA)=>{rl(ai.AD_ERROR,{adType:e,adUnit:t,adPlayerType:i})},unpaidAdClicked:(e,t)=>{rl(ai.UNPAID_AD_CLICKED,{ad_unit:e,target_url:t})}},ol=()=>{ui(oi.FLAG_AD_BLOCKER)},al=(e,t)=>{ui(oi.UPDATE_SPACER_SIZE,{panel:e,size:t})},ll=e=>{Na&&console.log(`Framebreak (${oi.MISCELLANEOUS}) - ${e}`)},cl=(e,t)=>{ui(oi.VIDEO_PLAYER,{type:e,data:t})},dl=e=>{cl(li.AD_AVAILABLE,e)},ul=e=>{cl(li.SET_VIDEO_MUTED,e)},pl=e=>{cl(li.SET_AD_PLAYING_THUNK,e)},hl=(e,t)=>{cl(li.SET_AD_COMPLETED_THUNK,{adCompleted:e,landscapeGame:t})},fl=e=>{Na&&console.log(`Framebreak (${oi.VIDEO_PLAYER}) - ${e}`)},vl=e=>{const[t,i]=To((null==e?void 0:e.defaultInView)||!1),n=Do(),r=Do(),s=Do();return window&&!n.current&&(n.current=new IntersectionObserver((e=>{r.current=e[0],i(e[0].isIntersecting)}),Object.assign(Object.assign({},e),{root:s.current}))),Po((()=>{r.current?(null==e?void 0:e.triggerOnce)&&s.current&&n.current.unobserve(s.current):n.current.observe(s.current)}),[s,t,e]),[s,t,r.current]},ml="https://dn0qt3r0xannq.cloudfront.net/aditude-etmtGDUepr/demo-longform/prebid-load.js",gl={wrapper:"w-full h-full rounded-lg mx-auto relative z-[2] flex flex-col items-center justify-center overflow-hidden",player:"w-full aspect-[16/9] h-auto rounded-lg overflow-hidden flex",fallbackDisplay:""};var yl;!function(e){e.S300x169="300x169",e.S420x236="420x236",e.S444x250="444x250"}(yl||(yl={}));const _l=async()=>{const e=Date.now();console.time("AditudeAdPlayer - player loading time");return await new Promise(((t,i)=>{const n=setInterval((()=>{ba.tude?(console.timeEnd("AditudeAdPlayer - player loading time"),clearInterval(n),t(null)):Date.now()-e>=3e3&&(console.timeEnd("AditudeAdPlayer - player loading time"),clearInterval(n),i(new Error("AditudeAdPlayer script was not available after waiting for 3000 ms.")))}),100)}))},bl=({id:e,enableFallback:t,styleOverrides:i,showDisclosure:n=!0,aditudeAdPlayerSize:r=yl.S444x250,adsTargetingAllowed:s,outstreamVideoMode:o})=>{const[a,l]=To(!1),[c,d]=To(!1),{width:u,height:p}=(e=>{if(!e)return{width:0,height:0};const[t,i]=e.split("x").map(Number);return{width:t,height:i}})(r),[h,f]=To(void 0),v=va(ha.INLINE_RECTANGLE),[m,g]=vl({threshold:.3}),y=i||gl;Po((()=>{ba.tude?.setPrivacySettings({personalizedAds:s})}),[s]);Po((()=>{!a&&g&&u&&p&&(l(!0),(async(e,t)=>{const i=await ga(e,t);i.imageUrl&&f(i.imageUrl)})(ha.INLINE_RECTANGLE),(async(e=ml,t,i)=>{try{await Ia(e,void 0,{id:"vs-aditude-js-script"}),await _l(),t&&t()}catch(e){Na&&console.error("AditudeAdPlayer -  player loading failed:",e),i&&i()}})(ml,(()=>{Na&&console.log("AditudeAdPlayer -  Onload");var t=ba.tude||{cmd:[]};t.cmd.push((function(){o&&t.requestOutstreamAd?t.requestOutstreamAd({baseDivId:"pb-slot-outstream",divId:e,playerOptions:{controlBarPosition:"over"}}):t.refreshAdsViaDivMappings([{divId:e,baseDivId:"pb-slot-right-1"}])})),t.setPrivacySettings({personalizedAds:s})}),(()=>t&&d(!0))))}),[a,g,u]);const b=Oo((()=>9*u/16),[u]);return B("div",{className:y.wrapper,ref:m,...!c&&{style:{maxWidth:u+"px"}},children:B(_,{children:[n&&B("span",{className:"text-[10px] text-center pb-2 font-semibold tracking-widest text-gray-400 uppercase",children:"ADVERTISEMENT"}),c?B("img",{id:`${e}_unpaid`,className:"bg-contain",style:{maxWidth:`${v[0]}px`,maxHeight:`${v[1]}px`,marginTop:"0px"},src:h,alt:"ad"}):B("div",{id:e,className:y.player,style:{maxWidth:u+"px",maxHeight:b+"px"}})]})})},wl=e=>{const{adsTargetingAllowed:t,className:i,embedUrl:n,id:r,onEmpty:s,adPlayerType:o,grouped:a,showDisclosure:l=!0,useUnpaidAds:c,unpaidInhouseAdsClickUrl:d,size:u=ha.INLINE_RECTANGLE,enableAutoRefresh:p=!0,enableAmazonUAM:h=!0,enableMultiformatUAM:f=!1,style:v}=e,m=Ba.GOOGLE_IMA,g=Do(null),y=Do(!1),_=va(u),b=Do(!1),w=Do(void 0),E=Do(void 0),[A,k]=To(!1),[x,S]=To(!1),[L,C]=To(void 0),[M,T]=To(d),[I,P]=To(!1),[D,O]=vl({threshold:.55}),N=()=>{ba.googletag||(ba.googletag=ba.googletag||{},ba.googletag.cmd=ba.googletag?.cmd||[],s&&s()),ba.apstag||(ba.apstag=ba.apstag||{},ba.apstag.init=ba.apstag.init||(()=>console.error("apstag.init is not defined")),ba.apstag.fetchBids=ba.apstag.fetchBids||(()=>console.error("apstag.fetchBids is not defined"))),ba.googletag?.cmd.push((()=>{ba.googletag?.cmd.push((function(){const e=ba.googletag?.defineSlot(R(),_,r);a&&(ba.adSlots[r]=e,ba.adSlots[r].inView=O),e&&(g.current=e,e.setTargeting(sa,r),e.setTargeting("Framebreak",1),E.current=((e,t,i,n)=>{const r=i=>{i.slot.getTargeting(sa).indexOf(t)>-1&&(wa("event - slotRequested",i,e,t),sl.adRequested(Va.Display,e))},s=e=>{if(e.slot.getTargeting(sa).indexOf(t)>-1){const i=e.slot.getAdUnitPath();wa("event - slotRenderEnded",e,i,t),e.isEmpty?sl.adNoFill(Va.Display,i):sl.adReceived(Va.Display,i),n&&n(e)}},o=i=>{i.slot.getTargeting(sa).indexOf(t)>-1&&wa("event - impressionViewable",i,e,t)},a=n=>{n.slot.getTargeting(sa).indexOf(t)>-1&&(wa("event - slotVisibilityChanged",n,e,t),i&&i(n))};return ba.googletag.cmd.push((()=>{ba.googletag.pubads().addEventListener("slotRequested",r),ba.googletag.pubads().addEventListener("slotRenderEnded",s),ba.googletag.pubads().addEventListener("impressionViewable",o),ba.googletag.pubads().addEventListener("slotVisibilityChanged",a)})),()=>{ba.googletag.pubads().removeEventListener("slotRequested",r),ba.googletag.pubads().removeEventListener("slotRenderEnded",s),ba.googletag.pubads().removeEventListener("impressionViewable",o),ba.googletag.pubads().removeEventListener("slotVisibilityChanged",a)}})(R(),r,z,U),e.addService(ba.googletag?.pubads()),a||(ba.googletag?.pubads().enableSingleRequest(),!t&&ba.googletag?.pubads()?.setPrivacySettings({nonPersonalizedAds:!0}),h&&ba.googletag?.pubads().disableInitialLoad(),ba.googletag?.enableServices()))}))})),a||h&&ba.apstag.fetchBids({slots:[f?{slotID:r,slotName:R(),mediaType:"multi-format",multiFormatProperties:{display:{sizes:[_]},video:{sizes:[[320,240]]}}}:{slotID:r,slotName:R(),sizes:[_]}],timeout:2e3},(()=>{ba.googletag?.cmd.push((function(){g.current&&(ba.apstag.setDisplayBids(),ba.googletag.pubads().refresh([g.current]))}))}))},j=e=>{if(a)return;const t=e?setTimeout:setInterval;F(),w.current=t((()=>{O&&(h?ba.apstag.fetchBids({slots:[{slotID:r,slotName:R(),sizes:[_]}],timeout:2e3},(()=>{ba.googletag?.cmd.push((function(){g.current&&(ba.apstag.setDisplayBids(),ba.googletag.pubads().refresh([g.current]))}))})):ba.googletag?.pubads().refresh([g.current]),wa((e?"Retrying":"Refreshing")+" display ad:",r))}),e?30500:35e3)},R=No((()=>pa(r,n)),[r,n]),F=()=>{clearInterval(w.current)},z=e=>{e.inViewPercentage>55?y.current||(p&&j(),y.current=!0):(y.current=!1,F())},U=e=>{e.slot===g.current&&(ba.adSlots[r]?.inView||(console.warn(`Ad slot ${r} rendered out of view`),sl.displayAdRenderedOutOfView(r,Ba.GOOGLE_IMA)),e.isEmpty?(b.current||(L?(W(u,n),S(!0)):P(!0)),s&&s(),j(!0)):(S(!1),P(!1),b.current=!0))};Po((()=>{const e=()=>{if(ba.googletag){const e=ba.googletag.pubads();e&&e.setPrivacySettings({nonPersonalizedAds:!t})}};ba.googletag?.cmd?ba.googletag.cmd.push(e):e()}),[t]),Po((()=>{if(!c){if(m===Ba.GOOGLE_IMA)a&&Ea(r,_).then((()=>wa("Ad ID updated successfully updateAdIds",r,ba.adIDs))).catch((e=>console.error("Error updating Ad ID updateAdIds:",r,e)));return()=>{if(!c&&m===Ba.GOOGLE_IMA)ba.googletag?.destroySlots&&ba.googletag.destroySlots([g.current]),E.current&&E.current(),F()}}}),[]);const W=async(e,t)=>{const i=await ga(e,t);i.imageUrl&&C(i.imageUrl),i.targetUrl&&T(i.targetUrl)};Po((()=>{if(ba.adSlots[r]&&(ba.adSlots[r].inView=O),O&&!A){if(k(!0),c)return void W(u,n);if(m===Ba.GOOGLE_IMA)N(),ba.googletag?.display&&!a&&ba.googletag.display(r)}}),[O]);return B("div",{"data-testid":"DisplayAd",ref:D,className:`flex ${i||""} ${I?"h-0":""}`,style:{maxWidth:`${_[0]}px`,...v},children:B("div",{className:"flex flex-col",children:[l&&B("span",{className:"text-[10px] text-center pb-2 font-semibold tracking-widest text-gray-400 uppercase",children:"ADVERTISEMENT"}),c||x?B("img",{id:`${r}_unpaid`,className:"bg-contain "+(M?"cursor-pointer":""),style:{maxWidth:`${_[0]}px`,maxHeight:`${_[1]}px`,marginTop:"0px"},src:L,alt:"ad",...M&&{onClick:()=>{window.open(M,"_blank"),sl.unpaidAdClicked(r,M)}}}):B("div",{style:{width:`${_[0]}px`,height:`${_[1]}px`},id:r})]})})};window.adIDs=[],window.adIDUpdateInProgress=!1,window.adSlots={},window.adSizes={},window.updateAdIdsMutex=[];const El=e=>{const{adsTargetingAllowed:t,enableAutoRefresh:i=!0,enableAmazonUAM:n=!0,enableMultiformatUAM:r=!1,enablePubmaticPrebid:s=!1}=e,o=Do(void 0),a=Do(void 0),l=Do([]),c=Do([]),[d,u]=To(!1),p=Do(0),h=Do(!1),f=Do(void 0),[v,m]=vl({threshold:.8}),g=()=>{if(l.current=Object.values(ba.adSlots),ba.adIDs.length===l.current.length)0!==ba.adIDs.length&&(ba.googletag?.cmd.push((()=>{!t&&ba.googletag?.pubads()?.setPrivacySettings({nonPersonalizedAds:!0}),n&&ba.googletag?.pubads().disableInitialLoad(),ba.googletag?.pubads().enableSingleRequest(),ba.googletag?.enableServices()})),c.current=ba.adIDs.map((e=>r?{slotID:e,slotName:w(e),mediaType:"multi-format",multiFormatProperties:{display:{sizes:[ba.adSizes[e]]},video:{sizes:[[320,240]]}}}:{slotID:e,slotName:w(e),sizes:[ba.adSizes[e]]})),n?ba.apstag.fetchBids({slots:c.current,timeout:oa},(()=>{_()}),setTimeout((()=>{h.current||_()}),oa)):ba.googletag?.cmd.push((function(){y()})),s&&("function"==typeof ba.PWT.requestBids?(ba.PWT.requestBids(ba.PWT.generateConfForGPT(ba.googletag.pubads().getSlots()),b),f.current=setTimeout((function(){y(!0)}),1e3)):n||y(!1)));else{const e=p.current>=60;if(p.current++,e)return;a.current=setTimeout((()=>{g()}),500)}},y=(e=!1,t=!0)=>{wa("***** refreshPubads. forced:",e,"enableAmazonUAM:",n),wa("***** contentWindow.PWT.AUM_BidsReceived",ba.PWT?.AUM_BidsReceived),wa("***** contentWindow.PWT.OW_BidsReceived",ba.PWT?.OW_BidsReceived),(s&&!0===e&&!0!==ba.refreshedPubadsFlag||s&&(ba.PWT.AUM_BidsReceived||!n)&&ba.PWT.OW_BidsReceived||!s)&&(s&&wa("***** refreshingPubadsFlag... ",ba.refreshedPubadsFlag),s&&(ba.refreshedPubadsFlag=!0),s&&(ba.PWT.AUM_BidsReceived=ba.PWT.OW_BidsReceived=!1),ba.googletag.pubads().refresh(l.current.slice(0,1)),setTimeout((()=>{l.current.length>1&&ba.googletag.pubads().refresh(l.current.slice(1))}),1e3),wa("***** Refreshed display ads: ",ba.adIDs),i&&t&&E())},_=()=>{h.current=!0,ba.googletag?.cmd.push((function(){ba.apstag.setDisplayBids(),s&&(ba.PWT.AUM_BidsReceived=!0),y()}))},b=e=>{wa("***** adUnitsArray",e),clearTimeout(f.current),ba.PWT.addKeyValuePairsToGPTSlots(e),ba.PWT.OW_BidsReceived=!0,y(!1)},w=t=>pa(t,e.referrer),E=()=>{0!==ba.adIDs.length&&(A(),o.current=setInterval((()=>{m&&(n?ba.apstag.fetchBids({slots:c.current,timeout:2e3},(()=>{_()}),setTimeout((()=>{h.current||_()}),oa)):ba.googletag?.pubads().refresh(l.current),s&&("function"==typeof ba.PWT.removeKeyValuePairsFromGPTSlots?(ba.refreshedPubadsFlag=!1,ba.PWT.removeKeyValuePairsFromGPTSlots(ba.googletag.pubads().getSlots()),ba.PWT.requestBids(ba.PWT.generateConfForGPT(ba.googletag.pubads().getSlots()),b)):n||y(!1)),wa("***** Refreshing display ads:",ba.adIDs))}),35e3))},A=()=>{clearInterval(o.current)};return Po((()=>{const e=()=>{if(ba.googletag){const e=ba.googletag.pubads();e&&e.setPrivacySettings({nonPersonalizedAds:!t})}};ba.googletag?.cmd?ba.googletag.cmd.push(e):e()}),[t]),Po((()=>{m?d?i&&E():(u(!0),g()):A()}),[m]),Po((()=>()=>{clearTimeout(a.current),A()}),[]),B("div",{"data-testid":"DisplayAdsManager",ref:v,className:`flex flex-col gap-3 ${e.classOverride?e.classOverride:""}`,children:e.children})},Al=JSON.parse('{"localhost":{"profileId":"test","unitId":"vs_widget_video"},".integration.versusgame.com":{"profileId":"test","unitId":"vs_widget_video"},"minigames.stage.versusgame.com":{"profileId":"test","unitId":"vs_widget_video"},"spin.com":{"profileId":"spin","unitId":"vs_widget_video"},"digitaltrends.com":{"profileId":"digitaltrends","unitId":"vs_widget_video"},"ufc.com":{"profileId":"ufc","unitId":"vs_widget_video"}}'),kl={wrapper:"w-full h-full rounded-lg mx-auto relative z-[2] flex flex-col items-center justify-center overflow-hidden",player:"w-full aspect-[16/9] h-auto rounded-lg overflow-hidden bg5555-black",fallbackDisplay:""};var xl;!function(e){e.S300x169="300x169",e.S420x236="420x236",e.S444x250="444x250"}(xl||(xl={}));const Sl=()=>!!ba.lngtd,Ll=Al,Cl=e=>{const t=Object.keys(Ll).find((t=>e.includes(t)));return Ll[t]},Ml=async(e,t,i)=>{const n=Cl(e);if(!n)return console.error("FabrikAdPlayer - partner config not found"),void(i&&i());const r="https://lngtd.com/vs_{0}.js".replace("{0}",n.profileId);try{await Ia(r,void 0,{id:"vs-fabrik-js-script"}),await Tl(),t&&t()}catch(e){Na&&console.error("FabrikAdPlayer -  player loading failed:",e),i&&i()}},Tl=async()=>{const e=Date.now();console.time("FabrikAdPlayer - player loading time");return await new Promise(((t,i)=>{const n=setInterval((()=>{Sl()?(console.timeEnd("FabrikAdPlayer - player loading time"),clearInterval(n),t(null)):Date.now()-e>=3e3&&(console.timeEnd("FabrikAdPlayer - player loading time"),clearInterval(n),i(new Error("FabrikAdPlayer script was not available after waiting for 3000 ms.")))}),100)}))},Il=({id:e,enableFallback:t=!0,referrer:i,styleOverrides:n,showDisclosure:r=!0,fabrikAdPlayerSize:s=xl.S444x250})=>{const[o,a]=To(!1),[l,c]=To(!1),{width:d,height:u}=(e=>{if(!e)return{width:0,height:0};const[t,i]=e.split("x").map(Number);return{width:t,height:i}})(s),[p,h]=To(void 0),[f,v]=vl({threshold:.3}),m=n||kl,g=va(ha.INLINE_RECTANGLE);Po((()=>{!o&&v&&d&&u&&(a(!0),(async(e,t)=>{const i=await ga(e,t);i.imageUrl&&h(i.imageUrl)})(ha.INLINE_RECTANGLE,i),Ml(i,null,(()=>t&&c(!0))))}),[o,v,d]);const y=Oo((()=>9*d/16),[d]);return B("div",{className:m.wrapper,ref:f,...!l&&{style:{maxWidth:d+"px"}},children:B(_,{children:[r&&B("span",{className:"text-[10px] text-center pb-2 font-semibold tracking-widest text-gray-400 uppercase",children:"ADVERTISEMENT"}),l?B("img",{id:`${e}_unpaid`,className:"bg-contain",style:{maxWidth:`${g[0]}px`,maxHeight:`${g[1]}px`,marginTop:"0px"},src:p,alt:"ad"}):B("div",{id:e,className:m.player,style:{maxWidth:d+"px",maxHeight:y+"px"}})]})})},Pl="undefined"!=typeof window?window.navigator:null,Dl=Pl?Pl.userAgent.toLowerCase():null,Ol=(!!Dl&&(/ipad/i.test(Dl)&&window.MSStream),!!Dl&&(/iphone/i.test(Dl)&&!window.MSStream)),Nl=(!!Dl&&(/ipod/i.test(Dl)&&window.MSStream),!!Dl&&(/ipad|iphone|ipod/i.test(Dl)&&!window.MSStream)),jl=!!Dl&&/android/i.test(Dl),Rl=(!!Pl&&("msLaunchUri"in Pl&&document),!!Dl&&/chrome/i.test(Dl)),Fl=(!!Dl&&/firefox/i.test(Dl),!!Dl&&(/safari/i.test(Dl)&&!Rl)),zl=(!!Dl&&/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(Dl),"undefined"!=typeof window&&"MediaSource"in window),Ul={passive:!1};function Bl(e){return"video"===e.tagName.toLowerCase()}function Wl(e){return"audio"===e.tagName.toLowerCase()}function Vl(e){return new Promise(((t,i)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onload=()=>{n.remove(),t()},n.onerror=()=>{n.remove(),i(new Error(`${e} could not be loaded`))},document.head&&document.head.appendChild(n)}))}function $l(e){const t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset||document.documentElement.scrollLeft),top:t.top+(window.pageYOffset||document.documentElement.scrollTop)}}function Hl(e,t=!0){const i=(new DOMParser).parseFromString(e,"text/html").body||document.createElement("body"),n=i.querySelectorAll("script");for(let e=0,t=n.length;e<t;e++)n[e].remove();const r=e=>{const t=e.children;for(let e=0,i=t.length;e<i;e++){const i=t[e],{attributes:n}=i;for(let e=0,t=n.length;e<t;e++){const{name:t,value:r}=n[e],s=r.replace(/\s+/g,"").toLowerCase();["src","href","xlink:href"].includes(t)&&(s.includes("javascript:")||s.includes("data:"))&&i.removeAttribute(t),t.startsWith("on")&&i.removeAttribute(t)}r(i)}};return r(i),t?(i.textContent||"").replace(/\s{2,}/g,""):i.innerHTML}function ql(e,t){let i={};return t&&t.detail&&(i={detail:t.detail}),new CustomEvent(e,i)}var Kl,Gl,Zl,Yl,Ql,Jl,Xl,ec,tc,ic,nc,rc=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},sc=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Kl=new WeakMap,Gl=new WeakMap,Zl=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,Xl=new WeakMap,ec=new WeakMap,tc=new WeakMap,ic=new WeakMap,nc=new WeakMap;const oc=class{constructor(e,t,i){Kl.set(this,void 0),Gl.set(this,void 0),Zl.set(this,void 0),Yl.set(this,void 0),Ql.set(this,{button:{},global:{},media:{}}),Jl.set(this,void 0),Xl.set(this,void 0),ec.set(this,void 0),tc.set(this,"off"),ic.set(this,void 0),nc.set(this,void 0),rc(this,Kl,e,"f"),rc(this,ic,t,"f"),rc(this,nc,i,"f"),this._formatMenuItems=this._formatMenuItems.bind(this),this._setDefaultTrack=this._setDefaultTrack.bind(this),this._showCaptions=this._showCaptions.bind(this),this._hideCaptions=this._hideCaptions.bind(this)}create(){var e;const{textTracks:t}=sc(this,Kl,"f").getElement(),{labels:i,detachMenus:n}=sc(this,Kl,"f").getOptions();if(rc(this,Jl,Object.keys(t).map((e=>t[Number(e)])).filter((e=>["subtitles","captions"].includes(e.kind)&&e.language)),"f"),rc(this,Xl,!!sc(this,Jl,"f").length,"f"),!sc(this,Xl,"f"))return;rc(this,Gl,document.createElement("button"),"f"),sc(this,Gl,"f").className=`op-controls__captions op-control__${sc(this,ic,"f")}`,sc(this,Gl,"f").tabIndex=0,sc(this,Gl,"f").title=(null==i?void 0:i.toggleCaptions)||"",sc(this,Gl,"f").setAttribute("aria-controls",sc(this,Kl,"f").id),sc(this,Gl,"f").setAttribute("aria-pressed","false"),sc(this,Gl,"f").setAttribute("aria-label",(null==i?void 0:i.toggleCaptions)||""),sc(this,Gl,"f").setAttribute("data-active-captions","off"),rc(this,Zl,document.createElement("div"),"f"),sc(this,Zl,"f").className="op-captions";const r=sc(this,Kl,"f").getContainer();if(r.insertBefore(sc(this,Zl,"f"),r.firstChild),n){sc(this,Gl,"f").classList.add("op-control--no-hover"),rc(this,Yl,document.createElement("div"),"f"),sc(this,Yl,"f").className="op-settings op-captions__menu",sc(this,Yl,"f").setAttribute("aria-hidden","true"),sc(this,Yl,"f").innerHTML=`<div class="op-settings__menu" role="menu" id="menu-item-captions">\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio" aria-checked="${"off"===sc(this,tc,"f")?"true":"false"}">\n                    <div class="op-settings__submenu-label op-subtitles__option" data-value="captions-off">${null==i?void 0:i.off}</div>\n                </div>\n            </div>`;const t=document.createElement("div");t.className=`op-controls__container op-control__${sc(this,ic,"f")}`,t.append(sc(this,Gl,"f"),sc(this,Yl,"f")),sc(this,Kl,"f").getControls().getLayer(sc(this,nc,"f")).append(t);for(const t of sc(this,Jl,"f")){const n=document.createElement("div"),r=(null===(e=null==i?void 0:i.lang)||void 0===e?void 0:e[t.language])||null;n.className="op-settings__submenu-item",n.tabIndex=0,n.setAttribute("role","menuitemradio"),n.setAttribute("aria-checked",sc(this,tc,"f")===t.language?"true":"false"),n.innerHTML=`<div class="op-settings__submenu-label op-subtitles__option"\n                    data-value="captions-${t.language}">\n                    ${r||t.label}\n                </div>`,sc(this,Yl,"f").append(n)}}else sc(this,Kl,"f").getControls().getLayer(sc(this,nc,"f")).append(sc(this,Gl,"f"));sc(this,Ql,"f").button.click=e=>{var t;const i=e.target;if(n){const e=sc(this,Kl,"f").getContainer().querySelectorAll(".op-settings");for(const t of Array.from(e))t!==sc(this,Yl,"f")&&t.setAttribute("aria-hidden","true");"true"===sc(this,Yl,"f").getAttribute("aria-hidden")?sc(this,Yl,"f").setAttribute("aria-hidden","false"):sc(this,Yl,"f").setAttribute("aria-hidden","true")}else{i.setAttribute("aria-pressed","true"),i.classList.contains("op-controls__captions--on")?(i.classList.remove("op-controls__captions--on"),i.setAttribute("data-active-captions","off"),this._hideCaptions()):(i.classList.add("op-controls__captions--on"),i.setAttribute("data-active-captions",(null===(t=sc(this,ec,"f"))||void 0===t?void 0:t.language)||"off"),this._showCaptions());for(const e of sc(this,Jl,"f"))e.mode=i.getAttribute("data-active-captions")===e.language?"showing":"hidden"}},sc(this,Ql,"f").button.mouseover=()=>{if(!Nl&&!jl&&n){const e=sc(this,Kl,"f").getContainer().querySelectorAll(".op-settings");for(let t=0,i=e.length;t<i;++t)e[t]!==sc(this,Yl,"f")&&e[t].setAttribute("aria-hidden","true");"true"===sc(this,Yl,"f").getAttribute("aria-hidden")&&sc(this,Yl,"f").setAttribute("aria-hidden","false")}},sc(this,Ql,"f").button.mouseout=()=>{if(!Nl&&!jl&&n){const e=sc(this,Kl,"f").getContainer().querySelectorAll(".op-settings");for(let t=0,i=e.length;t<i;++t)e[t].setAttribute("aria-hidden","true");"false"===sc(this,Yl,"f").getAttribute("aria-hidden")&&sc(this,Yl,"f").setAttribute("aria-hidden","true")}},sc(this,Gl,"f").addEventListener("click",sc(this,Ql,"f").button.click,Ul),sc(this,Ql,"f").global.click=e=>{const t=e.target;if(t.closest(`#${sc(this,Kl,"f").id}`)&&t.classList.contains("op-subtitles__option")){const e=t.getAttribute("data-value").replace("captions-","");this._hideCaptions(),"off"===e&&rc(this,ec,void 0,"f");for(const t of sc(this,Jl,"f"))t.mode=t.language===e?"showing":"hidden",t.language===e&&(rc(this,ec,t,"f"),this._showCaptions());if(n){sc(this,Gl,"f").classList.contains("op-controls__captions--on")?(sc(this,Gl,"f").classList.remove("op-controls__captions--on"),sc(this,Gl,"f").setAttribute("data-active-captions","off")):(sc(this,Gl,"f").classList.add("op-controls__captions--on"),sc(this,Gl,"f").setAttribute("data-active-captions",e));const i=sc(this,Yl,"f").querySelectorAll(".op-settings__submenu-item");for(const e of Array.from(i))e.setAttribute("aria-checked","false");t.parentElement.setAttribute("aria-checked","true"),sc(this,Yl,"f").setAttribute("aria-hidden","false")}else sc(this,Gl,"f").setAttribute("data-active-captions",e);const i=ql("captionschanged");sc(this,Kl,"f").getElement().dispatchEvent(i)}},sc(this,Ql,"f").global.cuechange=e=>{var t;this._hideCaptions();const i=e.target;"showing"===i.mode&&"off"!==sc(this,Gl,"f").getAttribute("data-active-captions")&&i.activeCues&&(null===(t=i.activeCues)||void 0===t?void 0:t.length)>0&&this._showCaptions()},n&&(sc(this,Gl,"f").addEventListener("mouseover",sc(this,Ql,"f").button.mouseover,Ul),sc(this,Yl,"f").addEventListener("mouseover",sc(this,Ql,"f").button.mouseover,Ul),sc(this,Yl,"f").addEventListener("mouseout",sc(this,Ql,"f").button.mouseout,Ul),sc(this,Kl,"f").getElement().addEventListener("controlshidden",sc(this,Ql,"f").button.mouseout,Ul)),document.addEventListener("click",sc(this,Ql,"f").global.click,Ul);for(const e of sc(this,Jl,"f"))e.mode="showing"!==e.mode?"hidden":e.mode,e.addEventListener("cuechange",sc(this,Ql,"f").global.cuechange,Ul);const s=sc(this,Kl,"f").getElement().querySelector('track:is([kind="subtitles"],[kind="captions"])[default]');if(s){const e=sc(this,Jl,"f").find((e=>e.language===s.srclang));e&&this._setDefaultTrack(e)}}destroy(){const{detachMenus:e}=sc(this,Kl,"f").getOptions();if(sc(this,Xl,"f")){for(const e of sc(this,Jl,"f"))e.removeEventListener("cuechange",sc(this,Ql,"f").global.cuechange);document.removeEventListener("click",sc(this,Ql,"f").global.click),sc(this,Gl,"f").removeEventListener("click",sc(this,Ql,"f").button.click),e&&(sc(this,Gl,"f").removeEventListener("mouseover",sc(this,Ql,"f").button.mouseover),sc(this,Yl,"f").removeEventListener("mouseover",sc(this,Ql,"f").button.mouseover),sc(this,Yl,"f").removeEventListener("mouseout",sc(this,Ql,"f").button.mouseout),sc(this,Kl,"f").getElement().removeEventListener("controlshidden",sc(this,Ql,"f").button.mouseout),sc(this,Yl,"f").remove()),sc(this,Gl,"f").remove()}}addSettings(){const{detachMenus:e,labels:t}=sc(this,Kl,"f").getOptions();if(e||sc(this,Jl,"f").length<=1)return{};const i=this._formatMenuItems();return i.length>2?{className:"op-subtitles__option",default:sc(this,tc,"f")||"off",key:"captions",name:(null==t?void 0:t.captions)||"",subitems:i}:{}}_formatMenuItems(){const{labels:e,detachMenus:t}=sc(this,Kl,"f").getOptions();if(sc(this,Jl,"f").length<=1&&!t)return[];let i=[{key:"off",label:(null==e?void 0:e.off)||""}];for(const t of sc(this,Jl,"f")){const n=(null==e?void 0:e.lang)?e.lang[t.language]:null;i=i.filter((e=>e.key!==t.language)),i.push({key:t.language,label:n||t.label})}return i}_setDefaultTrack(e){var t,i;e.mode="showing",rc(this,tc,e.language,"f"),sc(this,Gl,"f").setAttribute("data-active-captions",sc(this,tc,"f")),sc(this,Gl,"f").classList.add("op-controls__captions--on"),sc(this,Zl,"f").classList.add("op-captions--on"),rc(this,ec,e,"f");const n=document.querySelectorAll(".op-settings__submenu-item")||[];for(const e of Array.from(n))e.setAttribute("aria-checked","false");null===(i=null===(t=document.querySelector(`.op-subtitles__option[data-value="captions-${e.language}"]`))||void 0===t?void 0:t.parentElement)||void 0===i||i.setAttribute("aria-checked","true")}_showCaptions(){var e;for(const t of Array.from((null===(e=sc(this,ec,"f"))||void 0===e?void 0:e.activeCues)||[])){const e=(null==t?void 0:t.text)||"";if(e&&sc(this,Zl,"f")){const t=document.createElement("span");t.innerHTML=e,sc(this,Zl,"f").prepend(t),sc(this,Zl,"f").classList.add("op-captions--on")}else this._hideCaptions()}}_hideCaptions(){for(var e;null===(e=sc(this,Zl,"f"))||void 0===e?void 0:e.lastChild;)sc(this,Zl,"f").removeChild(sc(this,Zl,"f").lastChild)}};var ac,lc,cc,dc,uc,pc,hc,fc,vc,mc=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},gc=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};ac=new WeakMap,lc=new WeakMap,cc=new WeakMap,dc=new WeakMap,uc=new WeakMap,pc=new WeakMap,hc=new WeakMap,fc=new WeakMap,vc=new WeakMap;const yc=class{constructor(e,t,i){ac.set(this,void 0),lc.set(this,void 0),cc.set(this,void 0),dc.set(this,[]),uc.set(this,0),pc.set(this,0),hc.set(this,void 0),fc.set(this,void 0),vc.set(this,void 0),mc(this,ac,e,"f"),mc(this,fc,t,"f"),mc(this,vc,i,"f"),mc(this,lc,document.body.classList.contains("op-fullscreen__on"),"f");const n=document;this.fullScreenEnabled=!!(n.fullscreenEnabled||n.mozFullScreenEnabled||n.msFullscreenEnabled||n.webkitSupportsFullscreen||n.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen),this._enterSpaceKeyEvent=this._enterSpaceKeyEvent.bind(this),this._resize=this._resize.bind(this),this._fullscreenChange=this._fullscreenChange.bind(this),this._setFullscreen=this._setFullscreen.bind(this),this._unsetFullscreen=this._unsetFullscreen.bind(this),mc(this,dc,["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],"f"),gc(this,dc,"f").forEach((e=>{document.addEventListener(e,this._fullscreenChange,Ul)})),this._setFullscreenData(!1),gc(this,ac,"f").getContainer().addEventListener("keydown",this._enterSpaceKeyEvent,Ul),Ol&&(gc(this,ac,"f").getElement().addEventListener("webkitbeginfullscreen",this._setFullscreen,Ul),gc(this,ac,"f").getElement().addEventListener("webkitendfullscreen",this._unsetFullscreen,Ul))}create(){const{labels:e}=gc(this,ac,"f").getOptions();mc(this,cc,document.createElement("button"),"f"),gc(this,cc,"f").type="button",gc(this,cc,"f").className=`op-controls__fullscreen op-control__${gc(this,fc,"f")}`,gc(this,cc,"f").tabIndex=0,gc(this,cc,"f").title=(null==e?void 0:e.fullscreen)||"",gc(this,cc,"f").setAttribute("aria-controls",gc(this,ac,"f").id),gc(this,cc,"f").setAttribute("aria-pressed","false"),gc(this,cc,"f").setAttribute("aria-label",(null==e?void 0:e.fullscreen)||""),mc(this,hc,(()=>{gc(this,cc,"f").setAttribute("aria-pressed","true"),this.toggleFullscreen()}),"f"),mc(this,hc,gc(this,hc,"f").bind(this),"f"),gc(this,cc,"f").addEventListener("click",gc(this,hc,"f"),Ul),gc(this,ac,"f").getControls().getLayer(gc(this,vc,"f")).appendChild(gc(this,cc,"f"))}destroy(){gc(this,ac,"f").getContainer().removeEventListener("keydown",this._enterSpaceKeyEvent),gc(this,dc,"f").forEach((e=>{document.removeEventListener(e,this._fullscreenChange)})),Ol&&(gc(this,ac,"f").getElement().removeEventListener("webkitbeginfullscreen",this._setFullscreen),gc(this,ac,"f").getElement().removeEventListener("webkitendfullscreen",this._unsetFullscreen)),gc(this,cc,"f").removeEventListener("click",gc(this,hc,"f")),gc(this,cc,"f").remove()}toggleFullscreen(){if(gc(this,lc,"f")){const e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():this._fullscreenChange(),document.body.classList.remove("op-fullscreen__on")}else{const e=gc(this,ac,"f").getElement();mc(this,uc,window.screen.width,"f"),mc(this,pc,window.screen.height,"f"),e.requestFullscreen?e.parentElement.requestFullscreen():e.mozRequestFullScreen?e.parentElement.mozRequestFullScreen():e.webkitRequestFullScreen?e.parentElement.webkitRequestFullScreen():e.msRequestFullscreen?e.parentElement.msRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():this._fullscreenChange(),document.body.classList.add("op-fullscreen__on")}if("undefined"!=typeof window&&(jl||Ol)){const{screen:e}=window;e.orientation&&!gc(this,lc,"f")&&e.orientation.lock("landscape")}}_fullscreenChange(){const e=gc(this,lc,"f")?void 0:gc(this,uc,"f"),t=gc(this,lc,"f")?void 0:gc(this,pc,"f");this._setFullscreenData(!gc(this,lc,"f")),gc(this,ac,"f").isAd()&&gc(this,ac,"f").getAd().resizeAds(e,t),mc(this,lc,!gc(this,lc,"f"),"f"),gc(this,lc,"f")?document.body.classList.add("op-fullscreen__on"):document.body.classList.remove("op-fullscreen__on"),this._resize(e,t)}_setFullscreenData(e){gc(this,ac,"f").getContainer().setAttribute("data-fullscreen",(!!e).toString()),gc(this,cc,"f")&&(e?gc(this,cc,"f").classList.add("op-controls__fullscreen--out"):gc(this,cc,"f").classList.remove("op-controls__fullscreen--out"))}_resize(e,t){const i=gc(this,ac,"f").getContainer(),n=gc(this,ac,"f").getElement(),r=gc(this,ac,"f").getOptions();let s="";if(e)i.style.width="100%",n.style.width="100%";else if(r.width){s+=`width: ${"number"==typeof r.width?`${r.width}px`:r.width} !important;`,n.style.removeProperty("width")}else n.style.removeProperty("width"),i.style.removeProperty("width");if(t)n.style.height="100%",i.style.height="100%";else if(r.height){s+=`height: ${"number"==typeof r.height?`${r.height}px`:r.height} !important;`,n.style.removeProperty("height")}else n.style.removeProperty("height"),i.style.removeProperty("height");s&&i.setAttribute("style",s)}_enterSpaceKeyEvent(e){var t;const i=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__fullscreen"))||13!==i&&32!==i||(this.toggleFullscreen(),e.preventDefault(),e.stopPropagation())}_setFullscreen(){mc(this,lc,!0,"f"),this._setFullscreenData(!0),document.body.classList.add("op-fullscreen__on")}_unsetFullscreen(){mc(this,lc,!1,"f"),this._setFullscreenData(!1),document.body.classList.remove("op-fullscreen__on")}};function _c(e){return/\.m3u8$/i.test(e.src)||["application/x-mpegURL","application/vnd.apple.mpegurl"].includes(e.type)}function bc(e){return/\.mpd/i.test(e.src)||"application/dash+xml"===e.type}function wc(e){return/(^rtmp:\/\/|\.flv$)/i.test(e.src)||["video/x-flv","video/flv"].includes(e.type)}function Ec(e,t){const i=function(e){const t=((((e.split("?")[0]||"").split("\\")||[]).pop()||"").split("/")||[]).pop()||"";return t.includes(".")?t.substring(t.lastIndexOf(".")+1):""}(e);if(!i)return Wl(t)?"audio/mp3":"video/mp4";switch(i){case"m3u8":case"m3u":return"application/x-mpegURL";case"mpd":return"application/dash+xml";case"mp4":return Wl(t)?"audio/mp4":"video/mp4";case"mp3":return"audio/mp3";case"webm":return Wl(t)?"audio/webm":"video/webm";case"ogg":return Wl(t)?"audio/ogg":"video/ogg";case"ogv":return"video/ogg";case"oga":return"audio/ogg";case"3gp":return"audio/3gpp";case"wav":return"audio/wav";case"aac":return"audio/aac";case"flac":return"audio/flac";default:return Wl(t)?"audio/mp3":"video/mp4"}}var Ac,kc,xc,Sc,Lc,Cc,Mc,Tc,Ic=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Pc=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Ac=new WeakMap,kc=new WeakMap,xc=new WeakMap,Sc=new WeakMap,Lc=new WeakMap,Cc=new WeakMap,Mc=new WeakMap,Tc=new WeakMap;const Dc=class{constructor(e,t,i){Ac.set(this,void 0),kc.set(this,void 0),xc.set(this,void 0),Sc.set(this,{button:{},global:{},media:{}}),Lc.set(this,[]),Cc.set(this,""),Mc.set(this,void 0),Tc.set(this,void 0),Ic(this,Ac,e,"f"),Ic(this,Mc,t,"f"),Ic(this,Tc,i,"f")}create(){const{labels:e,defaultLevel:t,detachMenus:i}=Pc(this,Ac,"f").getOptions(),n=null!==t?parseInt(t||"0",10):Pc(this,Ac,"f").getMedia().level;Ic(this,Cc,`${n}`,"f");const r=this._formatMenuItems(),s=r.length?r.find((e=>e.key===Pc(this,Cc,"f"))):null,o=s?s.label:(null==e?void 0:e.auto)||"";let a=!1;Ic(this,kc,document.createElement("button"),"f"),Pc(this,kc,"f").className=`op-controls__levels op-control__${Pc(this,Mc,"f")}`,Pc(this,kc,"f").tabIndex=0,Pc(this,kc,"f").title=(null==e?void 0:e.mediaLevels)||"",Pc(this,kc,"f").setAttribute("aria-controls",Pc(this,Ac,"f").id),Pc(this,kc,"f").setAttribute("aria-label",(null==e?void 0:e.mediaLevels)||""),Pc(this,kc,"f").setAttribute("data-active-level",Pc(this,Cc,"f")),Pc(this,kc,"f").innerHTML=`<span>${o}</span>`;const l=()=>{Pc(this,Lc,"f").length?a||(Pc(this,Ac,"f").getMedia().level=n,a=!0):(this._gatherLevels(),setTimeout((()=>{Pc(this,Ac,"f").getMedia().level=n;const e=ql("controlschanged");Pc(this,Ac,"f").getElement().dispatchEvent(e)}),0))};Pc(this,Sc,"f").media.loadedmetadata=l.bind(this),Pc(this,Sc,"f").media.manifestLoaded=l.bind(this),Pc(this,Sc,"f").media.hlsManifestParsed=l.bind(this),i&&(this._buildMenu(),Pc(this,Sc,"f").button.click=()=>{if(i){const e=Pc(this,Ac,"f").getContainer().querySelectorAll(".op-settings");for(let t=0,i=e.length;t<i;++t)e[t]!==Pc(this,xc,"f")&&e[t].setAttribute("aria-hidden","true");"true"===Pc(this,xc,"f").getAttribute("aria-hidden")?Pc(this,xc,"f").setAttribute("aria-hidden","false"):Pc(this,xc,"f").setAttribute("aria-hidden","true")}},Pc(this,Sc,"f").button.mouseover=()=>{if(!Nl&&!jl){const e=Pc(this,Ac,"f").getContainer().querySelectorAll(".op-settings");for(let t=0,i=e.length;t<i;++t)e[t]!==Pc(this,xc,"f")&&e[t].setAttribute("aria-hidden","true");"true"===Pc(this,xc,"f").getAttribute("aria-hidden")&&Pc(this,xc,"f").setAttribute("aria-hidden","false")}},Pc(this,Sc,"f").button.mouseout=()=>{if(!Nl&&!jl){const e=Pc(this,Ac,"f").getContainer().querySelectorAll(".op-settings");for(let t=0,i=e.length;t<i;++t)e[t].setAttribute("aria-hidden","true");"false"===Pc(this,xc,"f").getAttribute("aria-hidden")&&Pc(this,xc,"f").setAttribute("aria-hidden","true")}},Pc(this,kc,"f").addEventListener("click",Pc(this,Sc,"f").button.click,Ul),Pc(this,kc,"f").addEventListener("mouseover",Pc(this,Sc,"f").button.mouseover,Ul),Pc(this,xc,"f").addEventListener("mouseover",Pc(this,Sc,"f").button.mouseover,Ul),Pc(this,xc,"f").addEventListener("mouseout",Pc(this,Sc,"f").button.mouseout,Ul),Pc(this,Ac,"f").getElement().addEventListener("controlshidden",Pc(this,Sc,"f").button.mouseout,Ul)),Pc(this,Sc,"f").global.click=e=>{const t=e.target,{currentTime:n}=Pc(this,Ac,"f").getMedia(),r=Pc(this,Ac,"f").getMedia().paused;if(t.closest(`#${Pc(this,Ac,"f").id}`)&&t.classList.contains("op-levels__option")){const s=t.getAttribute("data-value"),o=s?s.replace("levels-",""):"-1";if(Ic(this,Cc,`${o}`,"f"),i){Pc(this,kc,"f").setAttribute("data-active-level",`${o}`),Pc(this,kc,"f").innerHTML=`<span>${Hl(t.innerText,!0)}</span>`;const e=t.parentElement&&t.parentElement.parentElement?t.parentElement.parentElement.querySelectorAll(".op-settings__submenu-item"):[];for(let t=0,i=e.length;t<i;++t)e[t].setAttribute("aria-checked","false");t.parentElement&&t.parentElement.setAttribute("aria-checked","true"),Pc(this,xc,"f").setAttribute("aria-hidden","false")}Pc(this,Ac,"f").getMedia().level=o,Pc(this,Ac,"f").getMedia().currentTime=n,r||Pc(this,Ac,"f").play();const a=ql("levelchanged",{detail:{label:t.innerText.trim(),level:o}});Pc(this,Ac,"f").getElement().dispatchEvent(a),e.preventDefault(),e.stopPropagation()}};const c=(null==Pl?void 0:Pl.connection)||(null==Pl?void 0:Pl.mozConnection)||(null==Pl?void 0:Pl.webkitConnection);Pc(this,Sc,"f").global.connection=()=>{const e=Pc(this,Ac,"f").getMedia().current;if(!bc(e)&&!_c(e)){const e=(null==c?void 0:c.effectiveType)||"",t=Pc(this,Lc,"f").map((e=>Object.assign(Object.assign({},e),{resolution:parseInt(e.label.replace("p",""),10)})));let i=t.find((e=>e.resolution<360));"4g"===e?i=t.find((e=>e.resolution>=720)):"3g"===e&&(i=t.find((e=>e.resolution>=360&&e.resolution<720))),i&&(Pc(this,Ac,"f").pause(),Pc(this,Ac,"f").getMedia().level=i.id,Pc(this,Ac,"f").play())}},Object.keys(Pc(this,Sc,"f").media).forEach((e=>{Pc(this,Ac,"f").getElement().addEventListener(e,Pc(this,Sc,"f").media[e],Ul)})),document.addEventListener("click",Pc(this,Sc,"f").global.click,Ul),c&&c.addEventListener("change",Pc(this,Sc,"f").global.connection,Ul)}destroy(){const{detachMenus:e}=Pc(this,Ac,"f").getOptions(),t=(null==Pl?void 0:Pl.connection)||(null==Pl?void 0:Pl.mozConnection)||(null==Pl?void 0:Pl.webkitConnection);Object.keys(Pc(this,Sc,"f").media).forEach((e=>{Pc(this,Ac,"f").getElement().removeEventListener(e,Pc(this,Sc,"f").media[e])})),document.removeEventListener("click",Pc(this,Sc,"f").global.click),t&&t.removeEventListener("change",Pc(this,Sc,"f").global.connection),e&&(Pc(this,kc,"f").removeEventListener("click",Pc(this,Sc,"f").button.click),Pc(this,kc,"f").remove(),Pc(this,kc,"f").removeEventListener("mouseover",Pc(this,Sc,"f").button.mouseover),Pc(this,xc,"f").removeEventListener("mouseover",Pc(this,Sc,"f").button.mouseover),Pc(this,xc,"f").removeEventListener("mouseout",Pc(this,Sc,"f").button.mouseout),Pc(this,Ac,"f").getElement().removeEventListener("controlshidden",Pc(this,Sc,"f").button.mouseout),Pc(this,xc,"f").remove())}addSettings(){const{labels:e,detachMenus:t}=Pc(this,Ac,"f").getOptions();if(t)return{};const i=this._formatMenuItems();return i.length>2?{className:"op-levels__option",default:Pc(this,Cc,"f")||"-1",key:"levels",name:null==e?void 0:e.levels,subitems:i}:{}}_formatMenuItems(){const{labels:e}=Pc(this,Ac,"f").getOptions(),t=this._gatherLevels(),i=t.length;let n=i?[{key:"-1",label:null==e?void 0:e.auto}]:[];for(let e=0;e<i;e++){const i=t[e];n=n.filter((e=>e.key!==i.id)),n.push({key:i.id,label:i.label})}return n.reduce(((e,t)=>e.find((e=>e.label===t.label))?e:e.concat([t])),[]).sort(((e,t)=>parseInt((null==e?void 0:e.label)||"",10)>parseInt((null==t?void 0:t.label)||"",10)?1:-1))}_getResolutionsLabel(e){const{labels:t}=Pc(this,Ac,"f").getOptions();return e>=4320?"8K":e>=2160?"4K":e>=1440?"1440p":e>=1080?"1080p":e>=720?"720p":e>=480?"480p":e>=360?"360p":e>=240?"240p":e>=144?"144p":(null==t?void 0:t.auto)||""}_gatherLevels(){return Pc(this,Lc,"f").length||Pc(this,Ac,"f").getMedia().levels.forEach((e=>{Pc(this,Lc,"f").push(Object.assign(Object.assign({},e),{label:e.label||this._getResolutionsLabel(e.height)}))})),Pc(this,Lc,"f")}_buildMenu(){const{detachMenus:e}=Pc(this,Ac,"f").getOptions();if(e){Pc(this,kc,"f").classList.add("op-control--no-hover"),Ic(this,xc,document.createElement("div"),"f"),Pc(this,xc,"f").className="op-settings op-levels__menu",Pc(this,xc,"f").setAttribute("aria-hidden","true");const e="op-levels__option",t=`<div class="op-settings__menu" role="menu" id="menu-item-levels">\n                ${this._formatMenuItems().map((t=>`\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio"\n                    aria-checked="${Pc(this,Cc,"f")===t.key?"true":"false"}">\n                    <div class="op-settings__submenu-label ${e||""}" data-value="levels-${t.key}">${t.label}</div>\n                </div>`)).join("")}\n            </div>`;Pc(this,xc,"f").innerHTML=t;const i=document.createElement("div");i.className=`op-controls__container op-control__${Pc(this,Mc,"f")}`,i.appendChild(Pc(this,kc,"f")),i.appendChild(Pc(this,xc,"f")),Pc(this,Ac,"f").getControls().getLayer(Pc(this,Tc,"f")).appendChild(i)}}};var Oc,Nc,jc,Rc,Fc,zc=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Uc=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Oc=new WeakMap,Nc=new WeakMap,jc=new WeakMap,Rc=new WeakMap,Fc=new WeakMap;const Bc=class{constructor(e,t,i){Oc.set(this,void 0),Nc.set(this,void 0),jc.set(this,{controls:{},media:{}}),Rc.set(this,void 0),Fc.set(this,void 0),zc(this,Oc,e,"f"),zc(this,Rc,t,"f"),zc(this,Fc,i,"f"),this._enterSpaceKeyEvent=this._enterSpaceKeyEvent.bind(this)}create(){var e;const{labels:t}=Uc(this,Oc,"f").getOptions();zc(this,Nc,document.createElement("button"),"f"),Uc(this,Nc,"f").type="button",Uc(this,Nc,"f").className=`op-controls__playpause op-control__${Uc(this,Rc,"f")}`,Uc(this,Nc,"f").tabIndex=0,Uc(this,Nc,"f").title=(null==t?void 0:t.play)||"",Uc(this,Nc,"f").setAttribute("aria-controls",Uc(this,Oc,"f").id),Uc(this,Nc,"f").setAttribute("aria-pressed","false"),Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.play)||""),Uc(this,Oc,"f").getControls().getLayer(Uc(this,Fc,"f")).appendChild(Uc(this,Nc,"f")),Uc(this,jc,"f").button=e=>{Uc(this,Nc,"f").setAttribute("aria-pressed","true");const t=Uc(this,Oc,"f").activeElement();t.paused||t.ended?(Uc(this,Oc,"f").getAd()&&(Uc(this,Oc,"f").getAd().playRequested=!0),t.play(),Uc(this,jc,"f").media.play()):(t.pause(),Uc(this,jc,"f").media.pause()),e.preventDefault(),e.stopPropagation()};const i=Wl(Uc(this,Oc,"f").getElement());Uc(this,jc,"f").media.play=()=>{var e;Uc(this,Oc,"f").activeElement().ended?(Uc(this,Oc,"f").isMedia()?Uc(this,Nc,"f").classList.add("op-controls__playpause--replay"):Uc(this,Nc,"f").classList.add("op-controls__playpause--pause"),Uc(this,Nc,"f").title=(null==t?void 0:t.play)||"",Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.play)||"")):(Uc(this,Nc,"f").classList.remove("op-controls__playpause--replay"),Uc(this,Nc,"f").classList.add("op-controls__playpause--pause"),Uc(this,Nc,"f").title=(null==t?void 0:t.pause)||"",Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.pause)||""),(null===(e=Uc(this,Oc,"f").getOptions())||void 0===e?void 0:e.pauseOthers)&&Object.keys(Wp.instances).forEach((e=>{if(e!==Uc(this,Oc,"f").id){Wp.instances[e].activeElement().pause()}})))},Uc(this,jc,"f").media.loadedmetadata=()=>{Uc(this,Nc,"f").classList.contains("op-controls__playpause--pause")&&(Uc(this,Nc,"f").classList.remove("op-controls__playpause--replay"),Uc(this,Nc,"f").classList.remove("op-controls__playpause--pause"),Uc(this,Nc,"f").title=(null==t?void 0:t.play)||"",Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.play)||""))},Uc(this,jc,"f").media.playing=()=>{Uc(this,Nc,"f").classList.contains("op-controls__playpause--pause")||(Uc(this,Nc,"f").classList.remove("op-controls__playpause--replay"),Uc(this,Nc,"f").classList.add("op-controls__playpause--pause"),Uc(this,Nc,"f").title=(null==t?void 0:t.pause)||"",Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.pause)||""))},Uc(this,jc,"f").media.pause=()=>{Uc(this,Nc,"f").classList.remove("op-controls__playpause--pause"),Uc(this,Nc,"f").title=(null==t?void 0:t.play)||"",Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.play)||"")},Uc(this,jc,"f").media.ended=()=>{Uc(this,Oc,"f").activeElement().ended&&Uc(this,Oc,"f").isMedia()||Uc(this,Oc,"f").getElement().currentTime>=Uc(this,Oc,"f").getElement().duration||Uc(this,Oc,"f").getElement().currentTime<=0?(Uc(this,Nc,"f").classList.add("op-controls__playpause--replay"),Uc(this,Nc,"f").classList.remove("op-controls__playpause--pause")):(Uc(this,Nc,"f").classList.remove("op-controls__playpause--replay"),Uc(this,Nc,"f").classList.add("op-controls__playpause--pause")),Uc(this,Nc,"f").title=(null==t?void 0:t.play)||"",Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.play)||"")},Uc(this,jc,"f").media.adsmediaended=()=>{Uc(this,Nc,"f").classList.remove("op-controls__playpause--replay"),Uc(this,Nc,"f").classList.add("op-controls__playpause--pause"),Uc(this,Nc,"f").title=(null==t?void 0:t.pause)||"",Uc(this,Nc,"f").setAttribute("aria-label",(null==t?void 0:t.pause)||"")},Uc(this,jc,"f").media.playererror=()=>{if(i){Uc(this,Oc,"f").activeElement().pause()}};const n=Uc(this,Oc,"f").getElement();Uc(this,jc,"f").controls.controlschanged=()=>{if(!Uc(this,Oc,"f").activeElement().paused){const e=ql("playing");n.dispatchEvent(e)}},Object.keys(Uc(this,jc,"f").media).forEach((e=>{n.addEventListener(e,Uc(this,jc,"f").media[e],Ul)})),(null===(e=Uc(this,Oc,"f").getOptions().media)||void 0===e?void 0:e.pauseOnClick)&&n.addEventListener("click",Uc(this,jc,"f").button,Ul),Uc(this,Oc,"f").getControls().getContainer().addEventListener("controlschanged",Uc(this,jc,"f").controls.controlschanged,Ul),Uc(this,Oc,"f").getContainer().addEventListener("keydown",this._enterSpaceKeyEvent,Ul),Uc(this,Nc,"f").addEventListener("click",Uc(this,jc,"f").button,Ul)}destroy(){var e;Object.keys(Uc(this,jc,"f").media).forEach((e=>{Uc(this,Oc,"f").getElement().removeEventListener(e,Uc(this,jc,"f").media[e])})),(null===(e=Uc(this,Oc,"f").getOptions().media)||void 0===e?void 0:e.pauseOnClick)&&Uc(this,Oc,"f").getElement().removeEventListener("click",Uc(this,jc,"f").button),Uc(this,Oc,"f").getControls().getContainer().removeEventListener("controlschanged",Uc(this,jc,"f").controls.controlschanged),Uc(this,Oc,"f").getContainer().removeEventListener("keydown",this._enterSpaceKeyEvent),Uc(this,Nc,"f").removeEventListener("click",Uc(this,jc,"f").button),Uc(this,Nc,"f").remove()}_enterSpaceKeyEvent(e){var t;const i=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__playpause"))||13!==i&&32!==i||Uc(this,jc,"f").button(e)}};function Wc(e,t){const i=Math.floor(e%1*(t||0));let n=Math.floor(e),r=Math.floor(n/60);const s=Math.floor(r/60),o=e=>{const t=e.toString();return e<10?e<=0?"00":`0${t}`:t};return r%=60,n%=60,`${s>0?`${o(s)}:`:""}${o(r)}:${o(n)}${i?`:${o(i)}`:""}`}var Vc,$c,Hc,qc,Kc,Gc,Zc,Yc,Qc,Jc,Xc=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},ed=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Vc=new WeakMap,$c=new WeakMap,Hc=new WeakMap,qc=new WeakMap,Kc=new WeakMap,Gc=new WeakMap,Zc=new WeakMap,Yc=new WeakMap,Qc=new WeakMap,Jc=new WeakMap;const td=class{constructor(e,t,i){Vc.set(this,void 0),$c.set(this,void 0),Hc.set(this,void 0),qc.set(this,void 0),Kc.set(this,void 0),Gc.set(this,void 0),Zc.set(this,{container:{},controls:{},global:{},media:{},slider:{}}),Yc.set(this,!1),Qc.set(this,void 0),Jc.set(this,void 0),Xc(this,Vc,e,"f"),Xc(this,Qc,t,"f"),Xc(this,Jc,i,"f"),this._enterSpaceKeyEvent=this._enterSpaceKeyEvent.bind(this)}create(){var e;const{labels:t,progress:i}=ed(this,Vc,"f").getOptions();Xc(this,$c,document.createElement("div"),"f"),ed(this,$c,"f").className=`op-controls__progress op-control__${ed(this,Qc,"f")}`,ed(this,$c,"f").tabIndex=0,ed(this,$c,"f").setAttribute("aria-label",(null==t?void 0:t.progressSlider)||""),ed(this,$c,"f").setAttribute("aria-valuemin","0"),ed(this,$c,"f").setAttribute("aria-valuenow","0"),ed(this,$c,"f").setAttribute("role","slider"),Xc(this,Hc,document.createElement("input"),"f"),ed(this,Hc,"f").type="range",ed(this,Hc,"f").className="op-controls__progress--seek",ed(this,Hc,"f").tabIndex=-1,ed(this,Hc,"f").setAttribute("min","0"),ed(this,Hc,"f").setAttribute("step","0.1"),ed(this,Hc,"f").value="0",ed(this,Hc,"f").setAttribute("aria-label",(null==t?void 0:t.progressRail)||""),ed(this,Hc,"f").setAttribute("role","slider"),Xc(this,qc,document.createElement("progress"),"f"),ed(this,qc,"f").className="op-controls__progress--buffer",ed(this,qc,"f").setAttribute("max","100"),ed(this,qc,"f").value=0,Xc(this,Kc,document.createElement("progress"),"f"),ed(this,Kc,"f").className="op-controls__progress--played",ed(this,Kc,"f").setAttribute("max","100"),ed(this,Kc,"f").value=0,ed(this,$c,"f").appendChild(ed(this,Hc,"f")),ed(this,$c,"f").appendChild(ed(this,Kc,"f")),ed(this,$c,"f").appendChild(ed(this,qc,"f")),Nl||jl||(Xc(this,Gc,document.createElement("span"),"f"),ed(this,Gc,"f").className="op-controls__tooltip",ed(this,Gc,"f").tabIndex=-1,ed(this,Gc,"f").innerHTML="00:00",ed(this,$c,"f").appendChild(ed(this,Gc,"f")));const n=()=>{var e;ed(this,Hc,"f").classList.contains("error")&&ed(this,Hc,"f").classList.remove("error");const t=ed(this,Vc,"f").activeElement();if(t.duration===1/0||ed(this,Vc,"f").getElement().getAttribute("op-live__enabled")||ed(this,Vc,"f").getElement().getAttribute("op-dvr__enabled"))ed(this,Vc,"f").getElement().getAttribute("op-dvr__enabled")?(ed(this,Hc,"f").setAttribute("max","1"),ed(this,Hc,"f").value="1",ed(this,Hc,"f").style.backgroundSize="100% 100%",ed(this,Kc,"f").value=1,ed(this,$c,"f").setAttribute("aria-valuemax","1"),ed(this,$c,"f").setAttribute("aria-hidden","false")):(null===(e=ed(this,Vc,"f").getOptions().live)||void 0===e?void 0:e.showProgress)||ed(this,$c,"f").setAttribute("aria-hidden","true");else{const e=ed(this,Vc,"f").isMedia()?t.currentTime:t.duration-t.currentTime;ed(this,Hc,"f").value=e.toString(),Number.isNaN(t.duration)||(ed(this,Hc,"f").setAttribute("max",`${t.duration}`),ed(this,$c,"f").setAttribute("aria-valuemax",t.duration.toString()))}};let r=0;const s=(null===(e=ed(this,Vc,"f").getOptions().progress)||void 0===e?void 0:e.duration)||0,o=Wl(ed(this,Vc,"f").getElement());ed(this,Zc,"f").media.loadedmetadata=n.bind(this),ed(this,Zc,"f").controls.controlschanged=n.bind(this),ed(this,Zc,"f").media.progress=e=>{var t;const i=e.target;if(i.duration===1/0||ed(this,Vc,"f").getElement().getAttribute("op-live__enabled"))ed(this,Vc,"f").getElement().getAttribute("op-dvr__enabled")||"false"!==ed(this,$c,"f").getAttribute("aria-hidden")||(null===(t=ed(this,Vc,"f").getOptions().live)||void 0===t?void 0:t.showProgress)||ed(this,$c,"f").setAttribute("aria-hidden","true");else if(i.duration>0)for(let e=0,t=i.buffered.length;e<t;e++)if(i.buffered.start(i.buffered.length-1-e)<i.currentTime){ed(this,qc,"f").value=i.buffered.end(i.buffered.length-1-e)/i.duration*100;break}},ed(this,Zc,"f").media.waiting=()=>{o&&!ed(this,Hc,"f").classList.contains("loading")&&ed(this,Hc,"f").classList.add("loading"),o&&ed(this,Hc,"f").classList.contains("error")&&ed(this,Hc,"f").classList.remove("error")},ed(this,Zc,"f").media.playererror=()=>{o&&!ed(this,Hc,"f").classList.contains("error")&&ed(this,Hc,"f").classList.add("error"),o&&ed(this,Hc,"f").classList.contains("loading")&&ed(this,Hc,"f").classList.remove("loading")},ed(this,Zc,"f").media.pause=()=>{const e=ed(this,Vc,"f").activeElement();if(e.duration!==1/0&&!ed(this,Vc,"f").getElement().getAttribute("op-live__enabled")){const t=e.currentTime;ed(this,$c,"f").setAttribute("aria-valuenow",t.toString()),ed(this,$c,"f").setAttribute("aria-valuetext",Wc(t))}},ed(this,Zc,"f").media.play=()=>{o&&ed(this,Hc,"f").classList.contains("loading")&&ed(this,Hc,"f").classList.remove("loading"),o&&ed(this,Hc,"f").classList.contains("error")&&ed(this,Hc,"f").classList.remove("error"),ed(this,Vc,"f").activeElement().duration===1/0||ed(this,Vc,"f").getElement().getAttribute("op-live__enabled")||(ed(this,$c,"f").removeAttribute("aria-valuenow"),ed(this,$c,"f").removeAttribute("aria-valuetext"))},ed(this,Zc,"f").media.playing=()=>{o&&ed(this,Hc,"f").classList.contains("loading")&&ed(this,Hc,"f").classList.remove("loading"),o&&ed(this,Hc,"f").classList.contains("error")&&ed(this,Hc,"f").classList.remove("error")},ed(this,Zc,"f").media.timeupdate=()=>{var e;const t=ed(this,Vc,"f").activeElement();if(t.duration===1/0||ed(this,Vc,"f").getElement().getAttribute("op-live__enabled")&&!ed(this,Vc,"f").getElement().getAttribute("op-dvr__enabled"))ed(this,Vc,"f").getElement().getAttribute("op-dvr__enabled")||"false"!==ed(this,$c,"f").getAttribute("aria-hidden")||(null===(e=ed(this,Vc,"f").getOptions().live)||void 0===e?void 0:e.showProgress)||ed(this,$c,"f").setAttribute("aria-hidden","true");else{ed(this,Hc,"f").getAttribute("max")&&"0"!==ed(this,Hc,"f").getAttribute("max")&&parseFloat(ed(this,Hc,"f").getAttribute("max")||"-1")===t.duration||(Number.isNaN(t.duration)||ed(this,Hc,"f").setAttribute("max",`${t.duration}`),ed(this,$c,"f").setAttribute("aria-hidden","false"));const e=t.duration-t.currentTime+1>=100?100:t.duration-t.currentTime+1,i=ed(this,Vc,"f").isMedia()?t.currentTime:e,n=parseFloat(ed(this,Hc,"f").min),o=parseFloat(ed(this,Hc,"f").max);ed(this,Hc,"f").value=i.toString(),ed(this,Hc,"f").style.backgroundSize=100*(i-n)/(o-n)+"% 100%",ed(this,Kc,"f").value=t.duration<=0||Number.isNaN(t.duration)||!Number.isFinite(t.duration)?s:i/t.duration*100,ed(this,Vc,"f").getElement().getAttribute("op-dvr__enabled")&&Math.floor(ed(this,Kc,"f").value)>=99&&(r=t.currentTime,ed(this,$c,"f").setAttribute("aria-hidden","false"))}},ed(this,Zc,"f").media.durationchange=()=>{const e=ed(this,Vc,"f").activeElement(),t=ed(this,Vc,"f").isMedia()?e.currentTime:e.duration-e.currentTime;Number.isNaN(e.duration)||(ed(this,Hc,"f").setAttribute("max",`${e.duration}`),ed(this,$c,"f").setAttribute("aria-valuemax",e.duration.toString())),ed(this,Kc,"f").value=e.duration<=0||Number.isNaN(e.duration)||!Number.isFinite(e.duration)?s:t/e.duration*100},ed(this,Zc,"f").media.ended=()=>{ed(this,Hc,"f").style.backgroundSize="0% 100%",ed(this,Hc,"f").getAttribute("max")&&ed(this,Hc,"f").setAttribute("max","0"),ed(this,qc,"f").value=0,ed(this,Kc,"f").value=0};const a=e=>{const t=ed(this,Vc,"f").activeElement(),n=e.target,o=parseFloat(n.value);if(ed(this,Hc,"f").classList.contains("op-progress--pressed")||o<t.currentTime&&!(null==i?void 0:i.allowRewind)||o>t.currentTime&&!(null==i?void 0:i.allowSkip))return void(ed(this,Hc,"f").value=t.currentTime.toString());ed(this,Hc,"f").classList.add(".op-progress--pressed");const a=parseFloat(n.min),l=parseFloat(n.max),c=parseFloat(n.value);ed(this,Hc,"f").style.backgroundSize=100*(c-a)/(l-a)+"% 100%",ed(this,Kc,"f").value=t.duration<=0||Number.isNaN(t.duration)||!Number.isFinite(t.duration)?s:c/t.duration*100,ed(this,Vc,"f").getElement().getAttribute("op-dvr__enabled")?t.currentTime=Math.round(ed(this,Kc,"f").value)>=99?r:c:t.currentTime=c,ed(this,Hc,"f").classList.remove(".op-progress--pressed")},l=()=>{const e=ed(this,Vc,"f").activeElement();!0===ed(this,Yc,"f")&&ed(this,Vc,"f").isMedia()&&e.paused&&(e.play(),Xc(this,Yc,!1,"f"))};ed(this,Zc,"f").slider.input=a.bind(this),ed(this,Zc,"f").slider.change=a.bind(this),ed(this,Zc,"f").slider.mousedown=(e=>{const t=ed(this,Vc,"f").activeElement(),n=e.which||e.keyCode||0,r=ed(this,Hc,"f"),s=Math.round(Number(r.value)),o=Math.round(t.currentTime);!(s<o&&(null==i?void 0:i.allowRewind)||s>=o&&(null==i?void 0:i.allowSkip))||1!==n&&0!==n||!ed(this,Vc,"f").isMedia()||t.paused||(t.pause(),Xc(this,Yc,!0,"f"))}).bind(this),ed(this,Zc,"f").slider.mouseup=l.bind(this),ed(this,Zc,"f").slider.touchstart=(e=>{var t;const n=ed(this,Vc,"f").activeElement();if(n.duration!==1/0){const{changedTouches:r}=e,s=(((null===(t=r[0])||void 0===t?void 0:t.pageX)||0)-$l(ed(this,$c,"f")).left)/ed(this,$c,"f").offsetWidth*n.duration;(s<n.currentTime&&(null==i?void 0:i.allowRewind)||s>n.currentTime&&(null==i?void 0:i.allowSkip))&&(ed(this,Hc,"f").value=s.toString(),a(e),n.paused||(n.pause(),Xc(this,Yc,!0,"f")))}}).bind(this),ed(this,Zc,"f").slider.touchend=l.bind(this),Nl||jl||(ed(this,Zc,"f").container.mousemove=e=>{const t=ed(this,Vc,"f").activeElement();if(t.duration!==1/0&&!ed(this,Vc,"f").isAd()){const i=e.pageX;let n=i-$l(ed(this,$c,"f")).left;const r=ed(this,Gc,"f").offsetWidth/2,s=n/ed(this,$c,"f").offsetWidth,o=s*t.duration,a=ed(this,Vc,"f").getContainer(),l=a.offsetWidth-ed(this,Gc,"f").offsetWidth;n<=0||i-$l(a).left<=r?n=0:i-$l(a).left>=l?n=l-$l(ed(this,Hc,"f")).left-10:n-=r,s>=0&&s<=1?ed(this,Gc,"f").classList.add("op-controls__tooltip--visible"):ed(this,Gc,"f").classList.remove("op-controls__tooltip--visible"),ed(this,Gc,"f").style.left=`${n}px`,ed(this,Gc,"f").innerHTML=Number.isNaN(o)?"00:00":Wc(o)}},ed(this,Zc,"f").global.mousemove=e=>{e.target.closest(".op-controls__progress")&&!ed(this,Vc,"f").isAd()||ed(this,Gc,"f").classList.remove("op-controls__tooltip--visible")}),Object.keys(ed(this,Zc,"f").media).forEach((e=>{ed(this,Vc,"f").getElement().addEventListener(e,ed(this,Zc,"f").media[e],Ul)})),Object.keys(ed(this,Zc,"f").slider).forEach((e=>{ed(this,Hc,"f").addEventListener(e,ed(this,Zc,"f").slider[e],Ul)})),ed(this,$c,"f").addEventListener("keydown",ed(this,Vc,"f").getEvents().keydown,Ul),ed(this,$c,"f").addEventListener("mousemove",ed(this,Zc,"f").container.mousemove,Ul),document.addEventListener("mousemove",ed(this,Zc,"f").global.mousemove,Ul),ed(this,Vc,"f").getContainer().addEventListener("keydown",this._enterSpaceKeyEvent,Ul),ed(this,Vc,"f").getControls().getContainer().addEventListener("controlschanged",ed(this,Zc,"f").controls.controlschanged,Ul),ed(this,Vc,"f").getControls().getLayer(ed(this,Jc,"f")).appendChild(ed(this,$c,"f"))}destroy(){Object.keys(ed(this,Zc,"f")).forEach((e=>{ed(this,Vc,"f").getElement().removeEventListener(e,ed(this,Zc,"f")[e])})),Object.keys(ed(this,Zc,"f").slider).forEach((e=>{ed(this,Hc,"f").removeEventListener(e,ed(this,Zc,"f").slider[e])})),ed(this,$c,"f").removeEventListener("keydown",ed(this,Vc,"f").getEvents().keydown),ed(this,$c,"f").removeEventListener("mousemove",ed(this,Zc,"f").container.mousemove),document.removeEventListener("mousemove",ed(this,Zc,"f").global.mousemove),ed(this,Vc,"f").getContainer().removeEventListener("keydown",this._enterSpaceKeyEvent),ed(this,Vc,"f").getControls().getContainer().removeEventListener("controlschanged",ed(this,Zc,"f").controls.controlschanged),ed(this,qc,"f").remove(),ed(this,Kc,"f").remove(),ed(this,Hc,"f").remove(),Nl||jl||ed(this,Gc,"f").remove(),ed(this,$c,"f").remove()}_enterSpaceKeyEvent(e){const t=ed(this,Vc,"f").activeElement(),i=ed(this,Vc,"f").isAd(),n=e.which||e.keyCode||0;if(!i&&n>=48&&n<=57&&t.duration!==1/0){let i=0;for(let e=48,t=57;e<=t;e++)e<n&&i++;t.currentTime=t.duration*(.1*i),e.preventDefault(),e.stopPropagation()}}};var id,nd,rd,sd,od,ad,ld,cd,dd=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},ud=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};id=new WeakMap,nd=new WeakMap,rd=new WeakMap,sd=new WeakMap,od=new WeakMap,ad=new WeakMap,ld=new WeakMap,cd=new WeakMap;const pd=class{constructor(e,t,i){id.set(this,void 0),nd.set(this,{}),rd.set(this,void 0),sd.set(this,void 0),od.set(this,{global:{},media:{}}),ad.set(this,""),ld.set(this,void 0),cd.set(this,void 0),dd(this,id,e,"f"),dd(this,ld,t,"f"),dd(this,cd,i,"f"),this._enterSpaceKeyEvent=this._enterSpaceKeyEvent.bind(this)}create(){const{labels:e}=ud(this,id,"f").getOptions();dd(this,rd,document.createElement("button"),"f"),ud(this,rd,"f").className=`op-controls__settings op-control__${ud(this,ld,"f")}`,ud(this,rd,"f").tabIndex=0,ud(this,rd,"f").title=(null==e?void 0:e.settings)||"",ud(this,rd,"f").setAttribute("aria-controls",ud(this,id,"f").id),ud(this,rd,"f").setAttribute("aria-pressed","false"),ud(this,rd,"f").setAttribute("aria-label",(null==e?void 0:e.settings)||""),dd(this,sd,document.createElement("div"),"f"),ud(this,sd,"f").className="op-settings",ud(this,sd,"f").setAttribute("aria-hidden","true"),ud(this,sd,"f").innerHTML='<div class="op-settings__menu" role="menu"></div>',this.clickEvent=()=>{ud(this,rd,"f").setAttribute("aria-pressed","true");const e=ud(this,id,"f").getContainer().querySelectorAll(".op-settings");for(let t=0,i=e.length;t<i;++t)e[t]!==ud(this,sd,"f")&&e[t].setAttribute("aria-hidden","true");ud(this,sd,"f").setAttribute("aria-hidden","false"===ud(this,sd,"f").getAttribute("aria-hidden")?"true":"false")},this.hideEvent=()=>{let e;e&&"undefined"!=typeof window&&window.cancelAnimationFrame(e),"undefined"!=typeof window&&(e=window.requestAnimationFrame((()=>{ud(this,sd,"f").innerHTML=ud(this,ad,"f"),ud(this,sd,"f").setAttribute("aria-hidden","true")})))},this.removeEvent=e=>{const{id:t,type:i}=e.detail;this.removeItem(t,i)},this.clickEvent=this.clickEvent.bind(this),this.hideEvent=this.hideEvent.bind(this),this.removeEvent=this.removeEvent.bind(this),ud(this,od,"f").media.controlshidden=this.hideEvent.bind(this),ud(this,od,"f").media.settingremoved=this.removeEvent.bind(this),ud(this,od,"f").media.play=this.hideEvent.bind(this),ud(this,od,"f").media.pause=this.hideEvent.bind(this),ud(this,id,"f").getContainer().addEventListener("keydown",this._enterSpaceKeyEvent,Ul),ud(this,od,"f").global.click=e=>{const{target:t}=e,i=t;if((null==i?void 0:i.closest(`#${ud(this,id,"f").id}`))&&(null==i?void 0:i.classList.contains("op-speed__option"))){const e=(null==i?void 0:i.getAttribute("data-value"))||"";ud(this,id,"f").getMedia().playbackRate=parseFloat(e.replace("speed-",""))}},ud(this,od,"f").global.resize=this.hideEvent.bind(this),ud(this,rd,"f").addEventListener("click",this.clickEvent,Ul),Object.keys(ud(this,od,"f")).forEach((e=>{ud(this,id,"f").getElement().addEventListener(e,ud(this,od,"f").media[e],Ul)})),document.addEventListener("click",ud(this,od,"f").global.click,Ul),document.addEventListener("keydown",ud(this,od,"f").global.click,Ul),"undefined"!=typeof window&&window.addEventListener("resize",ud(this,od,"f").global.resize,Ul),ud(this,id,"f").getControls().getLayer(ud(this,cd,"f")).appendChild(ud(this,rd,"f")),ud(this,id,"f").getContainer().appendChild(ud(this,sd,"f"))}destroy(){ud(this,rd,"f").removeEventListener("click",this.clickEvent),Object.keys(ud(this,od,"f")).forEach((e=>{ud(this,id,"f").getElement().removeEventListener(e,ud(this,od,"f").media[e])})),document.removeEventListener("click",ud(this,od,"f").global.click),document.removeEventListener("keydown",ud(this,od,"f").global.click),"undefined"!=typeof window&&window.removeEventListener("resize",ud(this,od,"f").global.resize),void 0!==ud(this,od,"f").global["settings.submenu"]&&(document.removeEventListener("click",ud(this,od,"f").global["settings.submenu"]),ud(this,id,"f").getElement().removeEventListener("controlshidden",this.hideEvent)),ud(this,id,"f").getContainer().removeEventListener("keydown",this._enterSpaceKeyEvent),ud(this,sd,"f").remove(),ud(this,rd,"f").remove()}addSettings(){const e=ud(this,id,"f").getMedia(),{labels:t}=ud(this,id,"f").getOptions();let i=1;return ud(this,id,"f")&&e&&(i=e.defaultPlaybackRate!==e.playbackRate?e.playbackRate:e.defaultPlaybackRate),{className:"op-speed__option",default:i.toString(),key:"speed",name:(null==t?void 0:t.speed)||"",subitems:[{key:"0.25",label:"0.25"},{key:"0.5",label:"0.5"},{key:"0.75",label:"0.75"},{key:"1",label:(null==t?void 0:t.speedNormal)||""},{key:"1.25",label:"1.25"},{key:"1.5",label:"1.5"},{key:"2",label:"2"}]}}addItem(e,t,i,n,r){const s=`${t}-${Hl(i,!0)}`,o=document.createElement("div");o.className="op-settings__menu-item",o.tabIndex=0,o.setAttribute("role","menuitemradio"),o.innerHTML=`<div class="op-settings__menu-label" data-value="${s}">${e}</div>`;const a=n?n.find((e=>e.key===i)):null;a&&(o.innerHTML+=`<div class="op-settings__menu-content" tabindex="0">${a.label}</div>`);const l=ud(this,sd,"f").querySelector(".op-settings__menu");if(l&&l.appendChild(o),dd(this,ad,ud(this,sd,"f").innerHTML,"f"),n){const s=`\n                <div class="op-settings__header">\n                    <button type="button" class="op-settings__back" tabindex="0">${e}</button>\n                </div>\n                <div class="op-settings__menu" role="menu" id="menu-item-${t}">\n                    ${n.map((e=>`\n                    <div class="op-settings__submenu-item" role="menuitemradio" aria-checked="${i===e.key?"true":"false"}">\n                        <div class="op-settings__submenu-label ${r||""}" tabindex="0" data-value="${t}-${e.key}">\n                            ${e.label}\n                        </div>\n                    </div>`)).join("")}\n                </div>`;ud(this,nd,"f")[t]=s}ud(this,od,"f").global["settings.submenu"]=e=>{const n=e.target;if(n.closest(`#${ud(this,id,"f").id}`)){if(n.classList.contains("op-settings__back"))ud(this,sd,"f").classList.add("op-settings--sliding"),setTimeout((()=>{ud(this,sd,"f").innerHTML=ud(this,ad,"f"),ud(this,sd,"f").classList.remove("op-settings--sliding")}),100);else if(n.classList.contains("op-settings__menu-content")){const e=n.parentElement?n.parentElement.querySelector(".op-settings__menu-label"):null,t=e?e.getAttribute("data-value"):null,i=t?t.split("-"):[];if(i.length>0){i.pop();const e=i.join("-").replace(/^\-|\-$/,"");void 0!==ud(this,nd,"f")[e]&&(ud(this,sd,"f").classList.add("op-settings--sliding"),setTimeout((()=>{ud(this,sd,"f").innerHTML=ud(this,nd,"f")[e],ud(this,sd,"f").classList.remove("op-settings--sliding")}),100))}}else if(n.classList.contains("op-settings__submenu-label")){const e=n.getAttribute("data-value"),r=e?e.replace(`${t}-`,""):"",s=n.innerText,o=ud(this,sd,"f").querySelector(`#menu-item-${t} .op-settings__submenu-item[aria-checked=true]`);o&&(o.setAttribute("aria-checked","false"),n.parentElement&&n.parentElement.setAttribute("aria-checked","true"),ud(this,nd,"f")[t]=ud(this,sd,"f").innerHTML,ud(this,sd,"f").classList.add("op-settings--sliding"),setTimeout((()=>{ud(this,sd,"f").innerHTML=ud(this,ad,"f");const n=ud(this,sd,"f").querySelector(`.op-settings__menu-label[data-value="${t}-${i}"]`);n&&(n.setAttribute("data-value",`${e}`),n.nextElementSibling&&(n.nextElementSibling.textContent=s)),i=r,dd(this,ad,ud(this,sd,"f").innerHTML,"f"),ud(this,sd,"f").classList.remove("op-settings--sliding")}),100))}}else this.hideEvent()},document.addEventListener("click",ud(this,od,"f").global["settings.submenu"],Ul),ud(this,id,"f").getElement().addEventListener("controlshidden",this.hideEvent,Ul)}removeItem(e,t,i=2){const n=ud(this,id,"f").getElement().querySelector(`.op-settings__submenu-label[data-value=${t}-${e}]`);if(n&&n.remove(),ud(this,id,"f").getElement().querySelectorAll(`.op-settings__submenu-label[data-value^=${t}]`).length<i){delete ud(this,nd,"f")[t];const e=ud(this,id,"f").getElement().querySelector(`.op-settings__menu-label[data-value^=${t}]`),i=e?e.closest(".op-settings__menu-item"):null;i&&i.remove()}}_enterSpaceKeyEvent(e){var t,i,n,r;const s=e.which||e.keyCode||0,o=ud(this,id,"f").isAd(),a=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__settings"),l=(null===(i=null===document||void 0===document?void 0:document.activeElement)||void 0===i?void 0:i.classList.contains("op-settings__menu-content"))||(null===(n=null===document||void 0===document?void 0:document.activeElement)||void 0===n?void 0:n.classList.contains("op-settings__back"))||(null===(r=null===document||void 0===document?void 0:document.activeElement)||void 0===r?void 0:r.classList.contains("op-settings__submenu-label"));o||(!a||13!==s&&32!==s?!l||13!==s&&32!==s||(ud(this,od,"f").global["settings.submenu"](e),e.preventDefault(),e.stopPropagation()):(this.clickEvent(),e.preventDefault(),e.stopPropagation()))}};var hd,fd,vd,md,gd,yd,_d,bd,wd=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Ed=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};hd=new WeakMap,fd=new WeakMap,vd=new WeakMap,md=new WeakMap,gd=new WeakMap,yd=new WeakMap,_d=new WeakMap,bd=new WeakMap;const Ad=class{constructor(e,t,i){hd.set(this,void 0),fd.set(this,void 0),vd.set(this,void 0),md.set(this,void 0),gd.set(this,void 0),yd.set(this,{controls:{},media:{}}),_d.set(this,void 0),bd.set(this,void 0),wd(this,hd,e,"f"),wd(this,_d,t,"f"),wd(this,bd,i,"f")}create(){const{labels:e,progress:t}=Ed(this,hd,"f").getOptions();wd(this,fd,document.createElement("time"),"f"),Ed(this,fd,"f").className="op-controls__current",Ed(this,fd,"f").setAttribute("role","timer"),Ed(this,fd,"f").setAttribute("aria-live","off"),Ed(this,fd,"f").setAttribute("aria-hidden","false"),Ed(this,fd,"f").innerText="0:00";const i=(null==t?void 0:t.showCurrentTimeOnly)||!1;i||(wd(this,vd,document.createElement("span"),"f"),Ed(this,vd,"f").className="op-controls__time-delimiter",Ed(this,vd,"f").setAttribute("aria-hidden","false"),Ed(this,vd,"f").innerText="/",wd(this,md,document.createElement("time"),"f"),Ed(this,md,"f").className="op-controls__duration",Ed(this,md,"f").setAttribute("aria-hidden","false"),Ed(this,md,"f").innerText=Wc((null==t?void 0:t.duration)||0));const n=Ed(this,hd,"f").getControls().getLayer(Ed(this,bd,"f"));wd(this,gd,document.createElement("span"),"f"),Ed(this,gd,"f").className=`op-controls-time op-control__${Ed(this,_d,"f")}`,Ed(this,gd,"f").appendChild(Ed(this,fd,"f")),i||(Ed(this,gd,"f").appendChild(Ed(this,vd,"f")),Ed(this,gd,"f").appendChild(Ed(this,md,"f"))),n.appendChild(Ed(this,gd,"f"));const r=()=>{var e;const t=Ed(this,hd,"f").activeElement();if(t.duration===1/0||Ed(this,hd,"f").getElement().getAttribute("op-live__enabled"))i||(Ed(this,md,"f").setAttribute("aria-hidden","true"),Ed(this,vd,"f").setAttribute("aria-hidden","true"));else{if(!i){const i=Number.isNaN(t.duration)?(null===(e=Ed(this,hd,"f").getOptions().progress)||void 0===e?void 0:e.duration)||0:t.duration;Ed(this,md,"f").innerText=Wc(i)}Ed(this,fd,"f").innerText=Wc(t.currentTime)}};Ed(this,yd,"f").media.loadedmetadata=r.bind(this),Ed(this,yd,"f").controls.controlschanged=r.bind(this);const{showLabel:s}=Ed(this,hd,"f").getOptions().live||{};Ed(this,yd,"f").media.timeupdate=()=>{const t=Ed(this,hd,"f").activeElement();if(t.duration===1/0||Ed(this,hd,"f").getElement().getAttribute("op-live__enabled")||Ed(this,hd,"f").getElement().getAttribute("op-dvr__enabled"))Ed(this,hd,"f").getElement().getAttribute("op-dvr__enabled")?(i||(Ed(this,md,"f").setAttribute("aria-hidden","true"),Ed(this,vd,"f").setAttribute("aria-hidden","true")),Ed(this,fd,"f").innerText=Wc(t.currentTime)):i||!Ed(this,hd,"f").getElement().getAttribute("op-dvr__enabled")&&"false"===Ed(this,md,"f").getAttribute("aria-hidden")?(i||(Ed(this,md,"f").setAttribute("aria-hidden","true"),Ed(this,vd,"f").setAttribute("aria-hidden","true")),Ed(this,fd,"f").innerText=s?(null==e?void 0:e.live)||"":Wc(t.currentTime)):Ed(this,fd,"f").innerText=s?(null==e?void 0:e.live)||"":Wc(t.currentTime);else{const n=Wc(t.duration);i||Number.isNaN(t.duration)||n===Ed(this,md,"f").innerText?(i||n!==Ed(this,md,"f").innerText)&&(Ed(this,fd,"f").innerText=s?(null==e?void 0:e.live)||"":Wc(t.currentTime)):(Ed(this,md,"f").innerText=n,Ed(this,md,"f").setAttribute("aria-hidden","false"),Ed(this,vd,"f").setAttribute("aria-hidden","false")),Ed(this,fd,"f").innerText=Wc(t.currentTime)}},Ed(this,yd,"f").media.ended=()=>{var e;const t=Ed(this,hd,"f").activeElement(),n=Number.isNaN(t.duration)?(null===(e=Ed(this,hd,"f").getOptions().progress)||void 0===e?void 0:e.duration)||0:t.duration;!i&&Ed(this,hd,"f").isMedia()&&(Ed(this,md,"f").innerText=Wc(n))},Object.keys(Ed(this,yd,"f").media).forEach((e=>{Ed(this,hd,"f").getElement().addEventListener(e,Ed(this,yd,"f").media[e],Ul)})),Ed(this,hd,"f").getControls().getContainer().addEventListener("controlschanged",Ed(this,yd,"f").controls.controlschanged,Ul)}destroy(){Object.keys(Ed(this,yd,"f").media).forEach((e=>{Ed(this,hd,"f").getElement().removeEventListener(e,Ed(this,yd,"f").media[e])})),Ed(this,hd,"f").getControls().getContainer().removeEventListener("controlschanged",Ed(this,yd,"f").controls.controlschanged),Ed(this,fd,"f").remove();const{showCurrentTimeOnly:e}=Ed(this,hd,"f").getOptions().progress||{};e||(Ed(this,vd,"f").remove(),Ed(this,md,"f").remove()),Ed(this,gd,"f").remove()}};var kd,xd,Sd,Ld,Cd,Md,Td,Id,Pd,Dd=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Od=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};kd=new WeakMap,xd=new WeakMap,Sd=new WeakMap,Ld=new WeakMap,Cd=new WeakMap,Md=new WeakMap,Td=new WeakMap,Id=new WeakMap,Pd=new WeakMap;const Nd=class{constructor(e,t,i){kd.set(this,void 0),xd.set(this,void 0),Sd.set(this,void 0),Ld.set(this,void 0),Cd.set(this,void 0),Md.set(this,{button:{},media:{},slider:{}}),Td.set(this,void 0),Id.set(this,void 0),Pd.set(this,void 0),Dd(this,kd,e,"f"),Dd(this,Td,Od(this,kd,"f").getMedia().volume,"f"),Dd(this,Id,t,"f"),Dd(this,Pd,i,"f"),this._enterSpaceKeyEvent=this._enterSpaceKeyEvent.bind(this)}create(){const{labels:e}=Od(this,kd,"f").getOptions();Dd(this,Sd,document.createElement("div"),"f"),Od(this,Sd,"f").className=`op-controls__volume op-control__${Od(this,Id,"f")}`,Od(this,Sd,"f").tabIndex=0,Od(this,Sd,"f").setAttribute("aria-valuemin","0"),Od(this,Sd,"f").setAttribute("aria-valuemax","100"),Od(this,Sd,"f").setAttribute("aria-valuenow",`${Od(this,Td,"f")}`),Od(this,Sd,"f").setAttribute("aria-valuetext",`${(null==e?void 0:e.volume)||""}: ${Od(this,Td,"f")}`),Od(this,Sd,"f").setAttribute("aria-orientation","vertical"),Od(this,Sd,"f").setAttribute("aria-label",(null==e?void 0:e.volumeSlider)||""),Od(this,Sd,"f").setAttribute("role","slider"),Dd(this,Cd,document.createElement("input"),"f"),Od(this,Cd,"f").type="range",Od(this,Cd,"f").className="op-controls__volume--input",Od(this,Cd,"f").tabIndex=-1,Od(this,Cd,"f").value=Od(this,kd,"f").getMedia().volume.toString(),Od(this,Cd,"f").setAttribute("min","0"),Od(this,Cd,"f").setAttribute("max","1"),Od(this,Cd,"f").setAttribute("step","0.1"),Od(this,Cd,"f").setAttribute("aria-label",(null==e?void 0:e.volumeControl)||""),Dd(this,Ld,document.createElement("progress"),"f"),Od(this,Ld,"f").className="op-controls__volume--display",Od(this,Ld,"f").setAttribute("max","10"),Od(this,Ld,"f").value=10*Od(this,kd,"f").getMedia().volume,Od(this,Sd,"f").appendChild(Od(this,Cd,"f")),Od(this,Sd,"f").appendChild(Od(this,Ld,"f")),Dd(this,xd,document.createElement("button"),"f"),Od(this,xd,"f").type="button",Od(this,xd,"f").className=`op-controls__mute op-control__${Od(this,Id,"f")}`,Od(this,xd,"f").tabIndex=0,Od(this,xd,"f").title=(null==e?void 0:e.mute)||"",Od(this,xd,"f").setAttribute("aria-controls",Od(this,kd,"f").id),Od(this,xd,"f").setAttribute("aria-pressed","false"),Od(this,xd,"f").setAttribute("aria-label",(null==e?void 0:e.mute)||"");const t=t=>{const i=1*t.volume,n=Math.floor(100*i);Od(this,Cd,"f").value=`${t.volume}`,Od(this,Ld,"f").value=10*i,Od(this,Sd,"f").setAttribute("aria-valuenow",`${n}`),Od(this,Sd,"f").setAttribute("aria-valuetext",`${null==e?void 0:e.volume}: ${n}`)},i=e=>{const t=e.volume;t<=.5&&t>0?(Od(this,xd,"f").classList.remove("op-controls__mute--muted"),Od(this,xd,"f").classList.add("op-controls__mute--half")):0===t?(Od(this,xd,"f").classList.add("op-controls__mute--muted"),Od(this,xd,"f").classList.remove("op-controls__mute--half")):(Od(this,xd,"f").classList.remove("op-controls__mute--muted"),Od(this,xd,"f").classList.remove("op-controls__mute--half"))},n=e=>{const t=Od(this,kd,"f").activeElement(),i=parseFloat(e.target.value);t.volume=i,t.muted=0===t.volume,Dd(this,Td,i,"f");const n=Od(this,kd,"f").getContainer().querySelector(".op-player__unmute");!t.muted&&n&&n.remove();const r=ql("volumechange");Od(this,kd,"f").getElement().dispatchEvent(r)};if(Od(this,Md,"f").media.volumechange=()=>{const e=Od(this,kd,"f").activeElement();t(e),i(e)},Od(this,Md,"f").media.loadedmetadata=()=>{const e=Od(this,kd,"f").activeElement();e.muted&&(e.volume=0);const t=ql("volumechange");Od(this,kd,"f").getElement().dispatchEvent(t)},Od(this,Md,"f").slider.input=n.bind(this),Od(this,Md,"f").slider.change=n.bind(this),Od(this,Md,"f").button.click=()=>{Od(this,xd,"f").setAttribute("aria-pressed","true");const t=Od(this,kd,"f").activeElement();t.muted=!t.muted,t.muted?(t.volume=0,Od(this,xd,"f").title=(null==e?void 0:e.unmute)||"",Od(this,xd,"f").setAttribute("aria-label",(null==e?void 0:e.unmute)||"")):(t.volume=Od(this,Td,"f"),Od(this,xd,"f").title=(null==e?void 0:e.mute)||"",Od(this,xd,"f").setAttribute("aria-label",(null==e?void 0:e.mute)||""));const i=ql("volumechange");Od(this,kd,"f").getElement().dispatchEvent(i)},Od(this,xd,"f").addEventListener("click",Od(this,Md,"f").button.click,Ul),Object.keys(Od(this,Md,"f").media).forEach((e=>{Od(this,kd,"f").getElement().addEventListener(e,Od(this,Md,"f").media[e],Ul)})),Object.keys(Od(this,Md,"f").slider).forEach((e=>{Od(this,Cd,"f").addEventListener(e,Od(this,Md,"f").slider[e],Ul)})),Od(this,kd,"f").getContainer().addEventListener("keydown",this._enterSpaceKeyEvent,Ul),!jl&&!Nl||!Od(this,kd,"f").getOptions().useDeviceVolume){const e=Od(this,kd,"f").getControls().getLayer(Od(this,Pd,"f"));e.appendChild(Od(this,xd,"f")),e.appendChild(Od(this,Sd,"f"))}}destroy(){Od(this,xd,"f").removeEventListener("click",Od(this,Md,"f").button.click),Object.keys(Od(this,Md,"f").media).forEach((e=>{Od(this,kd,"f").getElement().removeEventListener(e,Od(this,Md,"f").media[e])})),Object.keys(Od(this,Md,"f").slider).forEach((e=>{Od(this,Cd,"f").removeEventListener(e,Od(this,Md,"f").slider[e])})),Od(this,kd,"f").getContainer().removeEventListener("keydown",this._enterSpaceKeyEvent),Od(this,Cd,"f").remove(),Od(this,Ld,"f").remove(),Od(this,Sd,"f").remove()}_enterSpaceKeyEvent(e){var t;const i=e.which||e.keyCode||0,n=Od(this,kd,"f").activeElement();!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__mute"))||13!==i&&32!==i||(n.muted=!n.muted,n.volume=n.muted?0:Od(this,Td,"f"),Od(this,Md,"f").button.click(),e.preventDefault(),e.stopPropagation())}};var jd,Rd,Fd,zd,Ud,Bd,Wd=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Vd=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};jd=new WeakMap,Rd=new WeakMap,Fd=new WeakMap,zd=new WeakMap,Ud=new WeakMap,Bd=new WeakMap;const $d=class{constructor(e){this.events={media:{},mouse:{}},jd.set(this,void 0),Rd.set(this,0),Fd.set(this,void 0),zd.set(this,void 0),Ud.set(this,void 0),Bd.set(this,{Captions:oc,Fullscreen:yc,Levels:Dc,Play:Bc,Progress:td,Settings:pd,Time:Ad,Volume:Nd}),Wd(this,zd,e,"f"),this._setElements()}create(){Vd(this,zd,"f").getElement().controls=!1;const e=Bl(Vd(this,zd,"f").getElement());this._createControlsLayer(),this._buildElements(),this.events.controlschanged=()=>{this.destroy(),this._setElements(),this.create()},this.events.ended=()=>{Vd(this,zd,"f").getContainer().classList.remove("op-controls--hidden")},Vd(this,zd,"f").getElement().addEventListener("controlschanged",this.events.controlschanged,Ul),Vd(this,zd,"f").getElement().addEventListener("ended",this.events.ended,Ul);const{alwaysVisible:t}=Vd(this,zd,"f").getOptions().controls||{};if(!t){const t=()=>{e&&(Vd(this,zd,"f").getContainer().classList.remove("op-controls--hidden"),this._stopControlTimer())};this.events.mouse.mouseenter=()=>{e&&!Vd(this,zd,"f").activeElement().paused&&(this._stopControlTimer(),Vd(this,zd,"f").activeElement().currentTime?(Vd(this,zd,"f").playBtn.setAttribute("aria-hidden",Vd(this,zd,"f").isMedia()?"false":"true"),Vd(this,zd,"f").loader.setAttribute("aria-hidden","true")):Vd(this,zd,"f").getOptions().showLoaderOnInit&&(Vd(this,zd,"f").playBtn.setAttribute("aria-hidden","true"),Vd(this,zd,"f").loader.setAttribute("aria-hidden","false")),Vd(this,zd,"f").getContainer().classList.remove("op-controls--hidden"),this._startControlTimer(2500))},this.events.mouse.mousemove=()=>{e&&!Vd(this,zd,"f").activeElement().paused&&(Vd(this,zd,"f").activeElement().currentTime?(Vd(this,zd,"f").loader.setAttribute("aria-hidden","true"),Vd(this,zd,"f").playBtn.setAttribute("aria-hidden",Vd(this,zd,"f").isMedia()?"false":"true")):(Vd(this,zd,"f").playBtn.setAttribute("aria-hidden",Vd(this,zd,"f").getOptions().showLoaderOnInit?"true":"false"),Vd(this,zd,"f").loader.setAttribute("aria-hidden",Vd(this,zd,"f").getOptions().showLoaderOnInit?"false":"true")),Vd(this,zd,"f").getContainer().classList.remove("op-controls--hidden"),this._startControlTimer(2500))},this.events.mouse.mouseleave=()=>{e&&!Vd(this,zd,"f").activeElement().paused&&this._startControlTimer(1e3)},this.events.media.play=()=>{e&&this._startControlTimer(Vd(this,zd,"f").getOptions().hidePlayBtnTimer||350)},this.events.media.loadedmetadata=t.bind(this),this.events.media.pause=t.bind(this),this.events.media.waiting=t.bind(this),this.events.media.stalled=t.bind(this),this.events.media.playererror=t.bind(this),Object.keys(this.events.media).forEach((e=>{Vd(this,zd,"f").getElement().addEventListener(e,this.events.media[e],Ul)})),jl||Nl?Vd(this,zd,"f").getContainer().addEventListener("click",this.events.mouse.mouseenter,Ul):Object.keys(this.events.mouse).forEach((e=>{Vd(this,zd,"f").getContainer().addEventListener(e,this.events.mouse[e],Ul)})),e&&!Vd(this,zd,"f").activeElement().paused&&this._startControlTimer(3e3)}}destroy(){jl||Nl||(Object.keys(this.events.mouse).forEach((e=>{Vd(this,zd,"f").getContainer().removeEventListener(e,this.events.mouse[e])})),Object.keys(this.events.media).forEach((e=>{Vd(this,zd,"f").getElement().removeEventListener(e,this.events.media[e])})),this._stopControlTimer()),Vd(this,zd,"f").getElement().removeEventListener("controlschanged",this.events.controlschanged),Vd(this,zd,"f").getElement().removeEventListener("ended",this.events.ended),Object.keys(Vd(this,Ud,"f")).forEach((e=>{Vd(this,Ud,"f")[e].forEach((e=>{e.custom?this._destroyCustomElement(e):"function"==typeof e.destroy&&e.destroy()}))})),Vd(this,Fd,"f").remove()}getContainer(){return Vd(this,Fd,"f")}getLayer(e){return Vd(this,Fd,"f").querySelector(`.op-controls-layer__${e}`)||Vd(this,Fd,"f")}_createControlsLayer(){if(!Vd(this,Fd,"f")||!Vd(this,zd,"f").getContainer().querySelector(".op-controls")){Wd(this,Fd,document.createElement("div"),"f"),Vd(this,Fd,"f").className="op-controls",Vd(this,zd,"f").getContainer().appendChild(Vd(this,Fd,"f"));const e=document.createElement("div");e.className="op-status",e.innerHTML="<span></span>",e.tabIndex=-1,e.setAttribute("aria-hidden","true"),Wl(Vd(this,zd,"f").getElement())&&Vd(this,Fd,"f").appendChild(e)}}_startControlTimer(e){const t=Vd(this,zd,"f").activeElement();this._stopControlTimer(),"undefined"!=typeof window&&Wd(this,Rd,window.setTimeout((()=>{if((!t.paused||!t.ended)&&Bl(Vd(this,zd,"f").getElement())){Vd(this,zd,"f").getContainer().classList.add("op-controls--hidden"),Vd(this,zd,"f").playBtn.setAttribute("aria-hidden","true"),this._stopControlTimer();const e=ql("controlshidden");Vd(this,zd,"f").getElement().dispatchEvent(e)}}),e),"f")}_stopControlTimer(){0!==Vd(this,Rd,"f")&&(clearTimeout(Vd(this,Rd,"f")),Wd(this,Rd,0,"f"))}_setElements(){var e;const t=(null===(e=Vd(this,zd,"f").getOptions().controls)||void 0===e?void 0:e.layers)||{};Wd(this,Ud,{"bottom-left":[],"bottom-middle":[],"bottom-right":[],left:[],main:[],middle:[],right:[],"top-left":[],"top-middle":[],"top-right":[]},"f");const i=Bl(Vd(this,zd,"f").getElement()),n=Wl(Vd(this,zd,"f").getElement()),r=Object.keys(t),s=r.find((e=>/^(top|bottom)/.test(e)));this._createControlsLayer(),r.forEach((e=>{const[r,o]=e.split("-");if(o){Vd(this,Fd,"f").classList.contains("op-controls__stacked")||Vd(this,Fd,"f").classList.add("op-controls__stacked");const e=`op-controls-layer__${r}`;if(!Vd(this,Fd,"f").querySelector(`.${e}`)){const t=document.createElement("div");t.className=e,Vd(this,Fd,"f").appendChild(t)}}else if(s){const e="op-controls-layer__center";if(!Vd(this,Fd,"f").querySelector(`.${e}`)){const t=document.createElement("div");t.className=e,Vd(this,Fd,"f").appendChild(t)}}const a=t?t[e]:null;a&&a.filter(((e,t,i)=>i.indexOf(e)===t)).forEach((t=>{const a=s&&!o?"center":r,l=`${t.charAt(0).toUpperCase()}${t.slice(1)}`,c=new(Vd(this,Bd,"f")[l])(Vd(this,zd,"f"),o||r,a);"settings"===t&&Wd(this,jd,c,"f"),(i||"fullscreen"!==t&&n)&&Vd(this,Ud,"f")[e].push(c)}))})),Vd(this,zd,"f").getCustomControls().forEach((e=>{const[t,i]=e.position.split("-"),n=s&&!i?"center":t;e.layer=n,e.position=i||t,"number"==typeof e.index?Vd(this,Ud,"f")[e.position].splice(e.index,0,e):"right"===e.position?Vd(this,Ud,"f")[e.position].unshift(e):Vd(this,Ud,"f")[e.position].push(e)}))}_buildElements(){Object.keys(Vd(this,Ud,"f")).forEach((e=>{Vd(this,Ud,"f")[e].forEach((e=>{e.custom?this._createCustomElement(e):e.create()}))})),Object.keys(Vd(this,Ud,"f")).forEach((e=>{Vd(this,Ud,"f")[e].forEach((e=>{const t=e;if((!Vd(this,zd,"f").getOptions().detachMenus||e instanceof pd)&&!t.custom&&"function"==typeof t.addSettings){const e=t.addSettings();Vd(this,jd,"f")&&Object.keys(e).length&&Vd(this,jd,"f").addItem(e.name,e.key,e.default,e.subitems,e.className)}}))}));const e=ql("controlschanged");Vd(this,Fd,"f").dispatchEvent(e)}_hideCustomMenu(e){let t;t&&"undefined"!=typeof window&&window.cancelAnimationFrame(t),"undefined"!=typeof window&&(t=window.requestAnimationFrame((()=>{e.setAttribute("aria-hidden","true")})))}_toggleCustomMenu(e,t,i){Vd(this,zd,"f").getContainer().querySelectorAll(".op-settings").forEach((e=>{"false"===e.getAttribute("aria-hidden")&&e.id!==t.id&&e.setAttribute("aria-hidden","true")})),t.setAttribute("aria-hidden","true"===t.getAttribute("aria-hidden")?"false":"true"),"function"==typeof i.click&&i.click(e)}_createCustomElement(e){const t=document.createElement(e.type);if(t.tabIndex=0,t.id=e.id,t.className=`op-controls__${e.id} op-control__${e.position} ${e.showInAds?"":"op-control__hide-in-ad"}`,e.styles&&Object.assign(t.style,e.styles),"button"===e.type&&e.icon?t.innerHTML=/\.(jpg|png|svg|gif)$/.test(e.icon)?`<img src="${Hl(e.icon)}"${e.alt?`alt="${Hl(e.alt)}"`:""}>`:Hl(e.icon):e.content&&(t.innerHTML=Hl(e.content,!1)),"button"===e.type&&e.title&&(t.title=Hl(e.title)),"img"===e.type&&e.alt&&(t.alt=Hl(e.alt)),"button"!==e.type&&e.click&&"function"==typeof e.click&&t.setAttribute("aria-role","button"),"button"===e.type&&e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){const i=document.createElement("div");i.className="op-settings op-settings__custom",i.id=`${e.id}-menu`,i.setAttribute("aria-hidden","true");const n=e.subitems.map((t=>{let i="";return t.icon&&(i=/\.(jpg|png|svg|gif)$/.test(t.icon)?`<img src="${Hl(t.icon)}"${t.alt?`alt="${Hl(t.alt)}"`:""}>`:Hl(t.icon,!1)),`<div class="op-settings__menu-item" tabindex="0" ${t.title?`title="${t.title}"`:""} role="menuitemradio">\n                    <div class="op-settings__menu-label" id="${t.id}" data-value="${e.id}-${t.id}">${i} ${t.label}</div>\n                </div>`}));i.innerHTML=`<div class="op-settings__menu" role="menu">${n.join("")}</div>`,Vd(this,zd,"f").getContainer().appendChild(i),e.subitems.forEach((e=>{const t=i.querySelector(`#${e.id}`);t&&e.click&&"function"==typeof e.click&&t.addEventListener("click",e.click,Ul)})),t.addEventListener("click",(t=>this._toggleCustomMenu(t,i,e)),Ul),Vd(this,zd,"f").getElement().addEventListener("controlshidden",(()=>this._hideCustomMenu(i)),Ul)}else e.click&&"function"==typeof e.click&&t.addEventListener("click",e.click,Ul);e.mouseenter&&"function"==typeof e.mouseenter&&t.addEventListener("mouseenter",e.mouseenter,Ul),e.mouseleave&&"function"==typeof e.mouseleave&&t.addEventListener("mouseleave",e.mouseleave,Ul),e.keydown&&"function"==typeof e.keydown&&t.addEventListener("keydown",e.keydown,Ul),e.blur&&"function"==typeof e.blur&&t.addEventListener("blur",e.blur,Ul),e.focus&&"function"==typeof e.focus&&t.addEventListener("focus",e.focus,Ul),e.layer&&("main"===e.layer?Vd(this,zd,"f").getContainer().appendChild(t):this.getLayer(e.layer).appendChild(t)),e.init&&"function"==typeof e.init&&e.init(Vd(this,zd,"f"))}_destroyCustomElement(e){const t=this.getContainer().querySelector(`.op-controls__${e.id}`);if(t){if(e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){const i=Vd(this,zd,"f").getContainer().querySelector(`#${e.id}-menu`);i&&(e.subitems.forEach((e=>{const t=i.querySelector(`#${e.id}`);t&&e.click&&"function"==typeof e.click&&t.removeEventListener("click",e.click)})),t.removeEventListener("click",(t=>this._toggleCustomMenu(t,i,e))),Vd(this,zd,"f").getElement().removeEventListener("controlshidden",(()=>this._hideCustomMenu(i))),i.remove())}e.click&&"function"==typeof e.click&&t.removeEventListener("click",e.click),e.mouseenter&&"function"==typeof e.mouseenter&&t.removeEventListener("mouseenter",e.mouseenter),e.mouseleave&&"function"==typeof e.mouseleave&&t.removeEventListener("mouseleave",e.mouseleave),e.keydown&&"function"==typeof e.keydown&&t.removeEventListener("keydown",e.keydown),e.blur&&"function"==typeof e.blur&&t.removeEventListener("blur",e.blur),e.focus&&"function"==typeof e.focus&&t.removeEventListener("focus",e.focus),t.remove(),e.destroy&&"function"==typeof e.destroy&&e.destroy(Vd(this,zd,"f"))}}};var Hd,qd=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Kd=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Hd=new WeakMap;const Gd=class{constructor(e,t){Hd.set(this,void 0),this.element=e,this.media=t,this.promise=new Promise((e=>{e()}))}set instance(e){qd(this,Hd,e,"f")}get instance(){return Kd(this,Hd,"f")}play(){return this.element.play()}pause(){this.element.pause()}set volume(e){this.element.volume=e}get volume(){return this.element.volume}set muted(e){this.element.muted=e}get muted(){return this.element.muted}set playbackRate(e){this.element.playbackRate=e}get playbackRate(){return this.element.playbackRate}set defaultPlaybackRate(e){this.element.defaultPlaybackRate=e}get defaultPlaybackRate(){return this.element.defaultPlaybackRate}set currentTime(e){this.element.currentTime=e}get currentTime(){return this.element.currentTime}get duration(){return this.element.duration}get paused(){return this.element.paused}get ended(){return this.element.ended}};var Zd,Yd,Qd,Jd=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Xd=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Zd=new WeakMap,Yd=new WeakMap,Qd=new WeakMap;const eu=class extends Gd{constructor(e,t,i){super(e,t),Zd.set(this,void 0),Yd.set(this,{}),Qd.set(this,{}),Jd(this,Qd,i,"f"),this._assign=this._assign.bind(this),this._preparePlayer=this._preparePlayer.bind(this),this.promise="undefined"==typeof dashjs?Vl("https://cdn.dashjs.org/latest/dash.all.min.js"):new Promise((e=>{e({})})),this.promise.then((()=>{Jd(this,Zd,dashjs.MediaPlayer().create(),"f"),this.instance=Xd(this,Zd,"f")}))}canPlayType(e){return zl&&"application/dash+xml"===e}load(){this._preparePlayer(),Xd(this,Zd,"f").attachSource(this.media.src);const e=ql("loadedmetadata");this.element.dispatchEvent(e),Xd(this,Yd,"f")||(Jd(this,Yd,dashjs.MediaPlayer.events,"f"),Object.keys(Xd(this,Yd,"f")).forEach((e=>{Xd(this,Zd,"f").on(Xd(this,Yd,"f")[e],this._assign)})))}destroy(){Xd(this,Yd,"f")&&(Object.keys(Xd(this,Yd,"f")).forEach((e=>{Xd(this,Zd,"f").off(Xd(this,Yd,"f")[e],this._assign)})),Jd(this,Yd,[],"f")),Xd(this,Zd,"f").reset()}set src(e){bc(e)&&(this.destroy(),Jd(this,Zd,dashjs.MediaPlayer().create(),"f"),this._preparePlayer(),Xd(this,Zd,"f").attachSource(e.src),Jd(this,Yd,dashjs.MediaPlayer.events,"f"),Object.keys(Xd(this,Yd,"f")).forEach((e=>{Xd(this,Zd,"f").on(Xd(this,Yd,"f")[e],this._assign)})))}get levels(){const e=[];if(Xd(this,Zd,"f")){const t=Xd(this,Zd,"f").getBitrateInfoListFor("video");t.length&&t.forEach((i=>{if(t[i]){const{height:n,name:r}=t[i],s={height:n,id:`${i}`,label:r||null};e.push(s)}}))}return e}set level(e){"0"===e?Xd(this,Zd,"f").setAutoSwitchQuality(!0):(Xd(this,Zd,"f").setAutoSwitchQuality(!1),Xd(this,Zd,"f").setQualityFor("video",e))}get level(){return Xd(this,Zd,"f")?Xd(this,Zd,"f").getQualityFor("video"):"-1"}_assign(e){if("error"===e.type){const t=ql("playererror",{detail:{message:e,type:"M(PEG)-DASH"}});this.element.dispatchEvent(t)}else{const t=ql(e.type,{detail:e});this.element.dispatchEvent(t)}}_preparePlayer(){Xd(this,Zd,"f").updateSettings(Object.assign({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE},streaming:{fastSwitchEnabled:!0,scheduleWhilePaused:!1}},Xd(this,Qd,"f")||{})),Xd(this,Zd,"f").initialize(),Xd(this,Zd,"f").attachView(this.element),Xd(this,Zd,"f").setAutoPlay(!1)}};var tu,iu,nu,ru=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},su=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},ou=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};tu=new WeakMap,iu=new WeakMap,nu=new WeakMap;const au=class extends Gd{constructor(e,t,i){super(e,t),tu.set(this,void 0),iu.set(this,{}),nu.set(this,{}),ru(this,nu,i,"f"),this.element=e,this.media=t,this._create=this._create.bind(this),this._assign=this._assign.bind(this),this.promise="undefined"==typeof flvjs?Vl("https://cdn.jsdelivr.net/npm/flv.js@latest/dist/flv.min.js"):new Promise((e=>{e({})})),this.promise.then(this._create)}canPlayType(e){return zl&&("video/x-flv"===e||"video/flv"===e)}load(){su(this,tu,"f").unload(),su(this,tu,"f").detachMediaElement(),su(this,tu,"f").attachMediaElement(this.element),su(this,tu,"f").load();const e=ql("loadedmetadata");this.element.dispatchEvent(e),su(this,iu,"f")||(ru(this,iu,flvjs.Events,"f"),Object.keys(su(this,iu,"f")).forEach((e=>{su(this,tu,"f").on(su(this,iu,"f")[e],((...t)=>this._assign(su(this,iu,"f")[e],t)))})))}destroy(){su(this,tu,"f").destroy(),ru(this,tu,null,"f")}set src(e){wc(e)&&(this.destroy(),this._create())}get levels(){const e=[];return su(this,tu,"f")&&su(this,tu,"f").levels&&su(this,tu,"f").levels.length&&Object.keys(su(this,tu,"f").levels).forEach((t=>{const{height:i,name:n}=su(this,tu,"f").levels[t],r={height:i,id:t,label:n||null};e.push(r)})),e}set level(e){su(this,tu,"f").currentLevel=e}get level(){return su(this,tu,"f")?su(this,tu,"f").currentLevel:"-1"}_create(){const e=su(this,nu,"f")||{},{configs:t}=e,i=ou(e,["configs"]);flvjs.LoggingControl.enableDebug=(null==i?void 0:i.debug)||!1,flvjs.LoggingControl.enableVerbose=(null==i?void 0:i.debug)||!1;const n=Object.assign(Object.assign({},i),{type:"flv",url:this.media.src});ru(this,tu,flvjs.createPlayer(n,t||{}),"f"),this.instance=su(this,tu,"f"),su(this,iu,"f")||(ru(this,iu,flvjs.Events,"f"),Object.keys(su(this,iu,"f")).forEach((e=>{su(this,tu,"f").on(su(this,iu,"f")[e],((...t)=>this._assign(su(this,iu,"f")[e],t)))})))}_assign(e,t){if("error"===e){const e=ql("playererror",{detail:{data:t,message:`${t[0]}: ${t[1]} ${t[2].msg}`,type:"FLV"}});this.element.dispatchEvent(e)}else{const i=ql(e,{detail:{data:t}});this.element.dispatchEvent(i)}}};var lu,cu,du,uu,pu,hu,fu=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},vu=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};lu=new WeakMap,cu=new WeakMap,du=new WeakMap,uu=new WeakMap,pu=new WeakMap,hu=new WeakMap;const mu=class extends Gd{constructor(e,t,i,n){super(e,t),lu.set(this,void 0),cu.set(this,{}),du.set(this,0),uu.set(this,0),pu.set(this,void 0),hu.set(this,void 0),fu(this,pu,n||{},"f"),this.element=e,this.media=t,fu(this,hu,i,"f"),this._create=this._create.bind(this),this._play=this._play.bind(this),this._pause=this._pause.bind(this),this._assign=this._assign.bind(this),this.promise="undefined"==typeof Hls?Vl("https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js"):new Promise((e=>{e({})})),this.promise.then(this._create)}canPlayType(e){return(()=>{if("undefined"==typeof window)return!1;const e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,i=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!i&&!!n&&!Fl})()&&"application/x-mpegURL"===e}load(){vu(this,lu,"f")&&(vu(this,lu,"f").detachMedia(),vu(this,lu,"f").loadSource(this.media.src),vu(this,lu,"f").attachMedia(this.element));const e=ql("loadedmetadata");this.element.dispatchEvent(e),vu(this,cu,"f")||(fu(this,cu,Hls.Events,"f"),Object.keys(vu(this,cu,"f")).forEach((e=>{vu(this,lu,"f").on(vu(this,cu,"f")[e],((...t)=>this._assign(vu(this,cu,"f")[e],t)))})))}destroy(){vu(this,lu,"f")&&vu(this,lu,"f").stopLoad(),vu(this,cu,"f")&&Object.keys(vu(this,cu,"f")).forEach((e=>{vu(this,lu,"f").off(vu(this,cu,"f")[e],((...t)=>this._assign(vu(this,cu,"f")[e],t)))})),this.element.removeEventListener("play",this._play),this.element.removeEventListener("pause",this._pause),vu(this,lu,"f")&&(vu(this,lu,"f").destroy(),fu(this,lu,null,"f"))}set src(e){_c(e)&&(this.destroy(),fu(this,lu,new Hls(vu(this,pu,"f")),"f"),vu(this,lu,"f").loadSource(e.src),vu(this,lu,"f").attachMedia(this.element),fu(this,cu,Hls.Events,"f"),Object.keys(vu(this,cu,"f")).forEach((e=>{vu(this,lu,"f").on(vu(this,cu,"f")[e],((...t)=>this._assign(vu(this,cu,"f")[e],t)))})))}get levels(){const e=[];return vu(this,lu,"f")&&vu(this,lu,"f").levels&&vu(this,lu,"f").levels.length&&Object.keys(vu(this,lu,"f").levels).forEach((t=>{const{height:i,name:n}=vu(this,lu,"f").levels[t],r={height:i,id:t,label:n||null};e.push(r)})),e}set level(e){const t=Number(e);t&&t>-1?vu(this,lu,"f").loadLevel=t:vu(this,lu,"f").currentLevel=t}get level(){return vu(this,lu,"f")?vu(this,lu,"f").currentLevel:"-1"}_create(){const e=!("auto"!==this.element.preload&&!vu(this,hu,"f"));vu(this,pu,"f").autoStartLoad=e,fu(this,lu,new Hls(vu(this,pu,"f")),"f"),this.instance=vu(this,lu,"f"),fu(this,cu,Hls.Events,"f"),Object.keys(vu(this,cu,"f")).forEach((e=>{vu(this,lu,"f").on(vu(this,cu,"f")[e],((...t)=>this._assign(vu(this,cu,"f")[e],t)))})),e||(this.element.addEventListener("play",this._play,Ul),this.element.addEventListener("pause",this._pause,Ul))}_assign(e,t){if("hlsError"===e){const e=ql("playererror",{detail:{data:t,message:t[1].details,type:"HLS"}});this.element.dispatchEvent(e);const i=t[1].type,{fatal:n}=t[1],r=t[1];if(n)switch(i){case"mediaError":const e=(new Date).getTime();if(!vu(this,du,"f")||e-vu(this,du,"f")>3e3)fu(this,du,(new Date).getTime(),"f"),vu(this,lu,"f").recoverMediaError();else if(!vu(this,uu,"f")||e-vu(this,uu,"f")>3e3)fu(this,uu,(new Date).getTime(),"f"),console.warn("Attempting to swap Audio Codec and recover from media error"),vu(this,lu,"f").swapAudioCodec(),vu(this,lu,"f").recoverMediaError();else{const e="Cannot recover, last media error recovery failed";console.error(e);const t=ql(i,{detail:{data:r}});this.element.dispatchEvent(t)}break;case"networkError":const t="Network error";console.error(t);const n=ql(i,{detail:{data:r}});this.element.dispatchEvent(n);break;default:vu(this,lu,"f").destroy();const s=ql(i,{detail:{data:r}});this.element.dispatchEvent(s)}else{const e=ql(i,{detail:{data:r}});this.element.dispatchEvent(e)}}else{const i=t[1];if("hlsLevelLoaded"===e&&!0===i.live){this.element.setAttribute("op-live__enabled","true");const e=ql("timeupdate");this.element.dispatchEvent(e)}else if("hlsLevelUpdated"===e&&!0===i.live&&i.totalduration>120){this.element.setAttribute("op-dvr__enabled","true");const e=ql("timeupdate");this.element.dispatchEvent(e)}else if("hlsFragParsingMetadata"===e){const e=ql("metadataready",{detail:{data:t[1]}});this.element.dispatchEvent(e)}const n=ql(e,{detail:{data:t[1]}});this.element.dispatchEvent(n)}}_play(){vu(this,lu,"f")&&vu(this,lu,"f").startLoad()}_pause(){vu(this,lu,"f")&&vu(this,lu,"f").stopLoad()}};var gu,yu,_u,bu,wu,Eu,Au=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},ku=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};gu=new WeakMap,yu=new WeakMap,_u=new WeakMap,bu=new WeakMap,wu=new WeakMap,Eu=new WeakMap;const xu=class extends Gd{constructor(e,t){if(super(e,t),gu.set(this,void 0),yu.set(this,[]),_u.set(this,!1),bu.set(this,0),wu.set(this,!1),Eu.set(this,void 0),!Wl(e)&&!Bl(e))throw new TypeError("Native method only supports video/audio tags");this._clearTimeout=this._clearTimeout.bind(this),this._setTimeout=this._setTimeout.bind(this),this._dispatchError=this._dispatchError.bind(this),this._isDvrEnabled=this._isDvrEnabled.bind(this),this._readMediadataInfo=this._readMediadataInfo.bind(this),Au(this,_u,_c(t),"f"),this.element.addEventListener("playing",this._clearTimeout,Ul),this.element.addEventListener("stalled",this._setTimeout,Ul),this.element.addEventListener("error",this._dispatchError,Ul),this.element.addEventListener("loadeddata",this._isDvrEnabled,Ul),this.element.textTracks.addEventListener("addtrack",this._readMediadataInfo,Ul)}canPlayType(e){return!!this.element.canPlayType(e).replace("no","")}load(){this.element.load()}destroy(){this.element.removeEventListener("playing",this._clearTimeout),this.element.removeEventListener("stalled",this._setTimeout),this.element.removeEventListener("error",this._dispatchError),this.element.removeEventListener("loadeddata",this._isDvrEnabled),this.element.textTracks.removeEventListener("addtrack",this._readMediadataInfo)}get levels(){if(!ku(this,yu,"f").length){const e=this.element.querySelectorAll("source[title]");for(let t=0,i=e.length;t<i;++t){const i={height:0,id:`${t}`,label:e[t].getAttribute("title")||""};ku(this,yu,"f").push(i)}}return ku(this,yu,"f")}set level(e){const t=ku(this,yu,"f").findIndex((t=>t.id===e));if(t>-1){Au(this,gu,this.levels[t],"f");const e=this.element.querySelectorAll("source[title]");for(let t=0,i=e.length;t<i;++t){const i=e[t].getAttribute("src");i&&parseInt(ku(this,gu,"f").id,10)===t&&(this.element.src=i)}}}get level(){var e;return(null===(e=ku(this,gu,"f"))||void 0===e?void 0:e.id)||"-1"}set src(e){this.element.src=e.src}_isDvrEnabled(){const e=this.element.seekable.end(this.element.seekable.length-1)-this.element.seekable.start(0);if(ku(this,_u,"f")&&e>120&&!this.element.getAttribute("op-dvr__enabled")){this.element.setAttribute("op-dvr__enabled","true");const e=ql("timeupdate");this.element.dispatchEvent(e)}}_readMediadataInfo(e){var t;const i=e;"metadata"===(null===(t=null==i?void 0:i.track)||void 0===t?void 0:t.kind)&&(i.track.mode="hidden",i.track.addEventListener("cuechange",(e=>{const t=e.target,i=t.activeCues?t.activeCues[0]:null;if(i){const e=ql("metadataready",{detail:i});this.element.dispatchEvent(e)}}),Ul))}_setTimeout(){ku(this,wu,"f")||void 0===window||(Au(this,wu,!0,"f"),Au(this,Eu,window.setInterval((()=>{var e;if(ku(this,bu,"f")>=30){clearInterval(ku(this,Eu,"f"));const e="Media download failed part-way due to a network error",t=ql("playererror",{detail:{data:{message:e,error:2},message:e,type:"HTML5"}});this.element.dispatchEvent(t),Au(this,bu,0,"f"),Au(this,wu,!1,"f")}else Au(this,bu,(e=ku(this,bu,"f"),++e),"f")}),1e3),"f"))}_clearTimeout(){ku(this,Eu,"f")&&(clearInterval(ku(this,Eu,"f")),Au(this,bu,0,"f"),Au(this,wu,!1,"f"))}_dispatchError(e){let t;const i=e.target,n=null==i?void 0:i.error;switch(null==n?void 0:n.code){case null==n?void 0:n.MEDIA_ERR_ABORTED:t="Media playback aborted";break;case null==n?void 0:n.MEDIA_ERR_NETWORK:t="Media download failed part-way due to a network error";break;case null==n?void 0:n.MEDIA_ERR_DECODE:t="Media playback aborted due to a corruption problem or because the\n                    media used features your browser did not support.";break;case null==n?void 0:n.MEDIA_ERR_SRC_NOT_SUPPORTED:t="Media could not be loaded, either because the server or network failed\n                    or because the format is not supported.";break;default:t="Unknown error occurred."}const r=ql("playererror",{detail:{data:Object.assign(Object.assign({},e),{message:t,error:null==n?void 0:n.code}),message:t,type:"HTML5"}});this.element.dispatchEvent(r)}};var Su,Lu,Cu,Mu,Tu,Iu,Pu,Du,Ou,Nu=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},ju=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Ru=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Su=new WeakMap,Lu=new WeakMap,Cu=new WeakMap,Mu=new WeakMap,Tu=new WeakMap,Iu=new WeakMap,Pu=new WeakMap,Du=new WeakMap,Ou=new WeakMap;const Fu=class{constructor(e,t,i,n){Su.set(this,void 0),Lu.set(this,void 0),Cu.set(this,void 0),Mu.set(this,void 0),Tu.set(this,void 0),Iu.set(this,void 0),Pu.set(this,!1),Du.set(this,{media:{},optionsKey:{},rules:[]}),Ou.set(this,void 0),ju(this,Su,e,"f"),ju(this,Tu,t,"f"),ju(this,Cu,this._getMediaFiles(),"f"),ju(this,Du,n,"f"),ju(this,Iu,i,"f")}canPlayType(e){return Ru(this,Lu,"f").canPlayType(e)}load(){return Nu(this,void 0,void 0,(function*(){if(!Ru(this,Pu,"f")){if(ju(this,Pu,!0,"f"),!Ru(this,Cu,"f").length)throw new TypeError("Media not set");if(Ru(this,Lu,"f")&&"function"==typeof Ru(this,Lu,"f").destroy){1===Ru(this,Cu,"f").length&&Ru(this,Cu,"f")[0].src===Ru(this,Lu,"f").media.src||Ru(this,Lu,"f").destroy()}Ru(this,Cu,"f").some((e=>{try{ju(this,Lu,this._invoke(e),"f")}catch(t){ju(this,Lu,new xu(Ru(this,Su,"f"),e),"f")}return Ru(this,Lu,"f").canPlayType(e.type)}));try{if(null===Ru(this,Lu,"f"))throw new TypeError("Media cannot be played with any valid media type");yield Ru(this,Lu,"f").promise,Ru(this,Lu,"f").load()}catch(e){throw Ru(this,Lu,"f")&&Ru(this,Lu,"f").destroy(),e}}}))}play(){return Nu(this,void 0,void 0,(function*(){return Ru(this,Pu,"f")?yield Ru(this,Lu,"f").promise:(yield this.load(),ju(this,Pu,!1,"f")),ju(this,Mu,Ru(this,Lu,"f").play(),"f"),Ru(this,Mu,"f")}))}pause(){return Nu(this,void 0,void 0,(function*(){void 0!==Ru(this,Mu,"f")&&(yield Ru(this,Mu,"f")),Ru(this,Lu,"f").pause()}))}destroy(){Ru(this,Lu,"f")&&Ru(this,Lu,"f").destroy()}set src(e){if("string"==typeof e?Ru(this,Cu,"f").push({src:e,type:Ec(e,Ru(this,Su,"f"))}):Array.isArray(e)?ju(this,Cu,e,"f"):"object"==typeof e&&Ru(this,Cu,"f").push(e),ju(this,Cu,Ru(this,Cu,"f").filter((e=>e.src)),"f"),Ru(this,Cu,"f").length>0){const[e]=Ru(this,Cu,"f");Ru(this,Su,"f").src&&Ru(this,Su,"f").setAttribute("data-op-file",Ru(this,Cu,"f")[0].src),Ru(this,Su,"f").src=e.src,ju(this,Ou,e,"f"),Ru(this,Lu,"f")&&(Ru(this,Lu,"f").src=e)}else Ru(this,Su,"f").src=""}get src(){return Ru(this,Cu,"f")}get current(){return Ru(this,Ou,"f")}set mediaFiles(e){ju(this,Cu,e,"f")}get mediaFiles(){return Ru(this,Cu,"f")}set volume(e){Ru(this,Lu,"f")&&(Ru(this,Lu,"f").volume=e)}get volume(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").volume:Ru(this,Su,"f").volume}set muted(e){Ru(this,Lu,"f")&&(Ru(this,Lu,"f").muted=e)}get muted(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").muted:Ru(this,Su,"f").muted}set playbackRate(e){Ru(this,Lu,"f")&&(Ru(this,Lu,"f").playbackRate=e)}get playbackRate(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").playbackRate:Ru(this,Su,"f").playbackRate}set defaultPlaybackRate(e){Ru(this,Lu,"f")&&(Ru(this,Lu,"f").defaultPlaybackRate=e)}get defaultPlaybackRate(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").defaultPlaybackRate:Ru(this,Su,"f").defaultPlaybackRate}set currentTime(e){Ru(this,Lu,"f")&&(Ru(this,Lu,"f").currentTime=e)}get currentTime(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").currentTime:Ru(this,Su,"f").currentTime}get duration(){const e=Ru(this,Lu,"f")?Ru(this,Lu,"f").duration:Ru(this,Su,"f").duration;return e===1/0&&Ru(this,Su,"f").seekable&&Ru(this,Su,"f").seekable.length?Ru(this,Su,"f").seekable.end(0):e}get paused(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").paused:Ru(this,Su,"f").paused}get ended(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").ended:Ru(this,Su,"f").ended}set loaded(e){ju(this,Pu,e,"f")}get loaded(){return Ru(this,Pu,"f")}set level(e){Ru(this,Lu,"f")&&(Ru(this,Lu,"f").level=e)}get level(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").level:-1}get levels(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").levels:[]}get instance(){return Ru(this,Lu,"f")?Ru(this,Lu,"f").instance:null}_getMediaFiles(){const e=[],t=Ru(this,Su,"f").querySelectorAll("source"),i=Ru(this,Su,"f").src;i&&e.push({src:i,type:Ru(this,Su,"f").getAttribute("type")||Ec(i,Ru(this,Su,"f"))});for(let i=0,n=t.length;i<n;i++){const n=t[i],{src:r}=n;if(e.push({src:r,type:n.getAttribute("type")||Ec(r,Ru(this,Su,"f"))}),0===i){const[t]=e;ju(this,Ou,t,"f")}}return e.length||e.push({src:"",type:Ec("",Ru(this,Su,"f"))}),e}_invoke(e){var t,i,n;const r=Ru(this,Su,"f").canPlayType("application/vnd.apple.mpegurl")||Ru(this,Su,"f").canPlayType("application/x-mpegURL");ju(this,Ou,e,"f");const{layers:s}=Ru(this,Tu,"f").controls||{};let o=!1;if(s&&Object.keys(s).forEach((e=>{const t=s?s[e]:null;t&&t.indexOf("levels")>-1&&(o=!0)})),Object.keys(Ru(this,Du,"f").media).length){let t;return Ru(this,Du,"f").rules.forEach((i=>{const n=i(e.src);if(n){const i=Ru(this,Du,"f").media[n],r=Ru(this,Tu,"f")[Ru(this,Du,"f").optionsKey[n]]||void 0;t=i(Ru(this,Su,"f"),e,Ru(this,Iu,"f"),r)}})),t?(t.create(),t):new xu(Ru(this,Su,"f"),e)}if(_c(e)){if(r&&Ru(this,Tu,"f").forceNative&&!o)return new xu(Ru(this,Su,"f"),e);const i=(null===(t=Ru(this,Tu,"f"))||void 0===t?void 0:t.hls)||void 0;return new mu(Ru(this,Su,"f"),e,Ru(this,Iu,"f"),i)}if(bc(e)){const t=(null===(i=Ru(this,Tu,"f"))||void 0===i?void 0:i.dash)||void 0;return new eu(Ru(this,Su,"f"),e,t)}if(wc(e)){const t=(null===(n=Ru(this,Tu,"f"))||void 0===n?void 0:n.flv)||{debug:!1,type:"flv",url:e.src};return new au(Ru(this,Su,"f"),e,t)}return new xu(Ru(this,Su,"f"),e)}};var zu,Uu,Bu,Wu,Vu,$u,Hu,qu,Ku,Gu,Zu,Yu,Qu,Ju,Xu,ep,tp,ip,np,rp,sp,op,ap,lp,cp,dp,up,pp,hp,fp,vp,mp,gp,yp=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},_p=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},bp=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};zu=new WeakMap,Uu=new WeakMap,Bu=new WeakMap,Wu=new WeakMap,Vu=new WeakMap,$u=new WeakMap,Hu=new WeakMap,qu=new WeakMap,Ku=new WeakMap,Gu=new WeakMap,Zu=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Xu=new WeakMap,ep=new WeakMap,tp=new WeakMap,ip=new WeakMap,np=new WeakMap,rp=new WeakMap,sp=new WeakMap,op=new WeakMap,ap=new WeakMap,lp=new WeakMap,cp=new WeakMap,dp=new WeakMap,up=new WeakMap,pp=new WeakMap,hp=new WeakMap,fp=new WeakMap,vp=new WeakMap,mp=new WeakMap,gp=new WeakMap;const wp=class{constructor(e,t,i,n,r){var s,o,a,l;this.loadedAd=!1,zu.set(this,!1),Uu.set(this,!1),Bu.set(this,!1),Wu.set(this,!1),Vu.set(this,0),$u.set(this,void 0),Hu.set(this,!1),qu.set(this,0),Ku.set(this,0),Gu.set(this,null),Zu.set(this,void 0),Yu.set(this,void 0),Qu.set(this,void 0),Ju.set(this,[]),Xu.set(this,void 0),ep.set(this,void 0),tp.set(this,void 0),ip.set(this,void 0),np.set(this,void 0),rp.set(this,void 0),sp.set(this,void 0),op.set(this,void 0),ap.set(this,!1),lp.set(this,!1),cp.set(this,!1),dp.set(this,void 0),up.set(this,0),pp.set(this,void 0),hp.set(this,void 0),fp.set(this,0),vp.set(this,[]),mp.set(this,!1),gp.set(this,null);const c={autoPlayAdBreaks:!0,customClick:{enabled:!1,label:"Click here for more info"},audioSkip:{enabled:!0,label:"Skip Ad",remainingLabel:"Skip in [[secs]] seconds"},debug:!1,enablePreloading:!1,language:"en",loop:!1,numRedirects:4,publisherId:void 0,sdkPath:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",sessionId:void 0,src:[],vpaidMode:"enabled"};_p(this,Zu,e,"f"),_p(this,Xu,t,"f"),_p(this,Yu,e.getMedia(),"f"),_p(this,Qu,e.getElement(),"f"),_p(this,ap,i||!1,"f"),_p(this,Hu,e.getElement().muted,"f"),_p(this,lp,n||!1,"f"),_p(this,dp,Object.assign(Object.assign({},c),r),"f"),(null==r?void 0:r.customClick)&&Object.keys(r.customClick).length&&(bp(this,dp,"f").customClick=Object.assign(Object.assign({},c.customClick),r.customClick)),_p(this,cp,!1,"f"),_p(this,pp,bp(this,Qu,"f").volume,"f"),_p(this,$u,bp(this,pp,"f"),"f");const d=(null===(s=bp(this,dp,"f"))||void 0===s?void 0:s.debug)?null===(a=null===(o=bp(this,dp,"f"))||void 0===o?void 0:o.sdkPath)||void 0===a?void 0:a.replace(/(\.js$)/,"_debug.js"):null===(l=bp(this,dp,"f"))||void 0===l?void 0:l.sdkPath;this.load=this.load.bind(this),this.resizeAds=this.resizeAds.bind(this),this._handleClickInContainer=this._handleClickInContainer.bind(this),this._handleSkipAds=this._handleSkipAds.bind(this),this._loaded=this._loaded.bind(this),this._error=this._error.bind(this),this._assign=this._assign.bind(this),this._contentLoadedAction=this._contentLoadedAction.bind(this),this._loadedMetadataHandler=this._loadedMetadataHandler.bind(this),this._contentEndedListener=this._contentEndedListener.bind(this),this._handleResizeAds=this._handleResizeAds.bind(this),this._onContentPauseRequested=this._onContentPauseRequested.bind(this),this._onContentResumeRequested=this._onContentResumeRequested.bind(this),_p(this,ep,!d||"undefined"!=typeof google&&void 0!==google.ima?new Promise((e=>{e()})):Vl(d),"f"),bp(this,ep,"f").then((()=>{this.load()})).catch((e=>{let t="Ad script could not be loaded; please check if you have an AdBlock ";t+="turned on, or if you provided a valid URL is correct",console.error(`Ad error: ${t}.`);const i=ql("playererror",{detail:{data:e,message:t,type:"Ads"}});bp(this,Qu,"f").dispatchEvent(i)}))}load(e=!1){var t,i,n;if("undefined"==typeof google||!google.ima||!e&&this.loadedAd&&bp(this,dp,"f").autoPlayAdBreaks)return;if(!bp(this,dp,"f").autoPlayAdBreaks&&!e)return;this.loadedAd=!0;const r=bp(this,Zu,"f").getContainer().querySelector(".op-ads");if(r&&r.parentNode&&r.parentNode.removeChild(r),_p(this,Wu,!0,"f"),_p(this,ip,document.createElement("div"),"f"),bp(this,ip,"f").className="op-ads",bp(this,ip,"f").tabIndex=-1,bp(this,Qu,"f").parentElement&&bp(this,Qu,"f").parentElement.insertBefore(bp(this,ip,"f"),bp(this,Qu,"f").nextSibling),bp(this,ip,"f").addEventListener("click",this._handleClickInContainer),(null===(t=bp(this,dp,"f").customClick)||void 0===t?void 0:t.enabled)&&(_p(this,np,document.createElement("div"),"f"),bp(this,np,"f").className="op-ads__click-container",bp(this,np,"f").innerHTML=`<div class="op-ads__click-label">${bp(this,dp,"f").customClick.label}</div>`,bp(this,Qu,"f").parentElement&&bp(this,Qu,"f").parentElement.insertBefore(bp(this,np,"f"),bp(this,Qu,"f").nextSibling)),Wl(bp(this,Qu,"f"))&&(null===(i=bp(this,dp,"f").audioSkip)||void 0===i?void 0:i.enabled)){if(null===(n=bp(this,dp,"f").audioSkip)||void 0===n?void 0:n.element){const{element:e}=bp(this,dp,"f").audioSkip||{};if("string"==typeof e){const t=document.getElementById(e);t&&_p(this,rp,t,"f")}else e instanceof HTMLElement&&_p(this,rp,e,"f")}else _p(this,rp,document.createElement("button"),"f"),bp(this,rp,"f").className="op-ads__skip hidden",bp(this,Zu,"f").getControls().getContainer().appendChild(bp(this,rp,"f"));bp(this,rp,"f")&&bp(this,rp,"f").addEventListener("click",this._handleSkipAds,Ul)}_p(this,vp,bp(this,Yu,"f").src,"f");const s={disabled:google.ima.ImaSdkSettings.VpaidMode.DISABLED,enabled:google.ima.ImaSdkSettings.VpaidMode.ENABLED,insecure:google.ima.ImaSdkSettings.VpaidMode.INSECURE};google.ima.settings.setVpaidMode(s[bp(this,dp,"f").vpaidMode||"enabled"]),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),google.ima.settings.setAutoPlayAdBreaks(bp(this,dp,"f").autoPlayAdBreaks),google.ima.settings.setNumRedirects(bp(this,dp,"f").numRedirects),google.ima.settings.setLocale(bp(this,dp,"f").language),bp(this,dp,"f").sessionId&&google.ima.settings.setSessionId(bp(this,dp,"f").sessionId),bp(this,dp,"f").publisherId&&google.ima.settings.setPpid(bp(this,dp,"f").publisherId),google.ima.settings.setPlayerType("openplayerjs"),google.ima.settings.setPlayerVersion("3.0.0"),_p(this,sp,new google.ima.AdDisplayContainer(bp(this,ip,"f"),bp(this,Qu,"f"),bp(this,np,"f")),"f"),_p(this,tp,new google.ima.AdsLoader(bp(this,sp,"f")),"f"),bp(this,tp,"f").addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded,Ul),bp(this,tp,"f").addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error,Ul),"undefined"!=typeof window&&window.addEventListener("resize",this._handleResizeAds,Ul),bp(this,Qu,"f").addEventListener("loadedmetadata",this._handleResizeAds,Ul),!0!==bp(this,ap,"f")&&!0!==bp(this,lp,"f")&&!0!==e&&!0!==bp(this,dp,"f").enablePreloading&&!0!==bp(this,cp,"f")||(bp(this,Uu,"f")||(_p(this,Uu,!0,"f"),bp(this,sp,"f").initialize()),this._requestAds())}play(){return yp(this,void 0,void 0,(function*(){if(!bp(this,Uu,"f"))return _p(this,cp,!0,"f"),void this._initNotDoneAds();if(bp(this,Gu,"f"))try{bp(this,Vu,"f")||!1!==bp(this,Bu,"f")?bp(this,Gu,"f").resume():bp(this,Gu,"f").start(),_p(this,Bu,!0,"f");const e=ql("play");bp(this,Qu,"f").dispatchEvent(e)}catch(e){this._resumeMedia()}}))}pause(){if(bp(this,Gu,"f")){_p(this,Bu,!1,"f"),bp(this,Gu,"f").pause();const e=ql("pause");bp(this,Qu,"f").dispatchEvent(e)}}destroy(){var e,t;bp(this,Gu,"f")&&(bp(this,Gu,"f").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error),bp(this,Ju,"f")&&bp(this,Ju,"f").forEach((e=>{bp(this,Gu,"f").removeEventListener(e,this._assign)}))),_p(this,Ju,[],"f");const i=bp(this,Zu,"f").getControls(),n=i?i.events.mouse:{};Object.keys(n).forEach((e=>{bp(this,ip,"f")&&bp(this,ip,"f").removeEventListener(e,n[e])})),bp(this,tp,"f")&&(bp(this,tp,"f").removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error),bp(this,tp,"f").removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded));const r=!Array.isArray(bp(this,Xu,"f"))||bp(this,up,"f")>bp(this,Xu,"f").length;bp(this,Gu,"f")&&r&&bp(this,Gu,"f").destroy(),(null===(e=bp(this,dp,"f").customClick)||void 0===e?void 0:e.enabled)&&bp(this,np,"f")&&bp(this,np,"f").remove(),(null===(t=bp(this,dp,"f").audioSkip)||void 0===t?void 0:t.enabled)&&bp(this,rp,"f")&&(bp(this,rp,"f").removeEventListener("click",this._handleSkipAds),bp(this,rp,"f").remove()),(Nl||jl)&&bp(this,Qu,"f").removeEventListener("loadedmetadata",this._contentLoadedAction),bp(this,Qu,"f").removeEventListener("loadedmetadata",this._handleResizeAds),bp(this,Qu,"f").removeEventListener("loadedmetadata",this._loadedMetadataHandler),bp(this,Qu,"f").removeEventListener("ended",this._contentEndedListener),"undefined"!=typeof window&&window.removeEventListener("resize",this._handleResizeAds),bp(this,ip,"f")&&(bp(this,ip,"f").removeEventListener("click",this._handleClickInContainer),bp(this,ip,"f").remove()),this.loadPromise=null,this.loadedAd=!1,_p(this,Uu,!1,"f"),_p(this,cp,!1,"f"),_p(this,qu,0,"f"),_p(this,Ku,0,"f"),_p(this,gp,null,"f")}resizeAds(e,t){if(bp(this,Gu,"f")){const i=bp(this,Qu,"f"),n="true"===i.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;let r=e;const s=e?e.toString():"";e&&s.indexOf("%")>-1&&bp(this,Qu,"f").parentElement&&(r=bp(this,Qu,"f").parentElement.offsetWidth*(parseInt(s,10)/100));let o=t;const a=t?t.toString():"";let l;t&&a.indexOf("%")>-1&&bp(this,Qu,"f").parentElement&&(o=bp(this,Qu,"f").parentElement.offsetHeight*(parseInt(a,10)/100)),l&&"undefined"!=typeof window&&window.cancelAnimationFrame(l),"undefined"!=typeof window&&(l=window.requestAnimationFrame((()=>{bp(this,Gu,"f").resize(r||i.offsetWidth,o||i.offsetHeight,n)})))}}getAdsManager(){return bp(this,Gu,"f")}getAdsLoader(){return bp(this,tp,"f")}started(){return bp(this,Wu,"f")}set src(e){_p(this,Xu,e,"f")}set isDone(e){_p(this,Uu,e,"f")}set playRequested(e){_p(this,cp,e,"f")}set volume(e){bp(this,Gu,"f")&&(_p(this,$u,e,"f"),bp(this,Gu,"f").setVolume(e),this._setMediaVolume(e),_p(this,Hu,0===e,"f"))}get volume(){return bp(this,Gu,"f")?bp(this,Gu,"f").getVolume():bp(this,pp,"f")}set muted(e){bp(this,Gu,"f")&&(e?(bp(this,Gu,"f").setVolume(0),_p(this,Hu,!0,"f"),this._setMediaVolume(0)):(bp(this,Gu,"f").setVolume(bp(this,$u,"f")),_p(this,Hu,!1,"f"),this._setMediaVolume(bp(this,$u,"f"))))}get muted(){return bp(this,Hu,"f")}set currentTime(e){_p(this,Ku,e,"f")}get currentTime(){return bp(this,Ku,"f")}get duration(){return bp(this,qu,"f")}get paused(){return!bp(this,Bu,"f")}get ended(){return bp(this,zu,"f")}_assign(e){var t,i;const n=e.getAd();switch(n&&_p(this,gp,n,"f"),e.type){case google.ima.AdEvent.Type.LOADED:if(n.isLinear()){if(Ol&&Bl(bp(this,Qu,"f"))&&(bp(this,Qu,"f").controls=!1),_p(this,qu,n.getDuration(),"f"),_p(this,Ku,n.getDuration(),"f"),!bp(this,mp,"f")&&!Nl&&!jl){const e=ql("waiting");bp(this,Qu,"f").dispatchEvent(e);const t=ql("loadedmetadata");bp(this,Qu,"f").dispatchEvent(t),this.resizeAds()}}else this._onContentResumeRequested();break;case google.ima.AdEvent.Type.STARTED:if(n.isLinear()){bp(this,Qu,"f").parentElement&&!bp(this,Qu,"f").parentElement.classList.contains("op-ads--active")&&bp(this,Qu,"f").parentElement.classList.add("op-ads--active"),bp(this,Yu,"f").paused||bp(this,Yu,"f").pause(),_p(this,Bu,!0,"f");const e=ql("play");let t;if(bp(this,Qu,"f").dispatchEvent(e),t||(this.resizeAds(),t=!0),bp(this,Yu,"f").ended){_p(this,zu,!1,"f");const e=ql("adsmediaended");bp(this,Qu,"f").dispatchEvent(e)}"undefined"!=typeof window&&_p(this,Vu,window.setInterval((()=>{if(!0===bp(this,Bu,"f")){_p(this,Ku,Math.round(bp(this,Gu,"f").getRemainingTime()),"f");const e=ql("timeupdate");bp(this,Qu,"f").dispatchEvent(e)}}),350),"f")}break;case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.SKIPPED:if(n.isLinear()){if(e.type===google.ima.AdEvent.Type.SKIPPED){const e=ql("adsskipped");bp(this,Qu,"f").dispatchEvent(e)}bp(this,Qu,"f").parentElement&&bp(this,Qu,"f").parentElement.classList.remove("op-ads--active"),_p(this,Bu,!1,"f"),clearInterval(bp(this,Vu,"f"))}break;case google.ima.AdEvent.Type.VOLUME_CHANGED:this._setMediaVolume(this.volume);break;case google.ima.AdEvent.Type.VOLUME_MUTED:if(n.isLinear()){const e=ql("volumechange");bp(this,Qu,"f").dispatchEvent(e)}break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(n.isLinear()&&(_p(this,Bu,!1,"f"),_p(this,zu,!0,"f"),_p(this,Vu,0,"f"),_p(this,Hu,!1,"f"),_p(this,Wu,!1,"f"),_p(this,gp,null,"f"),bp(this,Qu,"f").parentElement&&bp(this,Qu,"f").parentElement.classList.remove("op-ads--active"),this.destroy(),bp(this,Qu,"f").currentTime>=bp(this,Qu,"f").duration)){const e=ql("ended");bp(this,Qu,"f").dispatchEvent(e)}break;case google.ima.AdEvent.Type.CLICK:const r=ql("pause");bp(this,Qu,"f").dispatchEvent(r);break;case google.ima.AdEvent.Type.AD_BREAK_READY:bp(this,dp,"f").autoPlayAdBreaks||this.play();break;case google.ima.AdEvent.Type.AD_PROGRESS:const s=e.getAdData(),o=bp(this,gp,"f")?bp(this,gp,"f").getSkipTimeOffset():-1;if(bp(this,rp,"f"))if(-1!==o){const e=bp(this,Gu,"f").getAdSkippableState(),n=Math.ceil(o-s.currentTime);bp(this,rp,"f").classList.remove("hidden"),e?(bp(this,rp,"f").textContent=(null===(t=bp(this,dp,"f").audioSkip)||void 0===t?void 0:t.label)||"",bp(this,rp,"f").classList.remove("disabled")):(bp(this,rp,"f").textContent=(null===(i=bp(this,dp,"f").audioSkip)||void 0===i?void 0:i.remainingLabel.replace("[[secs]]",n.toString()))||"",bp(this,rp,"f").classList.add("disabled"))}else bp(this,rp,"f").classList.add("hidden")}if(e.type===google.ima.AdEvent.Type.LOG){const t=e.getAdData();if(t.adError){const e=t.adError.getMessage();console.warn(`Ad warning: Non-fatal error occurred: ${e}`);const i=ql("playererror",{detail:{data:t.adError,message:e,type:"Ads"}});bp(this,Qu,"f").dispatchEvent(i)}}else{const t=ql(`ads${e.type}`);bp(this,Qu,"f").dispatchEvent(t)}}_error(e){var t;const i=e.getError(),n=ql("playererror",{detail:{data:i,message:i.toString(),type:"Ads"}});bp(this,Qu,"f").dispatchEvent(n);const r=[100,101,102,300,301,302,303,400,401,402,403,405,406,407,408,409,410,500,501,502,503,900,901,1005];Array.isArray(bp(this,Xu,"f"))&&bp(this,Xu,"f").length>1&&bp(this,up,"f")<bp(this,Xu,"f").length-1?(_p(this,up,(t=bp(this,up,"f"),++t),"f"),this.destroy(),_p(this,Wu,!0,"f"),_p(this,cp,!0,"f"),this.load(!0),console.warn(`Ad warning: ${i.toString()}`)):(r.indexOf(i.getErrorCode())>-1?(bp(this,Gu,"f")&&bp(this,Gu,"f").destroy(),console.error(`Ad error: ${i.toString()}`)):console.warn(`Ad warning: ${i.toString()}`),_p(this,gp,null,"f"),!0!==bp(this,ap,"f")&&!0!==bp(this,lp,"f")&&!0!==bp(this,Wu,"f")||(_p(this,Bu,!1,"f"),this._resumeMedia()))}_loaded(e){const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!1,t.enablePreloading=bp(this,dp,"f").enablePreloading,_p(this,Gu,e.getAdsManager(bp(this,Qu,"f"),t),"f"),this._start(bp(this,Gu,"f")),this.loadPromise=new Promise((e=>{e()}))}_start(e){bp(this,np,"f")&&e.isCustomClickTrackingUsed()&&bp(this,np,"f").classList.add("op-ads__click-container--visible"),e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,Ul),e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,Ul),_p(this,Ju,[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.VIDEO_CLICKED,google.ima.AdEvent.Type.VIDEO_ICON_CLICKED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdEvent.Type.LOG],"f"),bp(this,dp,"f").autoPlayAdBreaks||bp(this,Ju,"f").push(google.ima.AdEvent.Type.AD_BREAK_READY);const t=bp(this,Zu,"f").getControls(),i=t?t.events.mouse:{};if(Object.keys(i).forEach((e=>{bp(this,ip,"f")&&bp(this,ip,"f").addEventListener(e,i[e],Ul)})),bp(this,Ju,"f").forEach((t=>{e.addEventListener(t,this._assign,Ul)})),!0===bp(this,ap,"f")||!0===bp(this,lp,"f")||!0===bp(this,cp,"f")){if(_p(this,cp,!1,"f"),!bp(this,Uu,"f"))return void this._initNotDoneAds();e.init(bp(this,Qu,"f").offsetWidth,bp(this,Qu,"f").offsetHeight,bp(this,Qu,"f").parentElement&&"true"===bp(this,Qu,"f").parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.start();const t=ql("play");bp(this,Qu,"f").dispatchEvent(t)}else!0===bp(this,dp,"f").enablePreloading&&e.init(bp(this,Qu,"f").offsetWidth,bp(this,Qu,"f").offsetHeight,bp(this,Qu,"f").parentElement&&"true"===bp(this,Qu,"f").parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}_initNotDoneAds(){bp(this,sp,"f")?(_p(this,Uu,!0,"f"),bp(this,sp,"f").initialize(),Nl||jl?(_p(this,hp,this._contentLoadedAction,"f"),bp(this,Qu,"f").addEventListener("loadedmetadata",this._contentLoadedAction,Ul),bp(this,Qu,"f").load()):this._contentLoadedAction()):(this.load(),this.loadedAd=!1)}_contentEndedListener(){_p(this,zu,!0,"f"),_p(this,Bu,!1,"f"),_p(this,Wu,!1,"f"),bp(this,tp,"f").contentComplete()}_onContentPauseRequested(){bp(this,Qu,"f").removeEventListener("ended",this._contentEndedListener),_p(this,fp,bp(this,Yu,"f").currentTime,"f"),bp(this,Wu,"f")?bp(this,Yu,"f").pause():_p(this,Wu,!0,"f");const e=ql("play");bp(this,Qu,"f").dispatchEvent(e)}_onContentResumeRequested(){if(bp(this,Qu,"f").addEventListener("ended",this._contentEndedListener,Ul),bp(this,Qu,"f").addEventListener("loadedmetadata",this._loadedMetadataHandler,Ul),Nl||jl)bp(this,Yu,"f").src=bp(this,vp,"f"),bp(this,Yu,"f").load(),this._prepareMedia(),bp(this,Qu,"f").parentElement&&bp(this,Qu,"f").parentElement.classList.add("op-ads--active");else{const e=ql("loadedmetadata");bp(this,Qu,"f").dispatchEvent(e)}}_loadedMetadataHandler(){var e;Array.isArray(bp(this,Xu,"f"))?(_p(this,up,(e=bp(this,up,"f"),++e),"f"),bp(this,up,"f")<=bp(this,Xu,"f").length-1?(bp(this,Gu,"f")&&bp(this,Gu,"f").destroy(),bp(this,tp,"f").contentComplete(),_p(this,cp,!0,"f"),_p(this,Wu,!0,"f"),_p(this,Uu,!1,"f"),this.load(!0)):(bp(this,dp,"f").autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia())):bp(this,Qu,"f").seekable.length?bp(this,Qu,"f").seekable.end(0)>bp(this,fp,"f")&&(bp(this,dp,"f").autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia()):setTimeout(this._loadedMetadataHandler,100)}_resumeMedia(){if(_p(this,Vu,0,"f"),_p(this,Hu,!1,"f"),_p(this,Wu,!1,"f"),_p(this,qu,0,"f"),_p(this,Ku,0,"f"),bp(this,Qu,"f").parentElement&&bp(this,Qu,"f").parentElement.classList.remove("op-ads--active"),bp(this,Yu,"f").ended){const e=ql("ended");bp(this,Qu,"f").dispatchEvent(e)}else try{bp(this,Yu,"f").play(),setTimeout((()=>{const e=ql("play");bp(this,Qu,"f").dispatchEvent(e)}),50)}catch(e){console.error(e)}}_requestAds(){_p(this,op,new google.ima.AdsRequest,"f");const e=Array.isArray(bp(this,Xu,"f"))?bp(this,Xu,"f")[bp(this,up,"f")]:bp(this,Xu,"f");!function(e){let t;if("undefined"==typeof DOMParser)return!1;t=e=>(new DOMParser).parseFromString(e,"text/xml");try{if(t(e).getElementsByTagName("parsererror").length>0)return!1}catch(e){return!1}return!0}(e)?bp(this,op,"f").adTagUrl=e:bp(this,op,"f").adsResponse=e;const t=bp(this,Qu,"f").parentElement?bp(this,Qu,"f").parentElement.offsetWidth:0,i=bp(this,Qu,"f").parentElement?bp(this,Qu,"f").parentElement.offsetHeight:0;bp(this,op,"f").linearAdSlotWidth=t,bp(this,op,"f").linearAdSlotHeight=i,bp(this,op,"f").nonLinearAdSlotWidth=t,bp(this,op,"f").nonLinearAdSlotHeight=i/3,bp(this,op,"f").setAdWillAutoPlay(bp(this,ap,"f")),bp(this,op,"f").setAdWillPlayMuted(bp(this,lp,"f")||bp(this,Hu,"f")),bp(this,tp,"f").requestAds(bp(this,op,"f"))}_contentLoadedAction(){bp(this,hp,"f")&&(bp(this,Qu,"f").removeEventListener("loadedmetadata",bp(this,hp,"f")),_p(this,hp,null,"f")),this._requestAds()}_resetAdsAfterManualBreak(){bp(this,Gu,"f")&&bp(this,Gu,"f").destroy(),bp(this,tp,"f").contentComplete(),_p(this,Uu,!1,"f"),_p(this,cp,!0,"f")}_prepareMedia(){bp(this,Yu,"f").currentTime=bp(this,fp,"f"),bp(this,Qu,"f").removeEventListener("loadedmetadata",this._loadedMetadataHandler),this._resumeMedia()}_setMediaVolume(e){bp(this,Yu,"f").volume=e,bp(this,Yu,"f").muted=0===e}_handleClickInContainer(){if(bp(this,Yu,"f").paused){const e=ql("paused");bp(this,Qu,"f").dispatchEvent(e),this.pause()}}_handleResizeAds(){this.resizeAds()}_handleSkipAds(){bp(this,Gu,"f").skip()}};var Ep,Ap,kp,xp,Sp,Lp,Cp,Mp,Tp,Ip,Pp,Dp,Op,Np,jp,Rp,Fp=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},zp=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},Up=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};class Bp{static init(){Bp.instances={};const e=document.querySelectorAll("video.op-player, audio.op-player");for(let t=0,i=e.length;t<i;t++){const i=e[t],n=i.getAttribute("data-op-settings"),r=n?JSON.parse(n):{};new Bp(i,r).init()}}static addMedia(e,t,i,n){Bp.customMedia.media[t]=n,Bp.customMedia.optionsKey[t]=e,Bp.customMedia.rules.push(i)}constructor(e,t){var i;this.proxy=null,Ep.set(this,void 0),Ap.set(this,void 0),kp.set(this,""),xp.set(this,void 0),Sp.set(this,void 0),Lp.set(this,void 0),Cp.set(this,{}),Mp.set(this,!1),Tp.set(this,void 0),Ip.set(this,!1),Pp.set(this,!1),Dp.set(this,!1),Op.set(this,void 0),Np.set(this,[]),jp.set(this,void 0),Rp.set(this,{controls:{alwaysVisible:!1,layers:{left:["play","time","volume"],middle:["progress"],right:["captions","settings","fullscreen"]}},defaultLevel:void 0,detachMenus:!1,forceNative:!1,height:0,hidePlayBtnTimer:350,labels:{auto:"Auto",captions:"CC/Subtitles",click:"Click to unmute",fullscreen:"Fullscreen",lang:{en:"English"},levels:"Quality Levels",live:"Live Broadcast",mediaLevels:"Change Quality",mute:"Mute",off:"Off",pause:"Pause",play:"Play",progressRail:"Time Rail",progressSlider:"Time Slider",settings:"Player Settings",speed:"Speed",speedNormal:"Normal",tap:"Tap to unmute",toggleCaptions:"Toggle Captions",unmute:"Unmute",volume:"Volume",volumeControl:"Volume Control",volumeSlider:"Volume Slider"},live:{showLabel:!0,showProgress:!1},media:{pauseOnClick:!1},mode:"responsive",onError:e=>console.error(e),pauseOthers:!0,progress:{allowRewind:!0,allowSkip:!0,duration:0,showCurrentTimeOnly:!1},showLoaderOnInit:!1,startTime:0,startVolume:1,step:0,useDeviceVolume:!0,width:0}),zp(this,xp,e instanceof HTMLMediaElement?e:document.getElementById(e),"f"),Up(this,xp,"f")&&(zp(this,Mp,Up(this,xp,"f").autoplay||!1,"f"),"string"==typeof t||Array.isArray(t)||this._mergeOptions(t),Up(this,xp,"f").volume=Up(this,Op,"f").startVolume||1,Up(this,Op,"f").ads&&Up(this,Op,"f").ads.src&&zp(this,Sp,Up(this,Op,"f").ads.src,"f"),((null===(i=Up(this,Op,"f"))||void 0===i?void 0:i.startTime)||0)>0&&(Up(this,xp,"f").currentTime=Up(this,Op,"f").startTime||0),zp(this,Tp,Up(this,xp,"f").volume,"f")),this._autoplay=this._autoplay.bind(this),this._enableKeyBindings=this._enableKeyBindings.bind(this)}init(){return Fp(this,void 0,void 0,(function*(){this._isValid()&&(this._wrapInstance(),yield this._prepareMedia(),this._createPlayButton(),this._createUID(),this._createControls(),this._setEvents(),Bp.instances[this.id]=this)}))}load(){return Fp(this,void 0,void 0,(function*(){return Up(this,Lp,"f")?(Up(this,Lp,"f").loaded=!1,this.isMedia()?Up(this,Lp,"f").load():void 0):(yield this._prepareMedia(),Up(this,Lp,"f").load())}))}play(){return Fp(this,void 0,void 0,(function*(){return Up(this,Lp,"f").loaded||(yield Up(this,Lp,"f").load(),Up(this,Lp,"f").loaded=!0),Up(this,Ap,"f")?(Up(this,Ap,"f").playRequested=!0,yield Up(this,Ap,"f").loadPromise,Up(this,Ap,"f").play()):Up(this,Lp,"f").play()}))}pause(){Up(this,Ap,"f")?Up(this,Ap,"f").pause():Up(this,Lp,"f").pause()}stop(){this.pause(),Up(this,Lp,"f")&&(Up(this,Lp,"f").currentTime=0,this.src=[{src:"",type:"video/mp4"}])}destroy(){var e;Up(this,Ap,"f")&&(Up(this,Ap,"f").pause(),Up(this,Ap,"f").destroy()),Up(this,jp,"f")&&Up(this,jp,"f").destroy();const t=Up(this,xp,"f");Up(this,Lp,"f")&&Up(this,Lp,"f").destroy(),Object.keys(Up(this,Cp,"f")).forEach((e=>{t.removeEventListener(e,Up(this,Cp,"f")[e])})),this.getContainer().removeEventListener("keydown",this._enableKeyBindings),Up(this,Mp,"f")&&!Up(this,Dp,"f")&&Bl(Up(this,xp,"f"))&&t.removeEventListener("canplay",this._autoplay),Up(this,Ep,"f")&&Up(this,Ep,"f").destroy(),Bl(Up(this,xp,"f"))&&(this.playBtn&&this.playBtn.remove(),this.loader&&this.loader.remove()),(null===(e=Up(this,Op,"f"))||void 0===e?void 0:e.onError)&&Up(this,xp,"f").removeEventListener("playererror",Up(this,Op,"f").onError),t.controls=!0,t.setAttribute("id",Up(this,kp,"f")),t.removeAttribute("op-live__enabled"),t.removeAttribute("op-dvr__enabled");const i="fit"!==Up(this,Op,"f").mode||Wl(t)?t.parentElement:t.closest(".op-player__fit--wrapper");i&&i.parentNode&&i.parentNode.replaceChild(t,i),delete Bp.instances[Up(this,kp,"f")];const n=ql("playerdestroyed");t.dispatchEvent(n)}getContainer(){return Up(this,xp,"f").parentElement||Up(this,xp,"f")}getControls(){return Up(this,Ep,"f")}getCustomControls(){return Up(this,Np,"f")}getElement(){return Up(this,xp,"f")}getEvents(){return Up(this,Cp,"f")}getOptions(){return Up(this,Op,"f")}activeElement(){return Up(this,Ap,"f")&&Up(this,Ap,"f").started()?Up(this,Ap,"f"):Up(this,Lp,"f")}isMedia(){return this.activeElement()instanceof Fu}isAd(){return this.activeElement()instanceof wp}getMedia(){return Up(this,Lp,"f")}getAd(){return Up(this,Ap,"f")}addCaptions(e){if(e.default){const e=Up(this,xp,"f").querySelectorAll("track");for(let t=0,i=e.length;t<i;t++)e[t].default=!1}const t=Up(this,xp,"f");let i=t.querySelector(`track[srclang="${e.srclang}"][kind="${e.kind}"]`);i?(i.src=e.src,i.label=e.label,i.default=e.default||!1):(i=document.createElement("track"),i.srclang=e.srclang,i.src=e.src,i.kind=e.kind,i.label=e.label,i.default=e.default||!1,t.appendChild(i));const n=ql("controlschanged");t.dispatchEvent(n)}addControl(e){e.custom=!0,e.type="button",Up(this,Np,"f").push(e);const t=ql("controlschanged");Up(this,xp,"f").dispatchEvent(t)}addElement(e){e.custom=!0,Up(this,Np,"f").push(e);const t=ql("controlschanged");Up(this,xp,"f").dispatchEvent(t)}removeControl(e){Up(this,Np,"f").forEach(((t,i)=>{t.id===e&&Up(this,Np,"f").splice(i,1)}));const t=ql("controlschanged");Up(this,xp,"f").dispatchEvent(t)}_prepareMedia(){var e;return Fp(this,void 0,void 0,(function*(){try{(null===(e=Up(this,Op,"f"))||void 0===e?void 0:e.onError)&&Up(this,xp,"f").addEventListener("playererror",Up(this,Op,"f").onError,Ul),Up(this,Mp,"f")&&Bl(Up(this,xp,"f"))&&Up(this,xp,"f").addEventListener("canplay",this._autoplay,Ul),zp(this,Lp,new Fu(Up(this,xp,"f"),Up(this,Op,"f"),Up(this,Mp,"f"),Bp.customMedia),"f");const t=Up(this,xp,"f").getAttribute("preload");if(!Up(this,Sp,"f")&&t&&"none"===t||(yield Up(this,Lp,"f").load(),Up(this,Lp,"f").loaded=!0),!Up(this,Mp,"f")&&Up(this,Sp,"f")){const e=Up(this,Op,"f")&&Up(this,Op,"f").ads?Up(this,Op,"f").ads:void 0;zp(this,Ap,new wp(this,Up(this,Sp,"f"),!1,!1,e),"f")}}catch(e){console.error(e)}}))}enableDefaultPlayer(){let e=!0,t=0;this.proxy&&!this.proxy.paused&&(e=!1,t=this.proxy.currentTime,this.proxy.pause()),this.proxy=this,this.getElement().addEventListener("loadedmetadata",(()=>{this.getMedia().currentTime=t,e||this.play()}))}loadAd(e){return Fp(this,void 0,void 0,(function*(){try{if(this.isAd())this.getAd().destroy(),this.getAd().src=e,this.getAd().loadedAd=!1,this.getAd().load();else{const t=Up(this,Op,"f")&&Up(this,Op,"f").ads?Up(this,Op,"f").ads:void 0,i=!this.activeElement().paused||Up(this,Ip,"f");zp(this,Ap,new wp(this,e,i,Up(this,Pp,"f"),t),"f")}}catch(e){console.error(e)}}))}set src(e){Up(this,Lp,"f")instanceof Fu?(Up(this,Lp,"f").mediaFiles=[],Up(this,Lp,"f").src=e):"string"==typeof e?Up(this,xp,"f").src=e:Array.isArray(e)?e.forEach((e=>{const t=document.createElement("source");t.src=e.src,t.type=e.type||Ec(e.src,Up(this,xp,"f")),Up(this,xp,"f").appendChild(t)})):"object"==typeof e&&(Up(this,xp,"f").src=e.src)}get src(){return Up(this,Lp,"f").src}get id(){return Up(this,kp,"f")}_isValid(){const e=Up(this,xp,"f");return e instanceof HTMLElement!=!1&&(!(!Wl(e)&&!Bl(e))&&!!e.classList.contains("op-player__media"))}_wrapInstance(){const e=document.createElement("div");e.className="op-player op-player__keyboard--inactive",e.className+=Wl(Up(this,xp,"f"))?" op-player__audio":" op-player__video",e.tabIndex=0,Up(this,xp,"f").classList.remove("op-player"),Up(this,xp,"f").parentElement&&Up(this,xp,"f").parentElement.insertBefore(e,Up(this,xp,"f")),e.appendChild(Up(this,xp,"f"));const t=document.createElement("div");if(t.className="op-status",t.innerHTML="<span></span>",t.tabIndex=-1,t.setAttribute("aria-hidden","true"),Bl(Up(this,xp,"f"))&&Up(this,xp,"f").parentElement&&Up(this,xp,"f").parentElement.insertBefore(t,Up(this,xp,"f")),e.addEventListener("keydown",(()=>{e.classList.contains("op-player__keyboard--inactive")&&e.classList.remove("op-player__keyboard--inactive")}),Ul),e.addEventListener("click",(()=>{e.classList.contains("op-player__keyboard--inactive")||e.classList.add("op-player__keyboard--inactive")}),Ul),"fill"!==Up(this,Op,"f").mode||Wl(Up(this,xp,"f"))||Ol)if("fit"!==Up(this,Op,"f").mode||Wl(Up(this,xp,"f"))){let t="";if(Up(this,Op,"f").width){t+=`width: ${"number"==typeof Up(this,Op,"f").width?`${Up(this,Op,"f").width}px`:Up(this,Op,"f").width} !important;`}if(Up(this,Op,"f").height){t+=`height: ${"number"==typeof Up(this,Op,"f").height?`${Up(this,Op,"f").height}px`:Up(this,Op,"f").height} !important;`}t&&e.setAttribute("style",t)}else{const e=this.getContainer();if(e.parentElement){const t=document.createElement("div");t.className="op-player__fit--wrapper",t.tabIndex=0,e.parentElement.insertBefore(t,e),t.appendChild(e),e.classList.add("op-player__fit")}}else this.getContainer().classList.add("op-player__full")}_createControls(){Ol&&Bl(Up(this,xp,"f"))&&this.getContainer().classList.add("op-player__ios--iphone"),zp(this,Ep,new $d(this),"f"),Up(this,Ep,"f").create()}_createUID(){Up(this,xp,"f").id?(zp(this,kp,Up(this,xp,"f").id,"f"),Up(this,xp,"f").removeAttribute("id")):zp(this,kp,`op_${crypto.getRandomValues(new Uint32Array(1))[0].toString(36).substring(2,9)}`,"f"),Up(this,xp,"f").parentElement&&(Up(this,xp,"f").parentElement.id=Up(this,kp,"f"))}_createPlayButton(){var e,t;Wl(Up(this,xp,"f"))||(this.playBtn=document.createElement("button"),this.playBtn.className="op-player__play",this.playBtn.tabIndex=0,this.playBtn.title=(null===(e=Up(this,Op,"f").labels)||void 0===e?void 0:e.play)||"",this.playBtn.innerHTML=`<span>${(null===(t=Up(this,Op,"f").labels)||void 0===t?void 0:t.play)||""}</span>`,this.playBtn.setAttribute("aria-pressed","false"),this.playBtn.setAttribute("aria-hidden","false"),this.loader=document.createElement("span"),this.loader.className="op-player__loader",this.loader.tabIndex=-1,this.loader.setAttribute("aria-hidden","true"),Up(this,xp,"f").parentElement&&(Up(this,xp,"f").parentElement.insertBefore(this.loader,Up(this,xp,"f")),Up(this,xp,"f").parentElement.insertBefore(this.playBtn,Up(this,xp,"f"))),this.playBtn.addEventListener("click",(()=>{Up(this,Ap,"f")&&(Up(this,Ap,"f").playRequested=this.activeElement().paused),this.activeElement().paused?this.activeElement().play():this.activeElement().pause()}),Ul))}_setEvents(){if(Bl(Up(this,xp,"f"))){Up(this,Cp,"f").loadedmetadata=()=>{const e=this.activeElement();!Up(this,Op,"f").showLoaderOnInit||Nl||jl?(this.loader.setAttribute("aria-hidden","true"),this.playBtn.setAttribute("aria-hidden","false")):(this.loader.setAttribute("aria-hidden","false"),this.playBtn.setAttribute("aria-hidden","true")),e.paused&&(this.playBtn.classList.remove("op-player__play--paused"),this.playBtn.setAttribute("aria-pressed","false"))},Up(this,Cp,"f").waiting=()=>{this.playBtn.setAttribute("aria-hidden","true"),this.loader.setAttribute("aria-hidden","false")},Up(this,Cp,"f").seeking=()=>{const e=this.activeElement();this.playBtn.setAttribute("aria-hidden","true"),this.loader.setAttribute("aria-hidden",e instanceof Fu?"false":"true")},Up(this,Cp,"f").seeked=()=>{const e=this.activeElement();0===Math.round(e.currentTime)?(this.playBtn.setAttribute("aria-hidden","true"),this.loader.setAttribute("aria-hidden","false")):(this.playBtn.setAttribute("aria-hidden",e instanceof Fu?"false":"true"),this.loader.setAttribute("aria-hidden","true"))},Up(this,Cp,"f").play=()=>{var e;this.playBtn.classList.add("op-player__play--paused"),this.playBtn.title=(null===(e=Up(this,Op,"f").labels)||void 0===e?void 0:e.pause)||"",this.loader.setAttribute("aria-hidden","true"),Up(this,Op,"f").showLoaderOnInit?this.playBtn.setAttribute("aria-hidden","true"):setTimeout((()=>{this.playBtn.setAttribute("aria-hidden","true")}),Up(this,Op,"f").hidePlayBtnTimer)},Up(this,Cp,"f").playing=()=>{this.loader.setAttribute("aria-hidden","true"),this.playBtn.setAttribute("aria-hidden","true")},Up(this,Cp,"f").pause=()=>{var e;const t=this.activeElement();this.playBtn.classList.remove("op-player__play--paused"),this.playBtn.title=(null===(e=Up(this,Op,"f").labels)||void 0===e?void 0:e.play)||"",Up(this,Op,"f").showLoaderOnInit&&0===Math.round(t.currentTime)?(this.playBtn.setAttribute("aria-hidden","true"),this.loader.setAttribute("aria-hidden","false")):(this.playBtn.setAttribute("aria-hidden","false"),this.loader.setAttribute("aria-hidden","true"))},Up(this,Cp,"f").ended=()=>{this.loader.setAttribute("aria-hidden","true"),this.playBtn.setAttribute("aria-hidden","true")};let e=!1;Up(this,Cp,"f").timeupdate=()=>{if(Up(this,xp,"f").loop&&this.isMedia()&&Up(this,Ap,"f")){const t=this.getMedia(),i=t.duration-t.currentTime;if(i>0&&i<=.25&&!e){e=!0;const t=ql("ended");Up(this,xp,"f").dispatchEvent(t)}else 0===i&&(e=!1)}}}Object.keys(Up(this,Cp,"f")).forEach((e=>{Up(this,xp,"f").addEventListener(e,Up(this,Cp,"f")[e],Ul)})),this.getContainer().addEventListener("keydown",this._enableKeyBindings,Ul)}_autoplay(){Up(this,Dp,"f")||(zp(this,Dp,!0,"f"),Up(this,xp,"f").removeEventListener("canplay",this._autoplay),function(e,t,i,n,r){const s=e.play();void 0!==s?s.then((()=>{e.pause(),i(!0),n(!1),r()})).catch((()=>{e.volume=0,e.muted=!0,e.play().then((()=>{e.pause(),i(!0),n(!0),r()})).catch((()=>{e.volume=t,e.muted=!1,i(!1),n(!1),r()}))})):(i(!e.paused||"Promise"in window&&s instanceof Promise),e.pause(),n(!1),r())}(Up(this,xp,"f"),Up(this,Tp,"f"),(e=>{zp(this,Ip,e,"f")}),(e=>{zp(this,Pp,e,"f")}),(()=>{var e,t;if(Up(this,Pp,"f")){this.activeElement().muted=!0,this.activeElement().volume=0;const i=ql("volumechange");Up(this,xp,"f").dispatchEvent(i);const n=document.createElement("div"),r=Nl||jl?null===(e=Up(this,Op,"f").labels)||void 0===e?void 0:e.tap:null===(t=Up(this,Op,"f").labels)||void 0===t?void 0:t.click;n.className="op-player__unmute",n.innerHTML=`<span>${r}</span>`,n.tabIndex=0,n.addEventListener("click",(()=>{this.activeElement().muted=!1,this.activeElement().volume=Up(this,Tp,"f");const e=ql("volumechange");Up(this,xp,"f").dispatchEvent(e),n.remove()}),Ul);const s=this.getContainer();s.insertBefore(n,s.firstChild)}else this.activeElement().muted=Up(this,xp,"f").muted,this.activeElement().volume=Up(this,Tp,"f");if(Up(this,Sp,"f")){const e=Up(this,Op,"f")&&Up(this,Op,"f").ads?Up(this,Op,"f").ads:void 0;zp(this,Ap,new wp(this,Up(this,Sp,"f"),Up(this,Ip,"f"),Up(this,Pp,"f"),e),"f")}else(Up(this,Ip,"f")||Up(this,Pp,"f"))&&this.play()})))}_mergeOptions(e){const t=Object.assign({},e||{});zp(this,Op,Object.assign(Object.assign({},Up(this,Rp,"f")),t),"f");if(Object.keys(Up(this,Rp,"f")).filter((e=>"labels"!==e&&"object"==typeof Up(this,Rp,"f")[e])).forEach((e=>{const i=t[e]||{};i&&Object.keys(i).length&&(Up(this,Op,"f")[e]=Object.assign(Object.assign({},Up(this,Rp,"f")[e]),i))})),t.labels){const e=t.labels?Object.keys(t.labels):[];let i={};e.forEach((e=>{const n=t.labels?t.labels[e]:null;n&&"object"==typeof n&&"lang"===e?Object.keys(n).forEach((e=>{const t=n?n[e]:null;t&&(i=Object.assign(Object.assign({},i),{lang:Object.assign(Object.assign({},i.lang),{[e]:Hl(t)})}))})):n&&(i=Object.assign(Object.assign({},i),{[e]:Hl(n)}))})),Up(this,Op,"f").labels=Object.assign(Object.assign({},Up(this,Rp,"f").labels),i)}}_enableKeyBindings(e){var t,i;const n=e.which||e.keyCode||0,r=this.activeElement(),s=this.isAd(),o=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-player");switch(n){case 13:case 32:case 75:!o||13!==n&&32!==n?75===n&&(r.paused?r.play():r.pause()):r.paused?r.play():r.pause(),e.preventDefault(),e.stopPropagation();break;case 35:s||r.duration===1/0||(r.currentTime=r.duration,e.preventDefault(),e.stopPropagation());break;case 36:s||(r.currentTime=0,e.preventDefault(),e.stopPropagation());break;case 37:case 39:case 74:case 76:if(!s&&r.duration!==1/0){let t=5;const s=this.getOptions().step;s?t=74===n||76===n?2*s:s:74!==n&&76!==n||(t=10);const o=r.duration!==1/0?t:(null===(i=this.getOptions().progress)||void 0===i?void 0:i.duration)||0;r.currentTime+=37===n||74===n?-1*o:o,r.currentTime<0?r.currentTime=0:r.currentTime>=r.duration&&(r.currentTime=r.duration),e.preventDefault(),e.stopPropagation()}break;case 38:case 40:const t=38===n?Math.min(r.volume+.1,1):Math.max(r.volume-.1,0);r.volume=t,r.muted=!(t>0),e.preventDefault(),e.stopPropagation();break;case 70:Bl(Up(this,xp,"f"))&&!e.ctrlKey&&(zp(this,jp,new yc(this,"",""),"f"),void 0!==Up(this,jp,"f").fullScreenEnabled&&(Up(this,jp,"f").toggleFullscreen(),e.preventDefault(),e.stopPropagation()));break;case 77:r.muted=!r.muted,r.muted?r.volume=0:r.volume=Up(this,Tp,"f"),e.preventDefault(),e.stopPropagation();break;case 188:case 190:if(!s&&e.shiftKey){const t=r;t.playbackRate=188===n?Math.max(t.playbackRate-.25,.25):Math.min(t.playbackRate+.25,2);const i=this.getContainer().querySelector(".op-status>span");i&&(i.textContent=`${t.playbackRate}x`,i.parentElement&&i.parentElement.setAttribute("aria-hidden","false"),setTimeout((()=>{i.parentElement&&i.parentElement.setAttribute("aria-hidden","true")}),500));const s=ql("controlschanged");dispatchEvent(s),e.preventDefault(),e.stopPropagation()}else!s&&r.paused&&(r.currentTime+=.04*(188===n?-1:1),e.preventDefault(),e.stopPropagation())}}}Ep=new WeakMap,Ap=new WeakMap,kp=new WeakMap,xp=new WeakMap,Sp=new WeakMap,Lp=new WeakMap,Cp=new WeakMap,Mp=new WeakMap,Tp=new WeakMap,Ip=new WeakMap,Pp=new WeakMap,Dp=new WeakMap,Op=new WeakMap,Np=new WeakMap,jp=new WeakMap,Rp=new WeakMap,Bp.instances={},Bp.customMedia={media:{},optionsKey:{},rules:[]};const Wp=Bp;"undefined"!=typeof window&&(window.OpenPlayer=Bp,window.OpenPlayerJS=Bp,Bp.init());function Vp(e,t){for(var i in e)if("__source"!==i&&!(i in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function $p(e,t){this.props=e,this.context=t}($p.prototype=new b).isPureReactComponent=!0,$p.prototype.shouldComponentUpdate=function(e,t){return Vp(this.props,e)||Vp(this.state,t)};var Hp=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Hp&&Hp(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var qp=t.__e;t.__e=function(e,t,i,n){if(e.then)for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return null==t.__e&&(t.__e=i.__e,t.__k=i.__k),r.__c(e,t);qp(e,t,i,n)};var Kp=t.unmount;function Gp(e,t,i){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=function(e,t){for(var i in t)e[i]=t[i];return e}({},e)).__c&&(e.__c.__P===i&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Gp(e,t,i)}))),e}function Zp(e,t,i){return e&&i&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Zp(e,t,i)})),e.__c&&e.__c.__P===t&&(e.__e&&i.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=i)),e}function Yp(){this.__u=0,this.t=null,this.__b=null}function Qp(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Jp(){this.u=null,this.o=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Kp&&Kp(e)},(Yp.prototype=new b).__c=function(e,t){var i=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(i);var r=Qp(n.__v),s=!1,o=function(){s||(s=!0,i.__R=null,r?r(a):a())};i.__R=o;var a=function(){if(! --n.__u){if(n.state.__a){var e=n.state.__a;n.__v.__k[0]=Zp(e,e.__c.__P,e.__c.__O)}var t;for(n.setState({__a:n.__b=null});t=n.t.pop();)t.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(o,o)},Yp.prototype.componentWillUnmount=function(){this.t=[]},Yp.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Gp(this.__b,i,n.__O=n.__P)}this.__b=null}var r=t.__a&&g(_,null,e.fallback);return r&&(r.__u&=-33),[g(_,null,t.__a?null:e.children),r]};var Xp=function(e,t,i){if(++i[1]===i[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(i=e.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.u=i=i[2]}};(Jp.prototype=new b).__a=function(e){var t=this,i=Qp(t.__v),n=t.o.get(e);return n[0]++,function(r){var s=function(){t.props.revealOrder?(n.push(r),Xp(t,e,n)):r()};i?i(s):s()}},Jp.prototype.render=function(e){this.u=null,this.o=new Map;var t=C(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return e.children},Jp.prototype.componentDidUpdate=Jp.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,i){Xp(e,i,t)}))};var eh="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,th=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ih=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,nh=/[A-Z0-9]/g,rh="undefined"!=typeof document,sh=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};b.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(b.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var oh=t.event;function ah(){}function lh(){return this.cancelBubble}function ch(){return this.defaultPrevented}t.event=function(e){return oh&&(e=oh(e)),e.persist=ah,e.isPropagationStopped=lh,e.isDefaultPrevented=ch,e.nativeEvent=e};var dh={enumerable:!1,configurable:!0,get:function(){return this.class}},uh=t.vnode;t.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,i=e.type,n={},r=-1===i.indexOf("-");for(var s in t){var o=t[s];if(!("value"===s&&"defaultValue"in t&&null==o||rh&&"children"===s&&"noscript"===i||"class"===s||"className"===s)){var a=s.toLowerCase();"defaultValue"===s&&"value"in t&&null==t.value?s="value":"download"===s&&!0===o?o="":"translate"===a&&"no"===o?o=!1:"o"===a[0]&&"n"===a[1]?"ondoubleclick"===a?s="ondblclick":"onchange"!==a||"input"!==i&&"textarea"!==i||sh(t.type)?"onfocus"===a?s="onfocusin":"onblur"===a?s="onfocusout":ih.test(s)&&(s=a):a=s="oninput":r&&th.test(s)?s=s.replace(nh,"-$&").toLowerCase():null===o&&(o=void 0),"oninput"===a&&n[s=a]&&(s="oninputCapture"),n[s]=o}}"select"==i&&n.multiple&&Array.isArray(n.value)&&(n.value=C(t.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==i&&null!=n.defaultValue&&(n.value=C(t.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),t.class&&!t.className?(n.class=t.class,Object.defineProperty(n,"className",dh)):(t.className&&!t.class||t.class&&t.className)&&(n.class=n.className=t.className),e.props=n}(e),e.$$typeof=eh,uh&&uh(e)};var ph=t.__r;t.__r=function(e){ph&&ph(e),e.__c};var hh=t.diffed;t.diffed=function(e){hh&&hh(e);var t=e.props,i=e.__e;null!=i&&"textarea"===e.type&&"value"in t&&t.value!==i.value&&(i.value=null==t.value?"":t.value)};var fh;function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vh.apply(null,arguments)}const mh=function(e){return g("svg",vh({xmlns:"http://www.w3.org/2000/svg",width:35,height:35,fill:"none"},e),fh||(fh=g("path",{fill:"#fff",fillRule:"evenodd",d:"M19.48 9.407c-.074-.71-.15-1.445-.339-2.18-.512-1.756-1.931-2.852-3.453-2.852-.849-.003-1.922.52-2.53 1.049L8.112 9.65H5.472c-1.944 0-3.507 1.498-3.802 3.66-.25 2.076-.312 5.995 0 8.28.27 2.284 1.763 3.76 3.802 3.76h2.64l5.143 4.289c.528.458 1.46.984 2.315.984.056.002.104.002.153.002 1.551 0 2.917-1.137 3.429-2.889.193-.74.26-1.435.326-2.105l.001-.013.069-.668c.263-2.169.263-12.745 0-14.898zm5.905.064a1.32 1.32 0 0 0-1.865-.344 1.395 1.395 0 0 0-.333 1.907c1.17 1.724 1.814 4.019 1.814 6.466s-.644 4.742-1.814 6.466c-.42.619-.27 1.473.335 1.907a1.32 1.32 0 0 0 1.863-.344c1.477-2.177 2.292-5.028 2.292-8.029s-.815-5.852-2.292-8.029m2.746-4.774a1.32 1.32 0 0 1 1.863.345c2.288 3.368 3.548 7.794 3.548 12.458 0 4.667-1.26 9.092-3.548 12.46a1.315 1.315 0 0 1-1.861.345 1.396 1.396 0 0 1-.336-1.908c1.978-2.915 3.069-6.786 3.069-10.897 0-4.11-1.09-7.98-3.07-10.896a1.397 1.397 0 0 1 .335-1.907",clipRule:"evenodd"})))};var gh;function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yh.apply(null,arguments)}const _h=function(e){return g("svg",yh({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 35 35"},e),gh||(gh=g("path",{fill:"#fff",fillRule:"evenodd",d:"M29.78 4.77a1.35 1.35 0 1 1 1.907 1.911L6.68 31.688a1.38 1.38 0 0 1-.956.395c-.34 0-.677-.139-.95-.39-.53-.551-.53-1.39-.004-1.916l4.122-4.121H8.85c-2.055 0-3.551-1.451-3.83-3.705-.31-2.254-.248-6.113 0-8.166.293-2.13 1.869-3.595 3.83-3.595h2.669l5.094-4.168c.62-.525 1.716-1.02 2.563-1.034 1.544 0 2.965 1.079 3.474 2.808.2.727.28 1.45.341 2.147l.122.986c.02.151.039.297.054.45zM21.7 20.025c.209-.204.675-.35.885-.296.567.143.678.957.668 1.596-.026 1.855-.088 3.146-.187 3.944l-.069.657-.001.013c-.066.661-.134 1.346-.33 2.076-.515 1.726-1.894 2.846-3.46 2.846l-.155-.001c-.866 0-1.805-.519-2.337-.971l-1.898-1.468c-.72-.536-.508-1.391-.103-1.886.302-.37 3.932-3.702 5.839-5.452.647-.594 1.095-1.006 1.148-1.058",clipRule:"evenodd"})))},bh=({className:e,muted:t,toggleMute:i})=>B("div",{"data-testid":"AudioIndicator",role:"status","aria-label":(t?"muted":"unmuted")+" audio",className:`cursor-pointer hover:scale-110 w-7 h-7 m-4 transition-all rounded-full duration-[0.4s] z-10 inline-flex justify-center items-center pointer-events-auto ${e}`,onClick:i,children:[_h,B(t?_h:mh,{viewBox:"0 0 35 35",className:"w-6 h-6 drop-shadow-[0_1px_3px_rgba(0,0,0,0.3)]",onClick:i})]},t?"muted":"unmuted"),wh=e=>{const{videoUrl:t,showFallbackHouseAd:i,adsOnlyMode:n=!0,gameID:r,fallbackVideoUrl:s,adTagProps:o,adblockerDetected:a,videoMuted:l,gameplayStarted:c,hideVideo:d,adPlaying:u,adEnabled:p,amazonUAMEnabled:h,isDesktopSize:f,size:v,absolutePosition:m,setPlayer:g,displayAdMode:y,activeDisplayAdConfig:b,useFabrikAds:w}={...e},E=p&&!y,A=Do(null),k=Do(null),x=Do(!1),S=Do(!1),L=Do(""),C=Do(!1),M=Do(l),T=S.current&&L.current&&x.current&&!C.current,I=n&&!u,{adUnitTags:P}=Oo((()=>Za(o.embedUrl)),[o.embedUrl]),D=No((()=>{Na&&console.log("Framebreak Openplayer - Loading ad"),w?(async(e,t)=>{if(!Sl()&&(console.log("Fabrik script is not loaded. Trying to load it..."),await Ml(e),!Sl()))return console.error("Fabrik script is not loaded. Cannot get VAST URL"),"";const i=Cl(e).unitId,n=await ba.lngtd.getAdvertisingUrlPromiseForPlayer({unitId:i,runAuction:t});return console.log("fabrikAdUrl",n),n})(o.embedUrl).then((e=>{k.current?.loadAd(e),Na&&console.log("Framebreak Openplayer - Ad Request attempted."),sl.adRequested(Va.VideoInstream,P[Ga])})):(async(e,t=!0,i=Ga,n=Ba.GOOGLE_IMA)=>{const{embedUrl:r,gameCategoryName:s,partnerName:o,uiOrientation:a,widgetId:l,adsTargetingAllowed:c}=e,d=e.noAdSizeRestriction?"all":Ua.Landscape;if(n===Ba.GOOGLE_IMA)return await el(l,o,a,s,r,i,d,t,c)})(o,h).then((e=>{k.current?.loadAd(e),Na&&console.log("Framebreak Openplayer - Ad Request attempted."),sl.adRequested(Va.VideoInstream,P[Ga])}))}),[f,t,o,k.current]),O=No((e=>{const t=e.getAd();Na&&console.log("Framebreak Openplayer - Ad data:",t.data)}),[]),N=No((()=>{if(!k.current)return;const e=k.current?.getAd(),t=k.current?.getElement();if(t.loop&&e){const e=k.current?.getMedia(),i=e.duration-e.currentTime;i>0&&i<=.3&&!x.current?(x.current=!0,Na&&console.log("Framebreak Openplayer - Post-roll ad called"),t.dispatchEvent(new CustomEvent("ended"))):0===i&&(x.current=!1)}}),[k.current,x.current]),j=No((e=>{Na&&console.log("Framebreak Openplayer -  adsloaded triggered"),d||n?(k.current?.getMedia().pause(),e?.target?.pause(),Na&&console.log(`Framebreak Openplayer - Player paused due to hideVideo state change to ${d}`)):R(k.current?.getMedia())}),[d,k.current]),R=No((e=>{e&&!n?(e.play().catch((t=>{Na&&console.error("Framebreak Openplayer - Player media play error:",t),Na&&console.log("Framebreak Openplayer - Retrying play with video muted:"),ul(!0),e.play().catch((e=>{Na&&console.error("Framebreak Openplayer - Player media play error with video muted:",e)}))})),Na&&console.log("Framebreak Openplayer - Player media played")):Na&&console.log("Framebreak Openplayer - Player media not found")}),[n]);return Po((()=>{if(!k.current)return;const e=k.current?.getAd();e&&e.resizeAds()}),[m,k.current,I]),Po((()=>{k.current=new Wp(A.current,{controls:{alwaysVisible:!1,layers:{left:[],middle:[],right:[]}},detachMenus:!1,forceNative:!0,mode:"fit",hidePlayBtnTimer:0,width:0,height:0,ads:{src:"",enablePreloading:!0}}),k.current.init();const e=k.current.getElement(),t=e=>{const t=e;t&&t.detail&&"data"in t.detail?Na&&console.log(`Framebreak Openplayer -  ${e.type} - `,t.detail.data):Na&&console.log(`Framebreak Openplayer -  ${e.type} - No detailed data`)},r=()=>{Na&&console.log("Framebreak Openplayer -  adsFinishedState - triggered"),pl(!1),(!S.current||!i)&&hl(!0,f)};return e.addEventListener("loadedmetadata",(()=>{Na&&console.log("Framebreak Openplayer -  loadedmetadata - triggered"),k.current})),e.addEventListener("controlshidden",t),e.addEventListener("controlschanged",t),e.addEventListener("captionschanged",t),e.addEventListener("levelchanged",t),e.addEventListener("playererror",(e=>{const t=e;switch(S.current=!0,t.detail.type){case"Ads":if(!i&&hl(!0,f),(e=>{const{message:t,type:i}=e.detail;return t.includes("response does not contain any valid ads")&&"Ads"===i})(t)){Na&&console.log("Framebreak Openplayer - Ads Received but NoFill:",t.detail),j(e),sl.adNoFill(Va.VideoInstream);break}sl.adError(Va.VideoInstream,P[Ga]),Na&&console.log("Framebreak Openplayer - Ads error:",t.detail);break;default:Na&&console.error("Framebreak Openplayer - Player error:",e)}})),e.addEventListener("playerdestroyed",t),e.addEventListener("addtrack",t),e.addEventListener("removetrack",t),e.addEventListener("play",(e=>{Na&&console.log("Framebreak Openplayer -  playing - triggered"),n&&k.current?.getMedia()?.pause(),n&&e?.target?.pause()})),e.addEventListener("pause",t),e.addEventListener("ended",(()=>{Na&&console.log("Framebreak Openplayer -  ended - triggered"),y&&pl(!0)})),e.addEventListener("playad",(()=>{Na&&console.log("Framebreak Openplayer -  playad - triggered"),y&&pl(!0);const e=k.current.getMedia();w?k.current.play():e&&!isNaN(e.duration)&&(e.currentTime=e.duration-1,k.current.getElement().dispatchEvent(new CustomEvent("ended")))})),e.addEventListener("volumechange",t),e.addEventListener("mute",t),e.addEventListener("unmute",t),e.addEventListener("timeupdate",(()=>{if(!k.current||n)return;k.current.getMedia().currentTime,k.current.getMedia().duration})),e.addEventListener("hlsManifestParsed",t),e.addEventListener("hlsLevelLoaded",t),e.addEventListener("adsloaded",(()=>{const e=k.current?.getAd();e&&(e.muted=M.current,Na&&console.log(`Framebreak Openplayer - Ads - Ads object muted state set to ${M.current}`)),dl(!0),sl.adReceived(Va.VideoInstream),Na&&console.log("Framebreak Openplayer - Ad received and loaded");const t=k.current?.getAd()?.getAdsManager();t.removeEventListener("start",O),t.addEventListener("start",O),(t&&t.getCuePoints()&&!t.getCuePoints().includes(-1)||!t)&&(Na&&console.log("Framebreak Openplayer - No post-roll ad detected"),sl.adNoPostroll())})),e.addEventListener("adsstart",(()=>{Na&&console.log("Framebreak Openplayer -  adsStartedState - triggered"),pl(!0),hl(!1,f),sl.adPlayed()})),e.addEventListener("adsfirstQuartile",t),e.addEventListener("adsmidpoint",t),e.addEventListener("adsthirdQuartile",t),e.addEventListener("adscomplete",r),e.addEventListener("adsskipped",r),e.addEventListener("adsvolumeChange",t),e.addEventListener("adsallAdsCompleted",r),e.addEventListener("adsmediaended",t),e.addEventListener("adsdurationChange",t),e.addEventListener("adsimpression",t),e.addEventListener("adsadProgress",t),e.addEventListener("adsclick",t),e.addEventListener("adspause",(()=>{Na&&console.log("Framebreak Openplayer -  adsPaused - triggered. Will auto resume immediately"),k.current?.getAd()?.play()})),e.addEventListener("adsmute",t),g(k.current),y&&dl(!0),()=>{k.current&&(k.current.getMedia().src=[],k.current.destroy(),k.current=null)}}),[]),Po((()=>(Na&&console.log("Framebreak Openplayer - Resetting event listeners"),k.current&&(k.current.getElement().addEventListener("timeupdate",N),k.current.getElement().addEventListener("adsloaded",j)),()=>{Na&&console.log("Framebreak Openplayer - Removing event listeners"),k.current&&(k.current.getElement().removeEventListener("timeupdate",N),k.current.getElement().removeEventListener("adsloaded",j))})),[k.current,t,N,j]),Po((()=>{y&&p&&dl(!0)}),[t,p]),Po((()=>{if(Na&&console.log("Framebreak Openplayer - Trying to toggle mute to",l),!k.current)return void(Na&&console.log("Framebreak Openplayer - Player object is not initialized for mute action",k.current));M.current=l;try{const e=k.current.getMedia();e?(e.muted=l,Na&&console.log(`Framebreak Openplayer - Player muted state set to ${l}`)):Na&&console.log("Framebreak Openplayer - Failed to retrieve media from player object",k.current)}catch(e){console.error("Framebreak Openplayer - Error with getMedia() on player:",e)}try{const e=k.current.getAd();e?(e.muted=l,Na&&console.log(`Framebreak Openplayer - Ads - Ads object muted state set to ${l}`)):Na&&console.log("Framebreak Openplayer - Ads - Failed to retrieve Ads from player object",k.current)}catch(e){console.error("Framebreak Openplayer - Ads - Error with getAd() on player:",e)}const e=k.current.getElement();e&&(Na&&console.log("Framebreak Openplayer - Toggling mute to player itselft to",l),e.muted=l)}),[l,k.current]),Po((()=>{if(k.current&&(!E||a))try{const e=k.current.getMedia();e?d?(e.pause(),Na&&console.log(`Framebreak Openplayer - Player paused due to hideVideo state change to ${d}`)):c&&R(e):Na&&console.log("Framebreak Openplayer - Failed to retrieve media from player object",k.current)}catch(e){console.error("Framebreak Openplayer - Error with getMedia() on player:",e)}}),[d,k.current,E,a,c,t]),Po((()=>{if(k.current){try{const e=k.current.getMedia();if(e){e.muted=l;const i=[{src:t??(n&&s),type:"video/mp4"}];e.src=i,Na&&console.log("Framebreak Openplayer - Player playerMedia set:",i),x.current=!1,S.current=!1,C.current=!1,c&&E&&!a&&D()}else Na&&console.log("Framebreak Openplayer - Failed to retrieve media from player object",k.current)}catch(e){console.error("Framebreak Openplayer - Error with getMedia() on player:",e)}return()=>{Na&&console.log("Framebreak Openplayer - Cleanup on video change");const e=k.current?.getAd();e?.destroy()}}Na&&console.log("Framebreak Openplayer - Player object is not initialized, no need to set video",k.current)}),[r,t,k.current,c,p]),Po((()=>{if(!i)return;const e=k.current?.getMedia(),n=k.current?.getElement(),r=()=>{if(!e||!T)return;e.currentTime>=e.duration-.5&&(C.current=!0)};return n?.addEventListener("timeupdate",r),Na&&console.log("Framebreak Openplayer - Fallback - urlChanged",T),e&&(T?(e.src=[{src:L.current,type:"video/mp4"}],e.currentTime=0,R(e),Na&&console.log(`Framebreak Openplayer - Playing fallback video ad: ${L.current}`),pl(!0),hl(!1,f)):(e.src=[{src:t,type:"video/mp4"}],R(e),Na&&console.log(`Framebreak Openplayer - Resuming game video: ${t}`),pl(!1),hl(!0,f))),()=>{n?.removeEventListener("timeupdate",r)}}),[T]),B(_,{children:[B("style",{type:"text/css",children:'@keyframes progress{0%{background-position:0 0}to{background-position:-75px 0}}.op-player{background:#000;font-family:sans-serif;line-height:1.15;min-height:30px;position:relative;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%}.op-player__video{overflow:hidden}.op-player,.op-player *,.op-player :after,.op-player :before{box-sizing:border-box}.op-player__media{display:inline-block;height:auto;-o-object-fit:contain;object-fit:contain;position:relative;width:100%!important}.op-player [aria-hidden=true]{display:none}.op-player__audio{background:#000}.op-player .media-controls.mac.fullscreen>.controls-bar{display:none}.op-player__loader{animation:spin 1s linear infinite;border:5px solid #fff;border-radius:50%}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.op-controls{background:rgba(0,0,0,.2);border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;display:flex;font-size:.85em;padding:0 4px;pointer-events:all;position:absolute;transition:bottom .3s ease;width:100%;z-index:3}.op-controls.op-controls__stacked{flex-direction:column}.op-controls--hidden .op-controls{bottom:-36px;pointer-events:none}.op-player__video .op-controls{margin-top:5px;padding-top:11px}.op-controls *{flex-grow:0;pointer-events:all}.op-controls button,.op-player__play,.op-settings__back{-webkit-appearance:button;-moz-appearance:button;appearance:button;background:transparent;border:none;cursor:pointer;font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;position:relative;text-transform:none}.op-controls button{padding:2px 4px 3px;z-index:4}.op-controls button>span{color:#fff}.op-controls .op-controls__container{position:relative}.op-player__loader{height:60px;margin-left:-30px;margin-top:-30px;top:calc(50% - 20px);width:60px}.op-player__loader,.op-player__play{display:none!important;left:50%;position:absolute;z-index:2}.op-player__play{background:transparent;border:0;border-color:transparent transparent transparent #fff;border-style:solid;border-width:26px 0 26px 46px;cursor:pointer;height:52px;margin-left:-18px;margin-top:-23px;padding:0;top:calc(50% - 23px);transition:all .1s ease;width:0;will-change:border-width}.op-player__play>span{border:0;clip:rect(0,0,0,0);clip-path:inset(50%);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.op-player__play--paused{border-style:double;border-width:0 0 0 46px}.op-player__play:hover{border-color:transparent transparent transparent red}.op-controls--hidden .op-player__loader,.op-controls--hidden .op-player__play{top:50%}.op-controls--hidden .op-player__play{margin-top:-26px}.op-controls button::-moz-focus-inner,.op-player__play::-moz-focus-inner,.op-settings__back{border-style:none;padding:0}.op-controls button:-moz-focusing,.op-player__play:-moz-focusing,.op-settings__back{outline:1px dotted ButtonText}.op-controls button:before{color:#fff;display:inline-block;height:15px;margin-left:.2em;margin-right:.2em;text-align:center;width:15px}.op-controls-layer__bottom,.op-controls-layer__center,.op-controls-layer__top{display:flex}.op-controls .op-control__left{justify-self:flex-start}.op-controls .op-control__middle{justify-self:center}.op-controls .op-control__right{justify-self:flex-end;margin-left:auto}.op-controls .op-control__right~.op-control__right{margin-left:0}.op-controls button:hover{opacity:.5}.op-controls .op-control--no-hover:hover{opacity:1}.op-controls button,.op-controls input[type=range]{touch-action:manipulation}.op-controls .op-controls-time{margin:4px 3px}.op-controls__playpause:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTMxLjEgMTYuMmMuNy4zIDEgMSAuNyAxLjctLjEuMy0uNC42LS43LjdMNSAzNC43Yy0xLjEuNy0yIC4yLTItMS4xVjEuNEMzIC4xIDQtLjQgNSAuM3oiLz48L3N2Zz4=)}.op-controls__playpause--pause:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTQuNyAwaDQuOGMxLjIgMCAyLjIgMSAyLjIgMi4ydjMwLjZjMCAxLjItMSAyLjItMi4yIDIuMkg0LjdjLTEuMiAwLTIuMi0xLTIuMi0yLjJWMi4yQzIuNSAxIDMuNSAwIDQuNyAwTTI2LjIgMEgzMWMxLjIgMCAyLjIgMSAyLjIgMi4ydjMwLjZjMCAxLjItMSAyLjItMi4yIDIuMmgtNC44QzI1IDM1IDI0IDM0IDI0IDMyLjhWMi4yQzI0IDEgMjUgMCAyNi4yIDAiLz48L3N2Zz4=)}.op-controls__playpause--replay:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTI2LjYgOS40YzQuMiA1LjMgMy4zIDEyLjktMiAxNy4xcy0xMi45IDMuMy0xNy4xLTJDMy44IDE5LjkgNCAxMy4zIDggOC45TDQuNiA1LjRjLTYuNCA2LjktNiAxNy42LjkgMjRzMTcuNiA2IDI0LS45YzUuOS02LjMgNi4xLTE2IC41LTIyLjZ6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTIwLjQgMi44Yy0uMi0uOC4zLTEuNiAxLjEtMS44LjItLjEuNS0uMS43IDBMMzQgMi42YzEuMi4yIDEuNCAxIC42IDEuOEwyMy45IDE1LjFjLS44LjgtMS42LjYtMS44LS42eiIvPjwvc3ZnPg==)}.op-controls__fullscreen:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgzNXYzNUgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjIgMjAuNEg3LjN2Ny4zaDcuM3YtMi45aC00LjR6bS0yLjktNS44aDIuOXYtNC40aDQuNFY3LjNINy4zem0xNy41IDEwLjJoLTQuNHYyLjloNy4zdi03LjNoLTIuOXpNMjAuNCA3LjN2Mi45aDQuNHY0LjRoMi45VjcuM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==);width:20px!important}.op-controls__fullscreen--out:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgzNXYzNUgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMyAyMy4zaDQuNHY0LjRoMi45di03LjNINy4zem00LjQtMTEuNkg3LjN2Mi45aDcuM1Y3LjNoLTIuOXptOC43IDE2aDIuOXYtNC4zaDQuNHYtMi45aC03LjN6bTIuOS0xNlY3LjNoLTIuOXY3LjNoNy4zdi0yLjl6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=);width:20px!important}.op-controls__mute:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTI3LjggMjguN2MtLjYgMC0xLjItLjMtMS41LS45LS41LS44LS4yLTEuOS42LTIuNCA0LjQtMi42IDUuOS04LjIgMy40LTEyLjYtLjgtMS40LTItMi42LTMuNC0zLjQtLjktLjMtMS4zLTEuNC0uOS0yLjNzMS40LTEuMyAyLjMtLjhjLjEgMCAuMi4xLjMuMiA2LjEgMy42IDguMSAxMS40IDQuNSAxNy41LTEuMSAxLjktMi43IDMuNC00LjUgNC41LS4yLjItLjUuMi0uOC4yIi8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTI0LjUgMjMuMWMtLjYgMC0xLjItLjMtMS41LS45LS41LS44LS4yLTEuOS42LTIuNCAxLjMtLjcgMS43LTIuMyAxLTMuNi0uMi0uNC0uNi0uOC0xLTEtLjgtLjYtMS0xLjctLjQtMi40LjUtLjcgMS40LS45IDIuMi0uNiAyLjkgMS43IDMuOSA1LjQgMi4zIDguMy0uNS45LTEuMyAxLjctMi4zIDIuM3EtLjQ1LjMtLjkuM00xNy44IDQuMWwtOC4xIDYuNC0uMi4ySDFjLS42IDAtMSAuNC0xIDF2MTEuNmMwIC42LjQgMSAxIDFoOC41bC4xLjIgOC4xIDYuNWMuNC4zIDEuMS4zIDEuNC0uMi4xLS4yLjItLjQuMi0uNlY0LjljMC0uNi0uNS0xLTEtMS0uMi4xLS40LjEtLjUuMiIvPjwvc3ZnPg==);width:18px!important}.op-controls__mute--half:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTMwLjEgMjQuM2MtLjggMC0xLjUtLjQtMS45LTEuMS0uNi0xLS4yLTIuMy44LTMgMS42LS45IDIuMS0yLjggMS4zLTQuNC0uMy0uNS0uNy0xLTEuMy0xLjMtMS0uNi0xLjMtMi0uNy0zczEuOS0xLjMgMi45LS43YzMuNiAyLjEgNC45IDYuNyAyLjggMTAuMy0uNyAxLjItMS42IDIuMS0yLjggMi44LS4zLjMtLjcuNC0xLjEuNE0yMS45IDEgMTIgOC45bC0uMi4xSDEuMkMuNSA5IDAgOS42IDAgMTAuM3YxNC4zYzAgLjcuNSAxLjIgMS4yIDEuMmgxMC41bC4yLjIgOS45IDcuOWMuNS40IDEuMy40IDEuNy0uMi4yLS4yLjMtLjUuMy0uOFYyYy4xLS42LS40LTEuMi0xLTEuMy0uMyAwLS43LjEtLjkuMyIvPjwvc3ZnPg==);width:18px!important}.op-controls__mute--muted:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTI4IC4yIDE3LjYgOC41bC0uMi4yaC0xMWMtLjctLjEtMS4zLjQtMS40IDEuMXYxNWMwIC43LjYgMS4zIDEuMyAxLjNoMTFsLjIuMiAxMC40IDguM2MuNi40IDEuNC40IDEuOC0uMi4yLS4yLjMtLjUuMy0uOFYxLjJjMC0uNy0uNS0xLjItMS4yLTEuMi0uMyAwLS42LjEtLjguMiIvPjwvc3ZnPg==);width:18px!important}.op-controls__captions:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMCA0LjR2MjYuMmgzNVY0LjR6bTMwLjQgMjFjLS4yLjMtLjYuNS0uOS43LTEuMS44LTYuMSAxLjEtMTEuOSAxLjFzLTExLS4zLTEyLjEtMS4xYy0uMy0uMi0uNy0uNC0uOS0uNy0xLjEtMS40LTEuMi0zLjQtMS4zLThzLjItNi42IDEuMy04Yy4zLS4zLjYtLjUuOS0uNyAxLS44IDYuMy0xLjEgMTIuMS0xLjFzMTAuOC4zIDExLjkgMS4xYy4zLjIuNi40LjkuNyAxLjEgMS40IDEuMyAzLjQgMS4zIDhzLS4yIDYuNi0xLjMgOCIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTYuOSAxNi4yYy0uMy0zLjYtMi4yLTUuNy01LjYtNS43LTMuMSAwLTUuNiAyLjgtNS42IDcuM3MyLjIgNy40IDUuOSA3LjRjMyAwIDUtMi4yIDUuMy01LjhoLTMuNWMtLjEgMS4zLS43IDIuNC0xLjkgMi40LTEuOSAwLTIuMi0xLjgtMi4yLTMuOCAwLTIuNy44LTQuMSAyLjEtNC4xIDEuMSAwIDEuOS44IDIgMi4zek0yOSAxNi4yYy0uMy0zLjYtMi4yLTUuNy01LjYtNS43LTMuMSAwLTUuNiAyLjgtNS42IDcuM3MyLjIgNy40IDUuOSA3LjRjMyAwIDUtMi4yIDUuMy01LjhoLTMuNWMtLjEgMS4zLS43IDIuNC0xLjkgMi40LTEuOSAwLTIuMi0xLjgtMi4yLTMuOCAwLTIuNy44LTQuMSAyLjEtNC4xczEuOS44IDIgMi4zeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+);width:20px!important}.op-controls__captions.op-controls__captions--on:before{filter:invert(73%) sepia(71%) saturate(6868%) hue-rotate(356deg) brightness(101%) contrast(126%)}.op-controls__settings:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCAzNSAzNSI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTMwLjUgMTkuMmMuMS0uNi4xLTEuMi4xLTEuNyAwLS42LS4xLTEuMi0uMS0xLjdsMy43LTIuOWMuMy0uMy40LS44LjItMS4xbC0zLjUtNi4xYy0uMi0uNC0uNy0uNS0xLjEtLjRMMjUuNCA3Yy0uOS0uNy0xLjktMS4zLTIuOS0xLjdMMjEuOC43YzAtLjQtLjMtLjctLjgtLjdoLTdjLS40IDAtLjguMy0uOC43bC0uNyA0LjZjLTEuMS40LTIuMSAxLTMgMS43TDUuMiA1LjNjLS40LS4yLS45IDAtMS4xLjRMLjYgMTEuOGMtLjIuNC0uMS45LjIgMS4xbDMuNyAyLjljLS4xLjYtLjEgMS4yLS4xIDEuNyAwIC42LjEgMS4yLjEgMS43TC44IDIyLjFjLS4zLjMtLjQuOC0uMiAxLjFsMy41IDYuMWMuMi40LjcuNSAxLjEuNEw5LjYgMjhjLjkuNyAxLjkgMS4zIDIuOSAxLjdsLjcgNC42Yy4xLjQuNC43LjkuN2g3Yy40IDAgLjgtLjMuOC0uN2wuNy00LjZjMS4xLS40IDItMSAyLjktMS43bDQuNCAxLjdjLjQuMi45IDAgMS4xLS40bDMuNS02LjFjLjItLjQuMS0uOS0uMi0xLjF6bS0xMyA0LjRjLTMuNCAwLTYuMS0yLjctNi4xLTYuMXMyLjctNi4xIDYuMS02LjEgNi4xIDIuNyA2LjEgNi4xLTIuOCA2LjEtNi4xIDYuMSIvPjwvc3ZnPg==)}.op-settings{background:rgba(28,28,28,.9);bottom:48px;color:#fff;font-size:.85em;overflow:hidden;position:absolute;right:5px;text-shadow:0 0 2px rgba(0,0,0,.5);transition:right .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;will-change:width,height;z-index:4}.op-player__audio .op-settings{bottom:32px;right:0}.op-settings--sliding{right:-999px}.op-settings__menu{margin:0;overflow-x:hidden;overflow-y:auto;padding:0}.op-settings__menu-item,.op-settings__submenu-item{display:table-row;outline:none;padding:0}.op-settings__menu-label,.op-settings__submenu-label{display:table-cell;padding:5px 15px;vertical-align:middle}.op-settings__menu-label>img,.op-settings__menu-label>svg,.op-settings__submenu-label>img,.op-settings__submenu-label>svg{max-height:20px}.op-settings__submenu-item,.op-settings__submenu-label{display:block}.op-settings__submenu-item{cursor:pointer}.op-settings__submenu-item[aria-checked=true] .op-settings__submenu-label{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTkgMTYuMiA0LjggMTJsLTEuNCAxLjRMOSAxOSAyMSA3bC0xLjQtMS40eiIvPjwvc3ZnPg==");background-position:left 4px center;background-repeat:no-repeat;background-size:18px;padding:8px 15px 8px 25px}.op-settings__menu-content{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTEyLjU5IDIwLjM0IDQuNTgtNC41OS00LjU4LTQuNTlMMTQgOS43NWw2IDYtNiA2eiIvPjwvc3ZnPg==");background-position:right 0 center;background-repeat:no-repeat;background-size:32px 32px;cursor:pointer;display:table-cell;padding:0 38px 0 15px;vertical-align:middle}.op-settings__header{padding:5px}.op-settings__back{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTE5LjQxIDIwLjA5LTQuNTgtNC41OSA0LjU4LTQuNTlMMTggOS41bC02IDYgNiA2eiIvPjwvc3ZnPg==");background-position:left 0 center;background-repeat:no-repeat;background-size:20px 32px;color:inherit;height:100%;padding:0 10px 0 20px}.op-controls input[type=range],.op-controls progress{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;height:5px;left:0;margin:0;position:absolute;top:0;transition:none;width:100%}.op-controls input[type=range]{background:transparent;height:0;padding:2.5px 0;-webkit-tap-highlight-color:transparent;z-index:3}.op-controls input[type=range]:focus,.op-controls progress{outline:none}.op-controls input[type=range]::-moz-focus-outer{border:0}.op-controls input[type=range]::-webkit-slider-runnable-track{background:0 0;border:0;cursor:pointer;height:8px;-webkit-user-select:none;user-select:none}.op-controls input[type=range]::-moz-range-track{background:0 0;border:0;cursor:pointer;height:8px;-moz-user-select:none;user-select:none}.op-controls input[type=range]::-ms-track{background:0 0;border:0;cursor:pointer;height:8px;user-select:none}.op-controls input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#fff;border:2px solid transparent;border-radius:100%;box-sizing:border-box;height:12px;margin-top:-2px;position:relative;width:12px}.op-controls input[type=range]::-moz-range-thumb{-moz-appearance:none;appearance:none;background:#fff;border:2px solid transparent;border-radius:100%;box-sizing:border-box;height:12px;margin-top:-2px;position:relative;width:12px}.op-controls input[type=range]::-ms-thumb{appearance:none;background:#fff;border:2px solid transparent;border-radius:100%;box-sizing:border-box;height:12px;margin-top:-2px;position:relative;width:12px}.op-controls input[type=range]::-ms-tooltip{display:none}.op-controls input[type=range]::-ms-fill-lower,.op-controls input[type=range]::-ms-fill-upper{background:transparent}.op-controls input[type=range]::-ms-ticks-after,.op-controls input[type=range]::-ms-ticks-before{display:none!important}.op-controls .op-controls__progress--seek.loading{animation:progress 2s linear infinite;background:linear-gradient(-45deg,hsla(0,0%,100%,.3) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.3) 0,hsla(0,0%,100%,.3) 75%,transparent 0,transparent);background-repeat:repeat-x;background-size:25px 25px}.op-controls .op-controls__progress--seek.error{background:linear-gradient(-45deg,red 25%,transparent 0,transparent 50%,red 0,red 75%,transparent 0,transparent);background-repeat:repeat-x;background-size:25px 25px}.op-controls--hidden .op-controls .op-controls__progress--seek::-webkit-slider-thumb{background:transparent}.op-controls--hidden .op-controls .op-controls__progress--seek::-moz-range-thumb{background:transparent}.op-controls--hidden .op-controls .op-controls__progress--seek::-ms-thumb{background:transparent}.op-player__media[op-live__enabled]:not([op-dvr__enabled])+.op-controls .op-controls__progress--seek{display:none}.op-player__media[op-live__enabled]:not([op-dvr__enabled])+.op-controls .op-controls__progress,.op-player__media[op-live__enabled]:not([op-dvr__enabled])+.op-controls .op-controls__progress--buffer,.op-player__media[op-live__enabled]:not([op-dvr__enabled])+.op-controls .op-controls__progress--played{background-color:#eee;pointer-events:none}.op-controls progress{display:inline-block;vertical-align:baseline}.op-controls progress::-webkit-progress-bar{background:0 0}.op-controls progress::-moz-progress-bar{background:0 0}.op-controls .op-controls__progress{flex-grow:2}.op-controls .op-controls__progress,.op-controls .op-controls__progress:hover,.op-controls .op-controls__volume,.op-controls .op-controls__volume:hover{cursor:pointer}.op-controls__progress,.op-controls__volume{display:inline-block;height:5px;margin-left:10px;margin-top:9px;pointer-events:all;position:relative}.op-player__video .op-controls__progress{bottom:34px;left:8px;margin-left:-8px;position:absolute;width:100%}.op-player__video .op-controls.op-controls__stacked .op-controls__progress{bottom:0;position:relative}.op-controls progress::-webkit-progress-value{background:currentColor}.op-controls progress::-moz-progress-bar{background:currentColor}.op-controls__progress--buffer::-webkit-progress-value{-webkit-transition:width .2s ease;transition:width .2s ease}.op-controls__progress--played::-webkit-progress-value,.op-controls__volume--display::-webkit-progress-value{max-width:99%;-webkit-transition:none;transition:none}.op-player__video .op-controls__progress--played::-webkit-progress-value{max-width:100%}.op-controls__progress--buffer::-moz-progress-bar{-moz-transition:width .2s ease;transition:width .2s ease}.op-controls__progress--played::-moz-progress-bar,.op-controls__volume--display::-moz-progress-bar{max-width:99%;-moz-transition:none;transition:none}.op-controls .op-controls__progress--played,.op-controls .op-controls__volume--display{background:0 0;color:red;transition:all .2s ease;z-index:2}.op-controls .op-controls__volume--display{background:hsla(0,0%,100%,.35)}.op-controls .op-controls__progress--buffer{background:hsla(0,0%,100%,.3);color:hsla(0,0%,100%,.25)}.op-ads--active .op-controls .op-controls__progress--seek{pointer-events:none}.op-ads--active .op-controls .op-controls__progress--played{color:#fecb2f}.op-ads--active .op-controls .op-controls__progress--buffer{color:transparent}.op-ads--active .op-controls .op-controls__progress--seek::-webkit-slider-thumb{display:none}.op-ads--active .op-controls .op-controls__progress--seek::-moz-range-thumb{display:none}.op-ads--active .op-controls .op-controls__progress--seek::-ms-thumb{display:none}.op-ads--active .op-controls .op-controls__progress--seek::-webkit-slider-runnable-track{cursor:default}.op-ads--active .op-controls .op-controls__progress--seek::-moz-range-track{cursor:default}.op-ads--active .op-controls .op-controls__progress--seek::-ms-track{cursor:default}.op-ads--active .op-controls .op-control__hide-in-ad{cursor:default;display:none;pointer-events:none}.op-status{color:#fff;font-weight:400;left:0;padding:20px 0;position:absolute;text-align:center;top:30px;transform:translateY(-40px);transition:all .3s ease;width:100%;z-index:4}.op-status>span{background:rgba(0,0,0,.7);-webkit-box-decoration-break:clone;box-decoration-break:clone;line-height:150%;padding:3px 10px}.op-player__audio .op-status{top:23px}.op-controls__tooltip{background:#eee;border:1px solid #000;bottom:100%;color:#000;display:none;left:0;margin-bottom:10px;padding:1px 4px;position:absolute;text-align:center;transform:translateX(0)}.op-player__video .op-controls__tooltip{margin-bottom:10px}.op-controls__tooltip:after,.op-controls__tooltip:before{content:"";height:0;left:0;margin:0 auto;position:absolute;right:0;top:100%;width:0}.op-controls__tooltip:before{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #000}.op-controls__tooltip:after{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #eee}.op-controls__tooltip--visible{display:block}.op-controls__volume{margin-left:0;width:70px}.op-controls .op-controls__mute:before{text-align:left}.op-player__video .op-controls__volume{margin-top:10px}.op-player__unmute{background:rgba(0,0,0,.7);color:#fff;cursor:pointer;left:0;padding:5px;position:absolute;top:0;z-index:3}.op-player[data-fullscreen=true] .op-controls{z-index:2147483648}.op-player[data-fullscreen=true].op-controls--hidden{cursor:none}.op-player[data-fullscreen=true].op-controls--hidden .op-controls{bottom:-40px}.op-player video::-webkit-media-controls,.op-player video::-webkit-media-text-track-container{display:none!important}.op-captions{bottom:0;color:#fff;display:none;font-weight:400;left:0;padding:20px 0;position:absolute;text-align:center;transform:translateY(-40px);transition:transform .3s ease;width:100%;z-index:1}.op-controls--hidden .op-captions{bottom:-32px}.op-captions--on{display:block}.op-captions>span{background:rgba(0,0,0,.7);-webkit-box-decoration-break:clone;box-decoration-break:clone;display:block;line-height:150%;margin:0 auto 15px;padding:3px 10px;width:-moz-fit-content;width:fit-content}.op-player__audio.op-captions--detected{background:transparent;min-height:95px}.op-player__audio.op-captions--detected .op-captions{bottom:-10px;padding:0}.op-player__audio.op-captions--detected .op-captions>span{background:transparent;color:#000}.op-player__audio.op-captions--detected .op-controls{background:#000;bottom:auto}.op-player__audio.op-captions--detected .op-settings{bottom:auto;top:35px}.op-controls .op-controls__captions--on:before{color:red}.op-captions__menu{bottom:36px;left:50%;min-width:73px;overflow:visible;transform:translate(-50%);z-index:10}.op-captions__menu:after{border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid rgba(28,28,28,.9);content:"";height:0;left:0;margin:0 auto;position:absolute;right:0;top:100%;width:0}::cue{color:#ccc}video:-webkit-media-text-track-display{top:-15%}.op-levels__menu{bottom:36px;left:50%;min-width:73px;overflow:visible;transform:translate(-50%);z-index:10}.op-levels__menu:after{border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid rgba(28,28,28,.9);content:"";height:0;left:0;margin:0 auto;position:absolute;right:0;top:100%;width:0}.op-ads{height:100%;left:0;position:absolute;top:0;width:100%}.op-ads--active{overflow:hidden}.op-ads--active .op-captions,.op-ads--active .op-controls__captions,.op-ads--active .op-controls__settings{display:none}.op-ads--active .op-controls__fullscreen{float:right}.op-ads--active .op-controls .op-control__right~.op-control__right{margin-left:auto}.op-ads--active .op-ads{z-index:1}.op-player[data-fullscreen=true].op-ads--active .op-ads{z-index:2147483645}.op-ads__click-container{background-color:#807f80;color:#fff;cursor:default;display:none;padding:5px;pointer-events:auto;position:absolute;right:0;text-align:center;top:0;z-index:100}.op-ads__click-container--visible{display:block}.op-player[data-fullscreen=true].op-ads--active .op-ads__click-container{z-index:2147483647}.op-player__audio .op-ads{display:none}.op-ads__skip{color:#fff}.op-player:focus,.op-player>.op-controls :focus,.op-player__play:focus{outline:1px dotted #999}.op-player.op-player__keyboard--inactive .op-player__play:focus,.op-player.op-player__keyboard--inactive:focus,.op-player.op-player__keyboard--inactive>.op-controls :focus{outline:none}.op-player.op-player__full{bottom:0;left:0;overflow:hidden;position:fixed;right:0;top:0;z-index:-100}.op-player__full .op-ads,.op-player__full .op-player__media{height:auto;left:50%;min-height:100%;min-width:100%;position:absolute;top:50%;transform:translate(-50%,-50%);width:auto!important}.op-player__fit--wrapper{height:100%;position:relative;width:100%}.op-player.op-player__fit{background:#000;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}.op-player__fit .op-ads,.op-player__fit .op-player__media{border:0;display:block;height:100%;min-height:100%;width:100%}.op-player__ios--iphone .op-player__play{margin-top:-5px}.op-player.op-player__ios--iphone video::-webkit-media-controls,.op-player[data-fullscreen=true].op-player.op-player__ios--iphone video::-webkit-media-text-track-container{display:block!important}.op-player[data-fullscreen=true].op-player.op-player__ios--iphone video::-webkit-media-text-track-display-backdrop{background:rgba(0,0,0,.498)!important}'}),B("div",{className:"absolute overflow-hidden rounded-xl inset-0 "+(I?"opacity-0":"bg-black"),"data-testid":"FrameBreakVideoPlayer",style:{width:v.width,height:I?"1px":v.height,top:m.y,left:m.x},children:[B("div",{style:{width:v.width,height:v.height,...y?{height:"1px",overflow:"hidden",opacity:0}:{}},children:B("video",{id:"game-ads-video-player-framebreak",className:"op-player__media !object-cover",style:{width:v.width,height:y?"1px":v.height},playsInline:!0,muted:!0,autoPlay:!c&&!n,loop:!0,ref:A,children:B("source",{src:t,type:"video/mp4"})})}),y&&u?B(wl,{...b,style:{margin:"auto",...f?{}:{marginTop:"15px"}},showDisclosure:b.showDisclosure}):B("div",{style:{position:"absolute",top:"0px",right:"0px",zIndex:10},children:B(bh,{muted:l,toggleMute:()=>ul(!l)})})]})]})};wh.displayName="FrameBreakVideoPlayer";const Eh={wrapper:"w-full h-full rounded-lg mx-auto relative z-[2] flex flex-col items-center justify-center overflow-hidden",player:"w-full aspect-[16/9] h-auto rounded-lg overflow-hidden bg-black",fallbackDisplay:""};var Ah;!function(e){e.S300x169="300x169",e.S420x236="420x236",e.S444x250="444x250"}(Ah||(Ah={}));const kh=({enableFallback:e,referrer:t,styleOverrides:i,showDisclosure:n=!0,magniteAdPlayerSize:r=Ah.S444x250,displayAdManagerConfig:s,displayAdConfig:o,bypassMagnite:a=!1})=>{const{siteId:l,zoneId:c}=(e=>{const t=Object.keys(qa).find((t=>e.includes(t)));return qa[t]||qa[".onversus.com"]})(t),[d,u]=To(!1),[p,h]=To(!1),{width:f,height:v}=(e=>{if(!e)return{width:0,height:0};const[t,i]=e.split("x").map(Number);return{width:t,height:i}})(r),m=Do(null),[g,y]=vl({threshold:.3}),b=i||Eh;Po((()=>{if(a)h(!0);else if(!d&&l&&c&&y&&f&&v){u(!0);const t={width:f,height:9*f/16,k_pos:"prepend",k_placement:`g/#Magnite_${l}_${c}`,k_align:"center",kw:"auto",k_logo:0,k_passback:"myPassback",k_collapse:1},i=((e,t,i,n)=>`//video-ads-apex.rubiconproject.com/apex/${e}/${t}/${i}/${n}/apex.js?r=${1e16*Math.random()}`)(26720,l,c,203);Ia(i,null,{id:"magniteApexJS",textContent:JSON.stringify(t),innerText:JSON.stringify(t)}).then((()=>{ba.myPassback=function(){Na&&console.error("MagniteAdPlayer -  player loading failed. Passback triggered."),e&&h(!0),m.current&&clearInterval(m.current)},setTimeout((()=>{E()}),3e3)})).catch((t=>{Na&&console.error("MagniteAdPlayer -  player loading failed:",t),e&&h(!0)}))}}),[a,d,l,c,y,f]);const w=Oo((()=>9*f/16),[f]),E=()=>{m.current=setInterval((()=>{const e=_a.getElementById(`Magnite_${l}_${c}`);if(e){const t=e.querySelector("div");if(t){if(t.querySelector("div"))return}}ba.myPassback()}),1e3)};return Po((()=>{p&&m.current&&clearInterval(m.current)}),[p]),B("div",{className:b.wrapper,ref:g,...!p&&{style:{maxWidth:f+"px"}},children:p?B(El,{referrer:t,...s,children:B(wl,{id:"displayAdPassive1",adPlayerType:Ba.GOOGLE_IMA,embedUrl:t,className:b.fallbackDisplay,grouped:!0,showDisclosure:!!n,...o})}):B(_,{children:[n&&B("span",{className:"text-[10px] text-center pb-2 font-semibold tracking-widest text-gray-400 uppercase",children:"ADVERTISEMENT"}),B("div",{id:`Magnite_${l}_${c}`,className:b.player,style:{maxWidth:f+"px",maxHeight:w+"px"}})]})})},xh={wrapper:"w-full h-full rounded-lg mx-auto relative z-[2] flex flex-col items-center justify-center overflow-hidden",player:"w-full aspect-[16/9] h-auto rounded-lg overflow-hidden bg-black",fallbackDisplay:""};var Sh;!function(e){e.S300x162="300x162",e.S300x169="300x169",e.S300x277="300x277",e.S444x250="444x250"}(Sh||(Sh={}));var Lh;!function(e){e.GOOGLE="gam"}(Lh||(Lh={}));const Ch=({enableFallback:e,referrer:t,styleOverrides:i,userId:n,sessionId:r,showDisclosure:s=!0,aniviewAdSize:o=Sh.S444x250,displayAdManagerConfig:a,displayAdConfig:l})=>{const{tagId:c,channelId:d}=(e=>{const t=Oa(e),i=Pa(e),n=Na&&Object.keys(Ha).find((e=>t.includes(e)))||Object.keys(Ha).find((e=>i.includes(e)));return Ha[n]||{tagId:"660d07e55526ce8d9703f69b",channelId:"660d067441904129d7091b76"}})(t),[u,p]=To(!1),[h,f]=To(null),[v,m]=To(!1),[g,y]=To(!1),[b,w]=To(!1),E=Do(null),{width:A,height:k}=(e=>{if(!e)return{width:0,height:0};const[t,i]=e.split("x").map(Number);return{width:t,height:i}})(o),[x,S]=vl({threshold:.3}),L=i||xh,C=No(((e,t)=>{Na&&console.log(`aniview - ${t}:`,e)}),[]),M=No((e=>{Na&&console.log("aniview - player-init:",e),Na&&console.time("aniview AdLoaded")}),[]),T=No((e=>{Na&&console.log("aniview - player-ad-impression:",e),Na&&console.timeEnd("aniview ad received"),y(!1),v||(m(!0),w(!1))}),[v]),I=No((e=>{Na&&console.log("aniview - player-ad-completed:",e),Na&&console.time("aniview ad received"),y(!0)}),[]),P=No((t=>{Na&&console.log("aniview - player-ad-error:",t),E.current&&clearTimeout(E.current),e&&w(!0)}),[e]);Po((()=>{if(g||!v){if(!e||!S||!h)return;E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{w(!0),Na&&console.log("aniview - Fallback to Display ad.")}),3e4)}else E.current&&clearTimeout(E.current)}),[g,v,h,S]),Po((()=>(h&&(h.on("AdLoaded",M),h.on("AdError",P),h.on("AdReady",(e=>C(e,"AdReady"))),h.on("AdClosed",(e=>C(e,"AdClosed"))),h.on("AdPlaying",(e=>Na&&console.log("aniview AdPlaying",e))),h.on("AdPaused",(e=>Na&&console.log("aniview AdPaused",e))),h.on("AdClickThru",(e=>Na&&console.log("aniview AdClickThru",e)))),()=>{})),[h,T,I,C]),Po((()=>{if(!u&&d&&S&&A&&k){p(!0);Ia("https://player.aniview.com/script/6.1/aniview.js",null,{id:"aniviewJS"}).then((()=>new Promise(((e,t)=>{let i=0;Na&&console.time("aniview - waitForAniviewPlayer");const n=()=>{"avPlayer"in window?(Na&&console.timeEnd("aniview - AniviewPlayer in window"),e()):i<60?(setTimeout(n,500),i++):t(new Error("AniviewPlayer initialization timed out."))};n()})))).then((()=>{const e=9*A/16;Na&&console.log("aniview AniviewPlayer in window",ba.avPlayer,A,e);const t={publisherId:"660d063fe901e0f939099598",channelId:d,ref1:`AV_CDIM1=${r}&AV_CDIM2=${n}&AV_CDIM3=1`,width:A,height:e,autoPlay:!0,loop:!0,vastRetry:0,errorLimit:0,soundButton:!0,pauseButton:!0,preloader:{type:"",link:"",clickthrough:""},midrolltime:2,position:`AV${d}`},i=new ba.avPlayer(t);i.play(),Na&&console.log("aniview playerApi",i,c,d),f(i)})).catch((t=>{Na&&console.error("Aniview player loading failed:",t),e&&w(!0)}))}}),[u,d,S,A]);const D=Oo((()=>9*A/16),[A]);return B("div",{className:L.wrapper,ref:x,...!b&&{style:{maxWidth:A+"px"}},children:b?B(El,{referrer:t,...a,children:B(wl,{id:"displayAdPassive1",adPlayerType:Ba.GOOGLE_IMA,embedUrl:t,className:L.fallbackDisplay,grouped:!0,showDisclosure:!!s,...l})}):B(_,{children:[s&&B("span",{className:"text-[10px] text-center pb-2 font-semibold tracking-widest text-gray-400 uppercase",children:"ADVERTISEMENT"}),B("div",{id:`AV${d}`,className:L.player,style:{maxWidth:A+"px",height:D+"px"}})]})})},Mh={},Th=(e,t)=>(Mh[e]||(Mh[e]=[]),Mh[e].push(t),()=>{Mh[e]=Mh[e].filter((e=>e!==t))}),Ih=(e,t)=>{Mh[e]&&Mh[e].forEach((e=>e(t)))};let Ph=window.location.href;const Dh=new URLSearchParams(window.location.search).get("versus_ref");function Oh({shadowDom:e}){const[t,i]=To([]),[n,r]=To([]),[s,o]=To(""),[a,l]=To(0),[c,d]=To(!1),[u,p]=To(!1),[h,f]=To(!0),[v,m]=To(),[g,y]=To(void 0),[b,w]=To(""),[E,A]=To(0),[k,x]=To(!1),S=!(e=>{const[t,i]=To(!1);return Po((()=>{const t=window.matchMedia(e),n=e=>i(e.matches);return i(t.matches),t.addEventListener("change",n),()=>t.removeEventListener("change",n)}),[e]),t})("(min-width: 600px)")&&k,[L,C]=To({adsDisabled:!1,adsTargetingAllowed:!1,componentRules:[],frameBreak:!0,enableFallback:!1,enablePubmaticPrebid:!1,gameExperienceReady:!1,panel:"",position:"",width:0,height:0,wrapperClass:"",userId:"",sessionId:0,passiveComponentFlags:{},analyticsExperiments:[]}),M=Do(null),[T,I]=To(!1),[P,D]=To(!1),[O,N]=To(!1),j={updateWidgetHeight:e=>{y(e.height)},updateWrapperMaxWidth:e=>{w(e)},setDocked:x},[R,F]=To(),z=Do(null),U=Do(null),W=Do(),V=Do(),$=()=>{D(!0),Na&&console.log("***** Ready to load ads")};Po((()=>{if(!L.frameBreak||!L.gameExperienceReady||L.adsDisabled)return;if(L.enableOuterIframe||L.passiveComponentFlags?.instreamAds?.useFabrikAds||!!Da(Ph,"vs_outer_iframe_on")){(e=>{const t=e.contentWindow?.document;if(!t)return;_a=t;const i=e.contentWindow;i&&(ba=i,ba.adIDs=[],ba.adIDUpdateInProgress=!1,ba.adSlots={},ba.adSizes={},ba.updateAdIdsMutex=[],console.log("win",i,window,i===window))})(document.getElementById("versus-outer-iframe"))}const e=!!Da(Ph,"vs_bypass_magnite");N(e);const t=async()=>{if(L.passiveComponentFlags?.instreamAds?.useFabrikAds)return void $();if(L.passiveComponentFlags?.instreamAds?.useAditudeAds)return void ka($);const e=(t=Ph,tl.some((e=>t.includes(e)))&&!il.some((e=>t.includes(e))));var t;console.log("***** loadAmazonAUMScript",e);const i=(e=>nl.some((t=>e.includes(t))))(Ph);I(i),console.log("***** data.enablePubmaticPrebid",L.enablePubmaticPrebid);const{profileId:n}=(e=>{const t=Object.keys(Ka).find((t=>e.includes(t)));return Ka[t]||Ka[".onversus.com"]})(Ph);L.enablePubmaticPrebid?((e,t,i)=>{if(_a.getElementById(da))return;ba.PWT={},ba.PWT.jsLoaded=function(){ba.PWT.isLoaded=!0,console.log("***** PWT.jsLoaded"),i&&i()};const n=ba.location.href,r=`//ads.pubmatic.com/AdServer/js/pwt/${e}/${t}`;let s="";if(n.indexOf("pwtv=")>0){const e=/pwtv=(.*?)(&|$)/g.exec(n);e.length>=2&&e[1].length>0&&(s="/"+e[1])}const o=_a.createElement("script");o.async=!0,o.src=r+s+"/pwt.js",o.id=da,Aa(o),setTimeout((()=>{ba.PWT.isLoaded||(console.log("***** PWT.jsLoaded not called. Fallback to load GPT script"),ka(i))}),500)})(165436,n,(()=>{ka(e?void 0:$),La(),e&&p(Ca(i,$))})):(ka(e?void 0:$),La(),e&&p(Ca(i,$)))};(async()=>{try{return await fetch(ua,{method:"HEAD"}),!1}catch(e){return console.error("Ad blocker is probably active, request failed/blocked."),e}})().then((e=>{e?ol():t()}));const i=()=>{A(document.documentElement.scrollLeft)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}}),[L.gameExperienceReady]),Po((()=>{const e=Th("playerStateUpdate",(e=>{C(e),"TOP"===e.panel&&(i(e.componentRules),d(e.enableFallback)),"BOTTOM"===e.panel&&(r(e.componentRules),d(e.enableFallback)),o(e.userId),l(e.sessionId)}));return()=>e()}),[]),Po((()=>{const e=Th(ri.FRAMEBREAK,(e=>{const{type:t,source:i}=e;if(i===si.EMBED)switch(Na&&console.log(`Framebreak Controller (${i} - ${t}):`,e),t){case oi.PASSIVE_COMPONENTS_VISIBLE:e.hide?f(!1):f(!0),window.parent.postMessage({action:ri.FRAMEBREAK_VISIBILITY_CONSTANT,type:t,hide:e.hide},"*");break;case oi.MISCELLANEOUS:((e,t)=>{switch(e.typeAction){case ci.SPACER_SIZE_UPDATED:ll(ci.SPACER_SIZE_UPDATED),t.updateWidgetHeight(e.domRect);break;case ci.WIDGET_DOCKED:ll(ci.WIDGET_DOCKED),t.setDocked(!0);break;case ci.WIDGET_UNDOCKED:ll(ci.WIDGET_UNDOCKED),t.setDocked(!1);break;case ci.UPDATE_WRAPPER_MAX_WIDTH:ll(ci.UPDATE_WRAPPER_MAX_WIDTH),t.updateWrapperMaxWidth(e.wrapperMaxWidth)}})(e,j);break;case oi.VIDEO_PLAYER:if(e.typeAction===li.SET_VIDEO_PLAYER_PROPS){F(e.data);break}((e,t)=>{switch(e.typeAction){case li.AD_STARTED:break;case li.PLAY_AD:if(fl(`${li.PLAY_AD}`),!t)return;t.getElement().dispatchEvent(new CustomEvent("playad"))}})(e,v)}}));return()=>e()}),[v,L,k]),Po((()=>{if(z.current)return W.current=new ResizeObserver((e=>{for(const t of e){const{width:e,height:i}=t.contentRect;al(di.BOTTOM,{width:e,height:i})}})),W.current.observe(z.current),()=>W.current.disconnect();al(di.BOTTOM,{width:0,height:0})}),[L,z,z.current,h,S]),Po((()=>{if(U.current)return V.current=new ResizeObserver((e=>{for(const t of e){const{width:e,height:i}=t.contentRect;al(di.TOP,{width:e,height:i})}})),V.current.observe(U.current),()=>V.current.disconnect();al(di.TOP,{width:0,height:0})}),[L,U,U.current,h,S]);const H=Oo((()=>({referrer:Ph,adsTargetingAllowed:L.adsTargetingAllowed,enableAmazonUAM:u,enableMultiformatUAM:T,enableAutoRefresh:!0,enablePubmaticPrebid:L.enablePubmaticPrebid})),[u,T,L.enablePubmaticPrebid]),q=Oo((()=>({adsTargetingAllowed:L.adsTargetingAllowed,enableAmazonUAM:u,enableMultiformatUAM:T,enableAutoRefresh:!0,...L.passiveComponentFlags?.displayAds?.displayAdPassive1||{}})),[L.passiveComponentFlags?.displayAds?.displayAdPassive1,u,T,L.adsTargetingAllowed]),K=Oo((()=>({id:"displayAdActive",adsTargetingAllowed:L.adsTargetingAllowed,embedUrl:Ph,enableAmazonUAM:u,enableMultiformatUAM:T,enableAutoRefresh:!0,...L.passiveComponentFlags?.displayAds?.displayAdActive||{}})),[L.passiveComponentFlags?.displayAds?.displayAdActive,u,T,L.adsTargetingAllowed]);return B(_,{children:[B("style",{type:"text/css",children:'#versus-player,versus-widget{height:100%;position:relative;width:100%}#versus-player .op-controls{display:none!important}#versus-player *,#versus-player :after,#versus-player :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }#versus-player ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }#versus-player *,#versus-player :after,#versus-player :before{border:0 solid #e5e7eb;box-sizing:border-box}#versus-player :after,#versus-player :before{--tw-content:""}#versus-player :host,#versus-player html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}#versus-player body{line-height:inherit;margin:0}#versus-player hr{border-top-width:1px;color:inherit;height:0}#versus-player abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}#versus-player h1,#versus-player h2,#versus-player h3,#versus-player h4,#versus-player h5,#versus-player h6{font-size:inherit;font-weight:inherit}#versus-player a{color:inherit;text-decoration:inherit}#versus-player b,#versus-player strong{font-weight:bolder}#versus-player code,#versus-player kbd,#versus-player pre,#versus-player samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}#versus-player small{font-size:80%}#versus-player sub,#versus-player sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#versus-player sub{bottom:-.25em}#versus-player sup{top:-.5em}#versus-player table{border-collapse:collapse;border-color:inherit;text-indent:0}#versus-player button,#versus-player input,#versus-player optgroup,#versus-player select,#versus-player textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}#versus-player button,#versus-player select{text-transform:none}#versus-player button,#versus-player input:where([type=button]),#versus-player input:where([type=reset]),#versus-player input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}#versus-player :-moz-focusring{outline:auto}#versus-player :-moz-ui-invalid{box-shadow:none}#versus-player progress{vertical-align:baseline}#versus-player ::-webkit-inner-spin-button,#versus-player ::-webkit-outer-spin-button{height:auto}#versus-player [type=search]{-webkit-appearance:textfield;outline-offset:-2px}#versus-player ::-webkit-search-decoration{-webkit-appearance:none}#versus-player ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}#versus-player summary{display:list-item}#versus-player blockquote,#versus-player dd,#versus-player dl,#versus-player figure,#versus-player h1,#versus-player h2,#versus-player h3,#versus-player h4,#versus-player h5,#versus-player h6,#versus-player hr,#versus-player p,#versus-player pre{margin:0}#versus-player fieldset{margin:0;padding:0}#versus-player legend{padding:0}#versus-player menu,#versus-player ol,#versus-player ul{list-style:none;margin:0;padding:0}#versus-player dialog{padding:0}#versus-player textarea{resize:vertical}#versus-player input::-moz-placeholder,#versus-player textarea::-moz-placeholder{color:#9ca3af;opacity:1}#versus-player input::placeholder,#versus-player textarea::placeholder{color:#9ca3af;opacity:1}#versus-player [role=button],#versus-player button{cursor:pointer}#versus-player :disabled{cursor:default}#versus-player audio,#versus-player canvas,#versus-player embed,#versus-player iframe,#versus-player img,#versus-player object,#versus-player svg,#versus-player video{display:block;vertical-align:middle}#versus-player img,#versus-player video{height:auto;max-width:100%}#versus-player [hidden]{display:none}#versus-player .container{width:100%}@media (min-width:640px){#versus-player .container{max-width:640px}}@media (min-width:768px){#versus-player .container{max-width:768px}}@media (min-width:1024px){#versus-player .container{max-width:1024px}}@media (min-width:1280px){#versus-player .container{max-width:1280px}}@media (min-width:1536px){#versus-player .container{max-width:1536px}}#versus-player .pointer-events-auto{pointer-events:auto}#versus-player .visible{visibility:visible}#versus-player .fixed{position:fixed}#versus-player .absolute{position:absolute}#versus-player .relative{position:relative}#versus-player .inset-0{inset:0}#versus-player .bottom-0{bottom:0}#versus-player .left-0{left:0}#versus-player .top-0{top:0}#versus-player .z-10{z-index:10}#versus-player .z-\\[2\\]{z-index:2}#versus-player .m-4{margin:1rem}#versus-player .mx-auto{margin-left:auto;margin-right:auto}#versus-player .block{display:block}#versus-player .inline{display:inline}#versus-player .flex{display:flex}#versus-player .inline-flex{display:inline-flex}#versus-player .table{display:table}#versus-player .hidden{display:none}#versus-player .aspect-\\[16\\/9\\]{aspect-ratio:16/9}#versus-player .h-0{height:0}#versus-player .h-6{height:1.5rem}#versus-player .h-7{height:1.75rem}#versus-player .h-auto{height:auto}#versus-player .h-full{height:100%}#versus-player .w-6{width:1.5rem}#versus-player .w-7{width:1.75rem}#versus-player .w-full{width:100%}#versus-player .max-w-\\[800px\\]{max-width:800px}#versus-player .max-w-full{max-width:100%}#versus-player .transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#versus-player .cursor-pointer{cursor:pointer}#versus-player .resize{resize:both}#versus-player .\\!flex-row{flex-direction:row!important}#versus-player .flex-col{flex-direction:column}#versus-player .\\!items-start{align-items:flex-start!important}#versus-player .items-center{align-items:center}#versus-player .justify-center{justify-content:center}#versus-player .gap-3{gap:.75rem}#versus-player .overflow-hidden{overflow:hidden}#versus-player .rounded-full{border-radius:9999px}#versus-player .rounded-lg{border-radius:.5rem}#versus-player .rounded-xl{border-radius:.75rem}#versus-player .border{border-width:1px}#versus-player .bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}#versus-player .bg-contain{background-size:contain}#versus-player .\\!object-cover{-o-object-fit:cover!important;object-fit:cover!important}#versus-player .px-3{padding-left:.75rem;padding-right:.75rem}#versus-player .pb-2{padding-bottom:.5rem}#versus-player .text-center{text-align:center}#versus-player .text-\\[10px\\]{font-size:10px}#versus-player .font-semibold{font-weight:600}#versus-player .uppercase{text-transform:uppercase}#versus-player .tracking-widest{letter-spacing:.1em}#versus-player .text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}#versus-player .opacity-0{opacity:0}#versus-player .shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}#versus-player .drop-shadow-\\[0_1px_3px_rgba\\(0\\2c 0\\2c 0\\2c 0\\.3\\)\\]{--tw-drop-shadow:drop-shadow(0 1px 3px rgba(0,0,0,.3))}#versus-player .drop-shadow-\\[0_1px_3px_rgba\\(0\\2c 0\\2c 0\\2c 0\\.3\\)\\],#versus-player .filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}#versus-player .transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}#versus-player .transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}#versus-player .duration-\\[0\\.4s\\]{transition-duration:.4s}#versus-player .ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}#versus-player html{font-size:16px}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}'}),B("div",{id:"framebreak-container",ref:M,className:"w-full relative flex flex-col items-center justify-center",style:{...S?{zIndex:2147483647,position:"fixed",top:0,left:0,width:"100%"}:{},textAlign:"center"},children:B("div",{id:"framebreak-wrapper",style:{position:"relative",width:"100%",maxWidth:b||"100%"},children:[R&&B(wh,{...R,absolutePosition:{...R.absolutePosition,y:S?0:R.absolutePosition.y-(g||0)-5,x:R.absolutePosition.x+E},setPlayer:m,amazonUAMEnabled:u,displayAdMode:L.passiveComponentFlags.instreamAds?.displayAdMode,activeDisplayAdConfig:K,adTagProps:{...R.adTagProps,adsTargetingAllowed:L.adsTargetingAllowed},useFabrikAds:L.passiveComponentFlags?.instreamAds?.useFabrikAds}),h&&!S&&B(_,{children:["TOP"===L.panel&&B("div",{id:`passive_${L.panel}`,ref:U,className:"absolute z-10 top-0 left-0 w-full",children:P&&t.map((t=>{switch(t.componentName){case"MagniteAdPlayer":return B(kh,{referrer:Ph,shadowDom:e,enableFallback:c,userId:s,sessionId:a,magniteAdPlayerSize:L.passiveComponentFlags?.magnite?.size,showDisclosure:L.passiveComponentFlags?.magnite?.showDisclosure,displayAdConfig:q,displayAdManagerConfig:H});case"PassiveAdAniview":return B(Ch,{referrer:Ph,shadowDom:e,enableFallback:c,userId:s,sessionId:a,aniviewAdSize:L.passiveComponentFlags?.aniview?.size,showDisclosure:L.passiveComponentFlags?.aniview?.showDisclosure,displayAdConfig:q,displayAdManagerConfig:H});case"DisplayAdsManager":return B(El,{classOverride:"!flex-row !items-start justify-center w-full max-w-[800px] mx-auto px-3",referrer:Ph,...H,children:B(wl,{id:"displayAdPassive1",adPlayerType:Ba.GOOGLE_IMA,embedUrl:Ph,className:"max-w-full",grouped:!0,...q})});case"FabrikAdPlayer":return B(Il,{id:"displayAdPassive1",enableFallback:!1,referrer:Ph,showDisclosure:!1});default:return null}}))}),"BOTTOM"===L.panel&&B("div",{id:`passive_${L.panel}`,ref:z,className:"absolute z-10 bottom-0 left-0 w-full",children:P&&n.map((t=>{switch(t.componentName){case"MagniteAdPlayer":return B(kh,{referrer:Ph,shadowDom:e,enableFallback:c,userId:s,sessionId:a,magniteAdPlayerSize:L.passiveComponentFlags?.magnite?.size,showDisclosure:L.passiveComponentFlags?.magnite?.showDisclosure,displayAdConfig:q,displayAdManagerConfig:H,bypassMagnite:O});case"PassiveAdAniview":return B(Ch,{referrer:Ph,shadowDom:e,enableFallback:c,userId:s,sessionId:a,aniviewAdSize:L.passiveComponentFlags?.aniview?.size,showDisclosure:L.passiveComponentFlags?.aniview?.showDisclosure,displayAdConfig:q,displayAdManagerConfig:H});case"DisplayAdsManager":return B(El,{classOverride:"!flex-row !items-start justify-center w-full max-w-[800px] mx-auto px-3",referrer:Ph,...H,children:B(wl,{id:"displayAdPassive1",adPlayerType:Ba.GOOGLE_IMA,embedUrl:Ph,className:"max-w-full",grouped:!0,...q})});case"FabrikAdPlayer":return B(Il,{id:"displayAdPassive1",referrer:Ph});case"AditudeAdPlayer":return B(bl,{id:"displayAdPassive1",referrer:Ph,adsTargetingAllowed:L.adsTargetingAllowed,outstreamVideoMode:L.passiveComponentFlags?.aditude?.outstreamVideoMode,showDisclosure:L.passiveComponentFlags?.aditude?.showDisclosure});default:return null}}))})]})]})})]})}Dh&&(Ph=Dh);class Nh{name="add-widget-id";type=Ei.ENRICHMENT;widgetId="";embedUrl="";embedHost="";partnerName="";lastEventBucket=0;eventsCount=0;disabled=!1;async setup(){return await Promise.resolve()}async execute(e){if(this.disabled)return await Promise.reject(new Error("reached maximum amplitude events count"));const t=Math.floor(Date.now().valueOf()/1e4);return this.lastEventBucket!==t&&(this.eventsCount=0,this.lastEventBucket=t),this.eventsCount++,this.eventsCount>=50?(this.disabled=!0,await Promise.reject(new Error("reached maximum amplitude events count"))):("$exposure"===e.event_type||("Widget Loaded"!==e.event_type&&"Widget Viewed"!==e.event_type&&(e.event_properties={...e.event_properties,widget_id:this.widgetId}),e.event_properties={...e.event_properties,embed_url:this.embedUrl,embed_hostname:this.embedHost,partner_name:this.partnerName}),e)}}class jh{element;firstScrollIntoView=!1;hasScrolledIntoViewOnce=!1;coverPercentage;throttledScrollHandler;clickScrollHandler;constructor(e,t){const i=document.getElementById(e);if(!i)throw new Error(`Element with ID ${e} not found`);this.element=i,this.coverPercentage=t||50,this.throttledScrollHandler=this.throttle(this.onScroll.bind(this),100),this.clickScrollHandler=this.throttle(this.scrollToOnClick.bind(this),500),this.init()}init(){window.addEventListener("scroll",this.throttledScrollHandler)}isElementInView(){const e=this.element.getBoundingClientRect(),{top:t,bottom:i,height:n}=e;if(i<=0||t>=window.innerHeight)return!1;const r=Math.max(t,0);return(Math.min(i,window.innerHeight)-r)/n*100>=this.coverPercentage}scrollToElement(){this.element.scrollIntoView({behavior:"smooth",block:"end"})}onScroll(){this.isElementInView()&&(this.firstScrollIntoView?this.hasScrolledIntoViewOnce||(this.scrollToElement(),this.hasScrolledIntoViewOnce=!0):(this.scrollToElement(),this.firstScrollIntoView=!0))}scrollToOnClick(){this.firstScrollIntoView=!1,this.onScroll()}throttle(e,t){let i=0;return()=>{const n=Date.now();n-i>=t&&(i=n,e())}}scrollToNow(){this.clickScrollHandler()}destroy(){window.removeEventListener("scroll",this.throttledScrollHandler)}}(e=>{const t="https://minigames.versusgame.com/",i="https://amp-api.instagame.com/2/httpapi",n=window.location.href||"",r=window.location.origin+window.location.pathname||"",s=new URL(location.href),o=n.includes("localhost:1234")||n.includes("embed:1234")||n.includes("minigames.stage.versusgame.com")||n.includes("integration.versusgame.com"),a=!("bing"===s.searchParams?.get("flavour")||s.pathname.startsWith("/custom/bing")),l=o||["polygon.onversus.com","skittles.onversus.com","timryan.onversus.com","espngames.onversus.com"].some((e=>n.includes(e))),c=!ni.some((e=>n.includes(e))),d=["hungergames.movie","hybridstudio.com"].some((e=>n.includes(e))),u="1"===H("versus_no_ampli_relay")||["localhost"].some((e=>n.includes(e)));let p=!1,h=!1,f=!1,v=!1,m=0,g=0,y=!1,_=0,b=!1,w=!1,E=null;const A=[];let k=null,x=[];const S=new Map;let L=["spin.com","ufc.com"].some((e=>{return r.includes(e)||(t=n,pi(t,"versus_ref")).includes(e);var t}))||pi(n,"vs_outer_iframe_on");const C=[],M=[],T=new Map,I=[],P=new Nh,D="width: 800px;\n      height: 278px;\n      max-width: 100%;\n      aspect-ratio: 1.437158469945355;\n      max-height: 576px;\n      border: none;\n      border-radius: 0px;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      inset: 0;\n      transition: ease-out height 0.4s;",O="width: 301px;\n      height: 304px;\n      border: none;\n      border-radius: 0px;\n      margin:0;\n      padding:0;\n      overflow:hidden;\n      inset: 0;",N=c?"width: 100%;\n      max-width: 800px;\n      min-width: 600px;\n      height: 100%;\n      aspect-ratio: 800/600;\n      border: none;\n      border-radius: 0px;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      inset: 0;\n      transition: ease-out height 0.4s;":"width: 800px;\n      max-width: 100%;\n      height: 100%;\n      aspect-ratio: 1.437158469945355;\n      border: none;\n      border-radius: 0px;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      inset: 0;\n      transition: ease-out height 0.4s;",j=c?"width: 100%;\n      height: 100vh;\n      min-height: 574px;\n      max-height: 200vh;\n      border: none;\n      border-radius: 0px;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      inset: 0;":"width: 100%;\n      height: 100vh;\n      min-height: 574px;\n      max-height: 645px\n      border: none;\n      border-radius: 0px;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      inset: 0;";let R,F="",U="",V="";function $(e){const t=window.location.search.substring(1).split("&");for(let i=0;i<t.length;i++){const n=t[i].split("=");if(decodeURIComponent(n[0])===e)return!0}return!1}function H(e){const t=window.location.search.substring(1).split("&");for(let i=0;i<t.length;i++){const n=t[i].split("=");if(decodeURIComponent(n[0])===e)return decodeURIComponent(n[1])}return""}!function(e){e.LEFT="LEFT",e.RIGHT="RIGHT",e.BACKGROUND="BACKGROUND"}(R||(R={}));const q=()=>{if(null!==k&&null!==k.contentWindow)for(;A.length>0;){const e=A.shift();k.contentWindow.postMessage(e,"*")}},K=e=>{A.push(e),p&&q()},G=(e,i,n,r,s,o,a,l)=>{let c="";try{""!==window.location.href&&void 0!==window.location.href&&null!==window.location.href||console.error("empty window location href",window.location);const d=["versus_"],u={widgetType:e,ref:"max"===n?"https://app.max.com":"max_full"===n?"https://app_full.max.com":function(e,t){try{const i=new URL(e),n=new URLSearchParams(i.search),r=[];return n.forEach(((e,i)=>{t.some((e=>i.includes(e)))&&r.push(`${i}=${e}`)})),r.length>0?i.search="?"+r.join("&"):i.search="",i.toString()}catch(e){return""}}(window.location.href||"",d),widgetId:i,flavour:n,targetUrl:""!==r?r:`/widget/${i}/game`,analyticsExperiments:s,analyticsExperimentsPayloads:o,analyticsSessionId:a,analyticsDeviceId:l},p=JSON.stringify(u);c=t+"go/"+function(e){const t=(new TextEncoder).encode(e);let i="";return t.forEach((e=>{i+=String.fromCharCode(e)})),btoa(i)}(p).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){console.error(e),c=t+"go/"}return c};const Z=e=>{x.forEach((t=>{const i=function(e,t){const i=[],n=document.evaluate(e,t??document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0,t=n.snapshotLength;e<t;++e)n.snapshotItem(e)?.nodeType===Node.ELEMENT_NODE&&i.push(n.snapshotItem(e));return i}(t,document.body);0!==i.length&&i.forEach((t=>{e?(S.set(t,t.style.display),t.style.display="none"):t.style.display=S.get(t)??""}))})),e||S.clear()},Y=e=>{if(document.documentElement.classList.contains("versus-prevent-scroll"))return;void 0!==e&&(e=>{const t=T.get(e);void 0!==t&&(I.push({element:t,transform:t.style?.transform}),t.style.transform="unset");let i=T.get(e)??null;for(;null!==i;)i=i.parentElement,null===i||""===i.style?.transform&&!d||(I.push({element:i,transform:i?.style?.transform}),i.style.transform="unset")})(e),Z(!0),window.postMessage("vs_dock","*");const t=window.scrollY;F=document.body.style.position,V=document.body.style.paddingRight,U=document.body.style.top,document.documentElement.classList.add("versus-prevent-scroll"),document.body.classList.add("versus-prevent-scroll"),document.body.style.position="fixed !important",document.body.style.top=`-${t}px`,document.body.style.paddingRight="15px"},Q=()=>{if(!document.documentElement.classList.contains("versus-prevent-scroll"))return;I.forEach((e=>{e.element.style.transform=e.transform})),I.length=0,Z(!1),window.postMessage("vs_undock","*"),document.documentElement.classList.remove("versus-prevent-scroll"),document.body.classList.remove("versus-prevent-scroll");const e=document.body.style.top??"0";document.body.style.position=F,document.body.style.top=U,document.body.style.paddingRight=V,window.scrollTo(0,-1*parseInt(e))},J=(e,t,i,n)=>{const r=y?600:500,s=window.matchMedia("(min-width: 800px)"),o=window.matchMedia(`(min-width: ${r}px)`);"expanding"===t?s.matches||o.matches?("fixed"===e.style.position&&(Q(),e.style.position="relative"),e.style.cssText=`${D} ${i}`):e.style.cssText=`${O} ${n}`:"inline"===t||"docked"===t?s.matches||o.matches?(Q(),e.style.position="relative",e.style.cssText=`${N} ${i}`):e.style.cssText=`${j} ${n}`:"mobile-expanding"===t&&(s.matches||o.matches?(Q(),e.style.position="relative",e.style.cssText=`${N} ${i}`):e.style.cssText=`${O} ${n}`)},X=(e,t)=>t?"100%"===e.style.height:"fixed"===e.style.position,ee=e=>{const t=y?600:500;window.matchMedia(`(min-width: ${t}px)`).matches||(Y(e),e.style.transform="unset",e.style.position="fixed",e.style.inset="0",e.style.bottom="0",e.style.width="100%",e.style.height="100%",e.style.border="0",e.style.margin="0",e.style.padding="0",e.style.zIndex="2147483648")},te=(e,t)=>{switch(t){case R.LEFT:ne(e);break;case R.RIGHT:re(e);break;case R.BACKGROUND:default:ie(e)}},ie=e=>{e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.width="100%",e.style.height="100%",e.style.border="0",e.style.margin="0",e.style.padding="10px",e.style.zIndex="2147483648",e.style.background="linear-gradient(130deg, rgba(255,255,255, 0.9) 52.83%, rgba(53, 25, 129, 0.3) 100%)",e.style.borderRadius="12px",e.classList.add("vs-maximized-background")},ne=e=>{e.style.position="fixed",e.style.top="50%",e.style.left="0",e.style.right="auto",e.style.transform="translate(0, -50%)",e.style.width="50%",e.style.maxWidth="600px",e.style.height="100%",e.style.border="0",e.style.margin="0",e.style.padding="10px",e.style.zIndex="2147483648",e.style.background="linear-gradient(130deg, rgba(255,255,255, 0.9) 52.83%, rgba(53, 25, 129, 0.3) 100%)",e.style.borderRadius="0 12px 12px 0",e.classList.add("vs-maximized-left")},re=e=>{e.style.position="fixed",e.style.top="50%",e.style.right="0",e.style.left="auto",e.style.transform="translate(0, -50%)",e.style.width="50%",e.style.maxWidth="600px",e.style.height="100%",e.style.border="0",e.style.margin="0",e.style.padding="10px",e.style.zIndex="2147483648",e.style.background="linear-gradient(130deg, rgba(255,255,255, 0.9) 52.83%, rgba(53, 25, 129, 0.3) 100%)",e.style.borderRadius="12px 0 0 12px",e.classList.add("vs-maximized-right")},se=(e,t)=>{null!==e&&0!==t&&(e.style.height=`${t}px`,m=t)},oe=(e,t)=>{null!==e&&0!==t&&(e.style.width=`${t}px`,e.style.maxWidth=y&&_>0?`${_}px`:`${t}px`,g=t)},ae=(e,t,i=!0)=>{const n=e.getAttribute(t);return i?n?.toLowerCase()??"":n??""},le=e=>{if(v)return;window.addEventListener("message",(t=>{if("object"!=typeof t.data)return;const i=t.data?.widget_id??"",n=window.location.hostname.endsWith("nfl.onversus.com")||window.location.hostname.endsWith("azteca.onversus.com")||window.location.hostname.endsWith("azteca.stage.onversus.com")?"docked":t.data.widget_type;switch(t.data.action){case"vs_widget_load":return K({action:"widget_load",widget_id:t.data.widget_id,widget_type:n,partner_name:t.data.partner_name,url:encodeURIComponent(window.location.href)}),void(P.partnerName=t.data.partner_name);case"vs_lightbox_load":return p||(p=!0),q();case"vs_set_x_data":{const e=M[0];if(void 0!==e){const i=e.getAttribute("x-data");try{const e=JSON.parse(i);K({action:"set_custom_data",widget_id:t.data.widget_id,xData:e})}catch(e){const i=JSON.parse('{"assets": [], "relatedAssetsToUse": []}');K({action:"set_custom_data",widget_id:t.data.widget_id,xData:i})}}return q()}case"vs_set_x_link":if(void 0!==M[0]){const e=(e=>{const t={linkUrl:"",imageUrl:""},i=document.querySelector(`div[class*="${e}"]`);if(!i)return t;const n=i.querySelector('div[role="img"]');if(!n)return t;const r=n.querySelector("a");r&&(t.linkUrl=r.href);const s=n.querySelector("img");return s&&(t.imageUrl=s.src),t})("gridContainer-root");K({action:"set_custom_link",widget_id:t.data.widget_id,xLink:e})}return q();case"vs_get_consent_data":return(e=>{const t={essential:!0,performance:!1,functional:!1,targeting:!1},i=t=>{K({action:"vs_set_consent_data",widget_id:e.data.widget_id,data:t})};if(window.OneTrust){const e=(window.OnetrustActiveGroups||"").split(",");t.essential=e.includes("C0001")||e.includes("1"),t.performance=e.includes("C0002")||e.includes("2"),t.functional=e.includes("C0003")||e.includes("3"),t.targeting=e.includes("C0004")||e.includes("4");const n=e=>{const t={essential:e.detail.includes("C0001")||e.detail.includes("1"),performance:e.detail.includes("C0002")||e.detail.includes("2"),functional:e.detail.includes("C0003")||e.detail.includes("3"),targeting:e.detail.includes("C0004")||e.detail.includes("4")};i(t)};window.OneTrust?.OnConsentChanged?.(n)}i(t)})(t);case"vs_change_parent_link":return((e,t)=>{if(null!==e)try{window.parent.location.href=t}catch(e){console.error("Link could not be opened",e)}})(t.source,t.data.link);case"vs_dock_player":return void(null!==(r=t.source)&&M.forEach(((e,t)=>{if((e.contentWindow??e?.contentDocument?.defaultView)!==r&&(!L||C[t]?.contentWindow!==r))return;const i=y?600:500,n=window.matchMedia(`(min-width: ${i}px)`);if(X(e,n.matches))return;const s=e.getAttribute("x-type");if(null===s)return;const o=s.toLowerCase();"expanding"!==o&&"mobile-expanding"!==o||!n.matches?(ee(e),L&&ee(C[t])):e.style.height="100%",Ih(ri.FRAMEBREAK,{type:oi.MISCELLANEOUS,typeAction:ci.WIDGET_DOCKED,source:si.EMBED})})));case"vs_undock_player":return void M.forEach(((e,t)=>{const i=ae(e,"x-type");if(""===i)return;const n=ae(e,"x-style"),r=ae(e,"x-style-mobile");"max"===ae(e,"x-flavour")?brazeBridge?.closeMessage():"inline"!==i&&"expanding"!==i&&"mobile-expanding"!==i||"fixed"!==e.style.position||(Q(),J(e,i,n,r),L&&J(C[t],i,n,r)),Ih(ri.FRAMEBREAK,{type:oi.MISCELLANEOUS,typeAction:ci.WIDGET_UNDOCKED,source:si.EMBED})}));case"vs_maximize_player":return((e,t=R.BACKGROUND)=>{null!==e&&M.forEach((i=>{if((i.contentWindow??i?.contentDocument?.defaultView)!==e)return;const n=i.getAttribute("x-type");if(null===n)return;const r=document.createElement("div");r.id="vs-iframe-placeholder",r.style.width=`${i.offsetWidth}px`,r.style.height=`${i.offsetHeight}px`,r.style.background="linear-gradient(228deg, rgb(0 0 0) 52.83%, rgb(53 25 129) 100%)",r.style.borderRadius="12px",i.parentNode?.insertBefore(r,i);const s=n.toLowerCase();"expanding"===s||"mobile-expanding"===s?i.style.height="100%":te(i,t)}))})(t.source,t.data.position);case"vs_minimize_player":return(e=>{null!==e&&M.forEach((t=>{if((t.contentWindow??t?.contentDocument?.defaultView)!==e)return;const i=t.getAttribute("x-type");if(null===i)return;const n=t.parentNode?.querySelector("#vs-iframe-placeholder");n?.parentNode?.removeChild(n);const r=i.toLowerCase();if("expanding"===r||"mobile-expanding"===r)t.style.height="100%";else{t.className="";const e=ae(t,"x-style"),i=ae(t,"x-style-mobile");J(t,r,e,i)}Q()}))})(t.source);case"vs_open_lightbox":return((e,t,i)=>{null!==k&&K({action:"browse_game",widget_id:e,game_id:t.toString(),widget_type:i})})(t.data.widget_id,t.data.game_id,t.data.widget_type);case"vs_load_widgetid":{const r=function(e,t){let i=H("versus_to");return""===i?"":(""!==t&&(i+=`${i.includes("?")?"&":"?"}widgetType=${t}`),""!==e&&(i+=`${i.includes("?")?"&":"?"}flavour=${e}`),i)}(e,n),s=`/widget/${i}/game?widgetType=${n}${""!==e?`&flavour=${e}`:""}`;return((e,t,i)=>{null!==k&&K({action:"init_widget",widget_id:e,widget_type:t,deep_link:i,url:encodeURIComponent(window.location.href)})})(t.data.widget_id,t.data.widget_type,""!==r?r:s)}case"vs_set_games":M.forEach((e=>{e.getAttribute("x-id")===t.data.widget_id&&null!==e?.contentWindow&&e.contentWindow.postMessage(t.data,"*")}));break;case"vs_widget_resize_height":return((e,t)=>{null!==e&&M.forEach(((i,n)=>{if((i.contentWindow??i?.contentDocument?.defaultView)!==e&&(!L||C[n]?.contentWindow!==e))return;const r=y?600:500,s=window.matchMedia(`(min-width: ${r}px)`);!s.matches&&X(i,s.matches)||(se(i,t),L&&se(C[n],t))}))})(t.source,t.data.height);case"vs_widget_resize_width":return((e,t)=>{null!==e&&M.forEach(((i,n)=>{if((i.contentWindow??i?.contentDocument?.defaultView)!==e&&(!L||C[n]?.contentWindow!==e))return;const r=y?600:500,s=window.matchMedia(`(min-width: ${r}px)`);!s.matches&&X(i,s.matches)||(oe(i,t),L&&oe(C[n],t))}))})(t.source,t.data.width);case"vs_widget_full_width":return((e,t,i,n)=>{null!==e&&M.forEach(((r,s)=>{((r.contentWindow??r?.contentDocument?.defaultView)===e||L&&C[s]?.contentWindow===e)&&(y=t,_=i,b=n,y&&(r.style.width="100%",r.style.maxWidth="100%",L&&(C[s].style.width="100%",C[s].style.maxWidth="100%"),_>0&&(r.style.maxWidth=`${_}px`,L&&(C[s].style.maxWidth=`${_}px`),Ih(ri.FRAMEBREAK,{type:oi.MISCELLANEOUS,typeAction:ci.UPDATE_WRAPPER_MAX_WIDTH,source:si.EMBED,wrapperMaxWidth:`${_}px`})),b&&(r.style.minWidth="0px",r.style.minHeight="0px",L&&(C[s].style.minWidth="0px",C[s].style.minHeight="0px"))))}))})(t.source,t.data.fullWidth,t.data.setMaxWidth,t.data.noMinWidth);case"vs_framebreak_state":Ih("playerStateUpdate",t.data.data);break;case"vs_framebreak_visibility":w=t.data.hide;break;case"vs_framebreak":de(t);break;case"vs_logout":vo.client.reset();break;case"vs_feature_flags":ce(t);break;case"vs_game_answer":E&&E.scrollToNow()}var r})),v=!0},ce=e=>{e&&e.data&&e.data.feature_flags&&e.data.feature_flags?.enableAutoScrollWidget&&(E=new jh("versus-module",50))},de=e=>{if(e.data.type!==oi.ANALYTICS)e.data.source===si.EMBED?Ih(ri.FRAMEBREAK,e.data):e.data.source===si.WIDGET&&K({action:"vs_framebreak_controller",source:e.data.source,type:e.data.type,widget_id:e.data.widget_id,data:e.data.data});else{const t=e.data.data;if("function"==typeof vo[t.type]){if("identify"===e.data.typeAction){const e={...t.data??{},referring_domain:window.location.hostname};return void vo.identify(t.data.userId,e)}vo[t.type].call(vo,t.data)}}},ue=(e,t,i)=>{if(h)return;h=!0,($("versus_to")||$("versus_invite"))&&i?.scrollIntoView();const n=H("versus_to");""!==n&&((e,t,i)=>{null!==k&&K({action:"browse_deeplink",widget_id:e,widget_type:t,deep_link:i})})(e,t,n)},pe=(e=!0)=>{let t=!1,i=null;const n={serverUrl:"https://amp-api-lab.instagame.com",flagsServerUrl:"https://amp-flag-lab.instagame.com"};return e?async function(){if(t||(i=Ot("client-ts4HjtFTPbnIbdlOelAZgX5xvB8NkV4a",n),t=!0),i)return await i.start(),await i.fetch();console.warn("Experiment client not initialized.")}():Promise.resolve(null)},he=(e=!0)=>e?async function(){vo.load({environment:"production",client:{configuration:{logLevel:W.Error,...i&&!u&&{serverUrl:i}}}}),P.embedUrl=r,P.embedHost=window.location.hostname,vo.client.add(P),vo.identify(void 0,{channel:"minigames",referring_domain:window.location.hostname})}():Promise.resolve(null),fe=(e,i,n)=>{if(0!==e.children.length)return;const r=ae(e,"x-id").trim();P.widgetId=r,(window.location.hostname.endsWith("shadowandact.com")||window.location.hostname.endsWith("iheart.com"))&&e.setAttribute("x-type","inline"),(window.location.hostname.endsWith("theroyalobserver.com")||window.location.hostname.endsWith("okmagazine.com")||window.location.hostname.endsWith("radaronline.com"))&&e.setAttribute("x-type","expanding"),"playlist"===ae(e,"x-type")&&e.setAttribute("x-type","inline"),"sidebar"!==ae(e,"x-type")&&"carousel"!==ae(e,"x-type")||e.setAttribute("x-type","inline");const s=ae(e,"x-type");if(""===s)return void console.error("missing type attribute");const o=ae(e,"x-style"),c=ae(e,"x-style-mobile"),d=ae(e,"x-dock-toggle-xpath"),u=ae(e,"x-data",!1);if(""!==d)try{const e=JSON.parse(d);Array.isArray(e)&&(x=e)}catch{}const p=ae(e,"x-flavour"),h=ae(e,"x-url",!1);let v=[],E=[];if(l){const e=H("versus_variants")?.split(",");e.length>0&&e.forEach((e=>{v.push(e)}))}if(n&&a){const e=n.all()||{},t=Object.keys(e).reduce(((e,t)=>{const i=n?.variant(t);return i&&i.value&&e.push(i.value),e}),[]);t.length&&(v=t,t.forEach((e=>{v.push(e)})),E=t.map((e=>n.variant(e).payload)))}const A=vo.client.getSessionId()||0,S=vo.client.getDeviceId()||"";v.includes("outer-iframe-enabled")&&(L=!0);let I="",D="",O="",N="";if("inline"!==s&&"docked"!==s&&"expanding"!==s&&"mobile-expanding"!==s){if(I=ae(e,"x-min-height"),""===I)return void console.error("missing min-height attribute");if(D=ae(e,"x-max-height"),""===D)return void console.error("missing max-height attribute");if(O=ae(e,"x-min-width"),""===O)return void console.error("missing min-width attribute");if(N=ae(e,"x-max-width"),""===N)return void console.error("missing max-width attribute")}(()=>{if(f)return;f=!0;const e=document.createElement("style");e.innerHTML=".versus-prevent-scroll {\n          touch-action: none;\n          overscroll-behavior: none;\n          -webkit-overflow-scrolling: auto;\n          overflow: hidden !important;\n        }",document.getElementsByTagName("head")[0].appendChild(e)})();const j=((e,i,n,s,o)=>{const a=document.createElement("iframe");J(a,e,i,n);const l=()=>{const t=y?600:500,s=window.matchMedia(`(min-width: ${t}px)`);K({action:"vs_window_resize",widget_id:r,isParentDesktop:s.matches});const o=X(a,s.matches),l=(e=>{const t=e.parentNode?.querySelector("#vs-iframe-placeholder");return null!==t&&"fixed"===e.style.position})(a);if(J(a,e,i,n),o&&ee(a),m>0&&!o&&se(a,m),g>0&&!o&&oe(a,g),y&&(a.style.width="100%",a.style.maxWidth="100%",_>0&&(a.style.maxWidth=`${_}px`),b&&(a.style.minWidth="0px",a.style.minHeight="0px")),l){const e=(e=>{switch(e.className){case"vs-maximized-background":default:return R.BACKGROUND;case"vs-maximized-left":return R.LEFT;case"vs-maximized-right":return R.RIGHT}})(a);te(a,e)}},c=G(e,r,p,h,o,E,A,S);"expanding"===e||"mobile-expanding"===e?(window.addEventListener("resize",l),a.addEventListener("mouseenter",(()=>{((e,t)=>{const i=y?600:500,n=window.matchMedia(`(min-width: ${i}px)`);"expanding"!==t&&"mobile-expanding"!==t||!n.matches||(e.style.height="100%")})(a,e)}))):"inline"!==e&&"docked"!==e||window.addEventListener("resize",l);const d=y?600:500,u=window.matchMedia(`(min-width: ${d}px)`);K({action:"vs_window_resize",widget_id:r,isParentDesktop:u.matches});return window.addEventListener("click",(e=>{const t=e.target;t instanceof Element&&!a.contains(t)&&w&&K({action:"vs_screen_inactive",widget_id:r})})),a.src=`${c}`,a.allow=`clipboard-write ${t}; screen-wake-lock ${t}; cross-origin-isolated; web-share;`,a.setAttribute("x-id",r),a.setAttribute("x-type",e),a.setAttribute("x-style",i),a.setAttribute("x-flavour",p),a.setAttribute("x-style-mobile",n),a.setAttribute("x-data",s),a.setAttribute("referrerpolicy","no-referrer-when-downgrade"),a})(s,o,c,u,v);le(p),null===k&&(k=j);const F=document.createElement("div");F.id="versus";const U=document.createElement("div");U.id="versus-widget";const W=document.createElement("div");if(W.id="versus-player",null!=i){const e=i.host;i.appendChild(F).appendChild(U).appendChild(j);const t=document.createElement("div");if(t.id="versus-module",e.parentElement?.insertBefore(t,e),L){const i=ve(e,W,j,t);C.push(i)}else t.appendChild(e),t.appendChild(W)}else{const t=e.appendChild(F);t.appendChild(U).appendChild(j),t.appendChild(W)}z(B(Oh,{shadowDom:i}),W),M.push(j),T.set(j,e),"docked"===s&&ee(j),ue(r,s,e)},ve=(e,t,i,n)=>{const r=document.createElement("iframe");r.id="versus-outer-iframe",r.style.cssText=i.style.cssText,r.allow="fullscreen";return r.srcdoc=`\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <style>\n          html, body {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            height: 100%;\n          }\n          #root-container {\n            position: relative;\n            width: 100%;\n            height: 100%;\n          }\n        </style>\n      </head>\n      <body>\n        <div id="root-container"></div>\n        <script>\n          ${"("+(()=>{window.addEventListener("message",(e=>{const t=["vs_embed","vs_widget"];if(e.data){if(!t.includes(e.data.source))return;parent.postMessage(e.data,"*")}}))})+")()"}\n        <\/script>\n      </body>\n      </html>\n    `,n.appendChild(r),r.onload=()=>{const i=r.contentDocument;if(!i)return void console.error("Outer iframe document is not accessible.");const n=i.getElementById("root-container");n?(n.appendChild(e),n.appendChild(t)):console.error("Root container not found inside outer iframe.")},r},me=()=>{const e=document.querySelectorAll(".versus-widget-frame");for(let t=0;t<e.length;t++)e[t].innerHTML="",fe(e[t])};class ge extends HTMLElement{isConnectedCallbackComplete;constructor(){super(),this.isConnectedCallbackComplete=!1,this.innerHTML="",this.attachShadow({mode:"open"})}connectedCallback(){this.isConnectedCallbackComplete||(this.isConnectedCallbackComplete=!0,Promise.allSettled([he(),pe()]).then((e=>{const t=e[1];let i;"fulfilled"===t.status&&(i=t.value),fe(this,this.shadowRoot,i)})).catch((e=>{console.error("Error during connectedCallback:",e)})))}}void 0===customElements.get("versus-widget")&&customElements.define("versus-widget",ge),document.addEventListener("DOMContentLoaded",me),me(),e.versusWrapDivTags=me})(window)})()})();